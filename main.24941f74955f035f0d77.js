(()=>{"use strict";var e,t,n,a={38531:(e,t,n)=>{var a,o;n.d(t,{FH:()=>r});const r=Boolean(null===(a=self)||void 0===a||null===(a=a.chrome)||void 0===a||null===(a=a.runtime)||void 0===a?void 0:a.id);Boolean(null===(o=self)||void 0===o||null===(o=o.chrome)||void 0===o?void 0:o.system)},83716:(e,t,n)=>{n.d(t,{AF:()=>E,AN:()=>U,BC:()=>m,CX:()=>_,Cg:()=>i,D$:()=>l,Hf:()=>f,Je:()=>O,Ji:()=>o,KH:()=>I,Se:()=>V,UC:()=>k,Uh:()=>C,Wl:()=>w,ZT:()=>s,_x:()=>y,ci:()=>u,dC:()=>g,eM:()=>r,ee:()=>K,fK:()=>h,fi:()=>x,gX:()=>Y,gh:()=>j,i0:()=>Q,i2:()=>c,iC:()=>a,jB:()=>H,k4:()=>$,kn:()=>B,l3:()=>p,lr:()=>P,mz:()=>T,oB:()=>S,ou:()=>d,rH:()=>F,s1:()=>z,sN:()=>R,sd:()=>N,u4:()=>L,uI:()=>v,uP:()=>Z,vc:()=>J,wS:()=>D,wU:()=>M,xb:()=>W,z9:()=>b,zJ:()=>q,zy:()=>A});const a="MyTonWallet",o="1.15.0",r=!1,s=!1,i=!1,l=!1,c="https://dumb-host",d="[Inactive]",u=24,m=3,p=700,h=50,g=110,v=120,f=156,w="$",y="TON",E=1,b=9,k={toncoin:{name:"Toncoin",symbol:y,slug:"toncoin",quote:{price:1.95,percentChange1h:0,percentChange24h:0,percentChange7d:0,percentChange30d:0},decimals:b}},N=!1,C="mytonwallet-global-state",S=0,T=1,A=2,_=A,I="system",x="0-ton-mainnet",P="https://toncenter.com/api/v2/jsonRPC",M=null,D="https://testnet.toncenter.com/api/v2/jsonRPC",O=null,L="https://mytonwallet-api.herokuapp.com",V=9,B=2,R="https://mytonwallet.io",W="https://web.telegram.org/a/",$="https://tonscan.org/",U="https://testnet.tonscan.org/",H="https://getgems.io/",q="https://testnet.getgems.io/",F="toncoin",z=null,j=.01,K="mtw-lang-15",Y=[{langCode:"en",name:"English",nativeName:"English",rtl:!1},{langCode:"es",name:"Spanish",nativeName:"Español",rtl:!1},{langCode:"ru",name:"Russian",nativeName:"Русский",rtl:!1},{langCode:"zh-Hans",name:"Chinese (Simplified)",nativeName:"繁体",rtl:!1},{langCode:"zh-Hant",name:"Chinese (Traditional)",nativeName:"繁體",rtl:!1}],Z=1296e5,Q=1.02,J=[]},84991:(e,t,n)=>{var a=n(83716);function o(e,t){if(e===t)return!0;const n=Object.keys(e),a=n.length;if(a!==Object.keys(t).length)return!1;if(0===a)return!0;for(let o=0;o<a;o++){const a=n[o];if(e[a]!==t[a])return!1}return!0}function r(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach(((n,o)=>{e[o]!==t[o]&&console.log(a,o,":",e[o],"=>",t[o])}))):console.log(`${n} LENGTH`)}var s=n(69118);const i=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let l={};const c=(0,s.P2)((function(){d||function(){d=document.createElement("div"),d.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 10px;",document.body.appendChild(d);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",(()=>{l={},c()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(l).reduce(((e,t)=>{let[n,{value:a}]=t;return i.has(n)||(n.includes("renders")&&a>e[0]&&(e[0]=a),n.includes("duration")&&a>e[1]&&(e[1]=a)),e}),[0,0]);d.innerHTML=Object.entries(l).filter((e=>{let[t,{value:n}]=e;return!i.has(t)&&(t.includes("renders")&&n>5||t.includes("duration")&&n>2)})).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).map((a=>{let[o,{value:r,lastUpdateAt:s}]=a;return[`<div style="background: #ff0000${i=r/(o.includes("renders")?t:n),Math.round(255*i).toString(16).padStart(2,"0")}">`,`  <span${s>e?' style="background: lightgreen"':""}>${o}: ${Math.round(r)}</span>`,"</div>"].join("\n");var i})).join("\n")}),500,!1);let d;function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=Date.now();l[e]?(l[e].value+=t,l[e].lastUpdateAt=n):l[e]={value:t,lastUpdateAt:n},c()}var m=n(60782),p=n(93088);const h=Symbol("SIGNAL_MARK");function g(e){return"function"==typeof e&&h in e}new Map;var v=n(17980);let f=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),w=function(e){return e[e.New=0]="New",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const y=Symbol("Fragment"),E=7,b=7,k=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let N,C=0;function S(e){return e.type===f.Tag||e.type===f.Component||e.type===f.Fragment}function T(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e===y?function(e){return{type:f.Fragment,children:_(e,!0)}}(a):"function"==typeof e?function(e,t,n){null!=n&&n.length&&(t.children=1===n.length?n[0]:n);const a={id:++C,$element:void 0,Component:e,name:e.name,props:t,mountState:w.New};return a.$element=A(a),a.$element}(e,t||{},a):function(e,t,n){return{type:f.Tag,tag:e,props:t,children:_(n)}}(e,t||{},a)}function A(e,t){return{type:f.Component,componentInstance:e,props:e.props,children:t?_(t,!0):[]}}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length-1;for(;n>=0&&I(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),a=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?a.push(..._(o,t)):a.push(x(o))}return a}function I(e){return!e&&0!==e}function x(e){return I(e)?{type:f.Empty}:S(e)?e:{type:f.Text,value:String(e)}}const P={TOTAL:{name:"TOTAL",renders:0}},M={},D=20;document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",(0,m.Xo)(Object.values(P).map((e=>{let{avgRenderTime:t,...n}=e;return{...n,...void 0!==t&&{avgRenderTime:Number(t.toFixed(2))}}})),"renders","desc")),console.warn("MEMOS",(0,m.Xo)(Object.values(M).filter((e=>{let{calls:t}=e;return t>=D})).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let O=new Set,L=new Set,V=new Map,B=new Map,R=new Map,W=new Map,$=!1;const U=(0,s.d0)(v.i$,(()=>{const e=H();L=new Set;const t=Array.from(O).sort(((e,t)=>e.id-t.id));O=new Set;const n=B;B=new Map,n.forEach((e=>e()));const a=V;V=new Map,a.forEach((e=>e())),(0,v.WM)((()=>{t.forEach(K),t.forEach((e=>{L.has(e.id)||function(e){if(e.mountState!==w.Mounted||!e.onUpdate)return;const t=e.$element;F(e),e.$element!==t&&e.onUpdate()}(e)})),null==e||e()}))}));function H(){if(!$)return $=!0,q}function q(){const e=W;W=new Map,e.forEach((e=>e()));const t=R;R=new Map,t.forEach((e=>e())),$=!1}function F(e){L.add(e.id);const{Component:t,props:n}=e;let o;if((0,p.Z)((()=>{let r;if(N=e,e.hooks&&(e.hooks.state&&(e.hooks.state.cursor=0),e.hooks.effects&&(e.hooks.effects.cursor=0),e.hooks.memos&&(e.hooks.memos.cursor=0),e.hooks.refs&&(e.hooks.refs.cursor=0)),a.eM){const e=ne(t);P[e]||(P[e]={name:e,renders:0,avgRenderTime:0}),a.ZT&&(k.has(e)||console.log(`[Teact] Render ${e}`)),r=performance.now()}if(o=t(n),a.eM){const e=performance.now()-r,n=ne(t);e>E&&console.warn(`[Teact] Slow component render: ${n}, ${Math.round(e)} ms`);const{renders:o,avgRenderTime:s}=P[n];P[n].avgRenderTime=(s*o+e)/(o+1),P[n].renders++,P.TOTAL.renders++,a.ZT&&(u(`${n} renders`),u(`${n} duration`,e))}}),(()=>{console.error(`[Teact] Error while rendering component ${e.name}`),o=e.renderedValue})),e.mountState===w.Mounted&&o===e.renderedValue)return e.$element;e.renderedValue=o;const r=Array.isArray(o)?o:[o];return e.mountState===w.New?e.$element.children=_(r,!0):e.$element=A(e,r),e.$element}function z(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===f.Text&&t.type===f.Text?e.value!==t.value:e.type===f.Tag&&t.type===f.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===f.Component&&t.type===f.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function j(e){var t;if(e.mountState===w.Mounted){if(L.add(e.id),null!==(t=e.hooks)&&void 0!==t&&t.effects)for(const t of e.hooks.effects.byCursor){var n;t.cleanup&&(0,p.Z)(t.cleanup),t.cleanup=void 0,null===(n=t.releaseSignals)||void 0===n||n.call(t)}e.mountState=w.Unmounted,function(e){const{effects:t,state:n,memos:a,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(a)for(const e of a.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.Component=void 0,e.props=void 0,e.onUpdate=void 0}(e)}}function K(e){var t;if(e.mountState===w.Mounted&&null!==(t=e.hooks)&&void 0!==t&&t.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function Y(e,t){N.hooks||(N.hooks={}),N.hooks.state||(N.hooks.state={cursor:0,byCursor:[]});const{cursor:n,byCursor:o}=N.hooks.state,r=N;return void 0===o[n]&&(o[n]={value:e,nextValue:e,setter:e=>{r.mountState!==w.Unmounted&&("function"==typeof e&&(e=e(o[n].nextValue)),o[n].nextValue!==e&&(o[n].nextValue=e,O.add(r),U(),a.ZT&&console.log("[Teact.useState]",ne(r.Component),`State update at cursor #${n}${t?` (${t})`:""}, next value: `,o[n].nextValue)))}}),N.hooks.state.cursor++,[o[n].value,o[n].setter]}function Z(e,t,n,o){var r;N.hooks||(N.hooks={}),N.hooks.effects||(N.hooks.effects={cursor:0,byCursor:[]});const{cursor:s,byCursor:i}=N.hooks.effects,l=N,c=()=>(0,p.Z)((()=>{const{cleanup:e}=i[s];if(!e)return;let t;if(a.eM&&(t=performance.now()),e(),a.eM){const e=performance.now()-t,n=ne(l.Component);e>b&&console.warn(`[Teact] Slow cleanup at effect cursor #${s}: ${n}, ${Math.round(e)} ms`)}}),(()=>{console.error(`[Teact] Error in effect cleanup at cursor #${s} in ${l.name}`)}),(()=>{i[s].cleanup=void 0})),d=()=>(0,p.Z)((()=>{if(l.mountState===w.Unmounted)return;let e;a.eM&&(e=performance.now());const n=t();if("function"==typeof n&&(i[s].cleanup=n),a.eM){const t=performance.now()-e,n=ne(l.Component);t>b&&console.warn(`[Teact] Slow effect at cursor #${s}: ${n}, ${Math.round(t)} ms`)}}),(()=>{console.error(`[Teact] Error in effect at cursor #${s} in ${l.name}`)}));function u(){const t=`${l.id}_${s}`;e?(W.set(t,c),R.set(t,d)):(B.set(t,c),V.set(t,d)),U()}if(n&&null!==(r=i[s])&&void 0!==r&&r.dependencies){if(n.some(((e,t)=>e!==i[s].dependencies[t]))){if(a.eM&&o){const e=n.reduce(((e,t,n)=>{const a=i[s].dependencies[n];return t!==a&&e.push(`${n}: ${a} => ${t}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}u()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),u();const m=!i[s];i[s]={...i[s],dependencies:n,schedule:u},m&&(i[s].releaseSignals=function(){const e=null==n?void 0:n.filter(g).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),i[s].schedule()}))));if(null!=e&&e.length)return()=>{for(const t of e)t()}}()),N.hooks.effects.cursor++}function Q(e,t,n){return Z(!1,e,t,n)}function J(e,t,n){return Z(!0,e,t,n)}function G(e,t,n,o){N.hooks||(N.hooks={}),N.hooks.memos||(N.hooks.memos={cursor:0,byCursor:[]});const{cursor:s,byCursor:i}=N.hooks.memos;let l,{value:c}=i[s]||{};if(a.eM&&o){const e=`${o}#${N.id}`;l=M[e],l||(l={key:e,calls:0,misses:0,hitRate:0},M[e]=l),l.calls++,l.hitRate=(l.calls-l.misses)/l.calls}if(void 0===i[s]||t.length!==i[s].dependencies.length||t.some(((e,t)=>e!==i[s].dependencies[t]))){if(a.eM){if(n){const e=`[Teact.useMemo] ${N.name} (${n}): Update is caused by:`;i[s]?r(i[s].dependencies,t,e,n):console.log(`${e} [first render]`)}l&&(l.misses++,l.hitRate=(l.calls-l.misses)/l.calls,l.calls%10==0&&l.calls>=D&&l.hitRate<.25&&console.warn(`[Teact] ${l.key}: Hit rate is ${l.hitRate.toFixed(2)} for ${l.calls} calls`))}c=e()}return i[s]={value:c,dependencies:t},N.hooks.memos.cursor++,c}function X(e,t,n){return G((()=>e),t,n)}function ee(e){N.hooks||(N.hooks={}),N.hooks.refs||(N.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=N.hooks.refs;return n[t]||(n[t]={current:e}),N.hooks.refs.cursor++,n[t]}function te(e,t){function n(n){return G((()=>T(e,n)),Object.values(n),t,a.ZT?ne(N.Component):void 0)}return n.DEBUG_contentComponentName=ne(e),n}function ne(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:t+(n?`>${n}`:"")}const ae={createElement:T,Fragment:y},oe=new Set(["scroll","mouseenter","mouseleave","load"]),re={},se={},ie=new Map;function le(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function ce(e,t,n){return!n&&!oe.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function de(e,t){re[e]--,re[e]||document.removeEventListener(e,ue),se[e].delete(t),ie.get(t).delete(e)}function ue(e){const t=se[e.type];if(t){let n=!1,a=e.target;const o=()=>{n=!0},r=()=>{e.preventDefault()},s=new Proxy(e,{get:(e,t)=>"currentTarget"===t?a:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?r:Reflect.get(e,t)});for(;a&&a!==document.body;){const e=t.get(a);if(e&&(e(s),n))return;a=a.parentNode}}}a.eM&&document.addEventListener("dblclick",(()=>{const e=Object.keys(re).length,t=Object.values(re).reduce(((e,t)=>e+t),0),n=Object.keys(se).length,a=Object.values(se).reduce(((e,t)=>e+t.size),0),o=ie.size,r=Array.from(ie.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:a,delegatedEventTypesCount:r,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})}));const me=new Set(["key","ref","teactFastList","teactOrderKey"]),pe=new Set(["dir","role","form"]),he=["INPUT","TEXTAREA","SELECT"],ge={autoPlay:"autoplay",autoComplete:"autocomplete"},ve="__indexKey#",fe=new WeakMap,we=new WeakMap,ye=new WeakMap;function Ee(e,t,n,o,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const{skipComponentUpdate:i,fragment:l}=s;let{nextSibling:c}=s;const d=t&&t.type===f.Component,u=n&&n.type===f.Component,m=n,p=t&&!d&&t.type===f.Fragment,h=n&&!u&&n.type===f.Fragment;if(!i&&d&&u&&!z(t,n)&&(n=function(e,t){return e.componentInstance.props=t.componentInstance.props,F(e.componentInstance)}(t,n)),!i&&u&&n.componentInstance.mountState===w.Mounted&&ke(e,n,o,r),t===n)return n;if(a.eM&&n){const e="target"in n&&n.target;if(e&&(!t||"target"in t&&e!==t.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!t&&n)if(u||h)u&&(n=be(e,n,o,r)),Ne(e,n,{nextSibling:c,fragment:l});else if(l||c||m.type!==f.Text||1!==o.children.length||e.firstChild){const t=Ce(m);m.target=t,Ae(l||e,t,c),m.type===f.Tag&&Pe(m,t)}else e.textContent=m.value,m.target=e.firstChild;else if(t&&!n)Se(e,t,void 0);else if(t&&n)if(z(t,n))if(c||(c=_e(t)),u||h)u&&(n=be(e,n,o,r)),Se(e,t,void 0),Ne(e,n,{nextSibling:c,fragment:l});else{const n=Ce(m);m.target=n,Se(e,t,n,c),m.type===f.Tag&&Pe(m,n)}else if(d&&u||p&&h)Ie(t,n,e,c,s.forceMoveToEnd);else{const a=t,o=a.target;if(m.target=o,a.target=void 0,t.type===f.Tag){const a=n;Pe(t,void 0),Pe(a,o),(c||s.forceMoveToEnd)&&Ae(e,o,c),function(e,t,n){Me(n.tagName,t.props);const a=Object.entries(e.props),o=Object.entries(t.props);for(const[e,o]of a){const a=t.props[e];void 0!==o&&(void 0===a||o!==a&&e.startsWith("on"))&&Oe(n,e,o)}for(const[t,a]of o){const o=e.props[t];void 0!==a&&a!==o&&De(n,t,a)}}(t,a,o),Ie(t,a,o)}}return n}function be(e,t,n,a){const{componentInstance:o}=t;return o.mountState===w.New&&(t=function(e){return F(e),e.mountState=w.Mounted,e.$element}(o),ke(e,t,n,a)),t}function ke(e,t,n,a){const{componentInstance:o}=t;o.onUpdate=()=>{n.children[a]=Ee(e,n.children[a],o.$element,n,a,{skipComponentUpdate:!0})}}function Ne(e,t,n){const{children:a}=t;for(let o=0,r=a.length;o<r;o++){const r=a[o],s=Ee(e,void 0,r,t,o,n);s!==r&&(a[o]=s)}}function Ce(e){if(e.type===f.Empty)return document.createTextNode("");if(e.type===f.Text)return document.createTextNode(e.value);const{tag:t,props:n,children:a}=e,o=document.createElement(t);Me(t,n);for(const e in n)n.hasOwnProperty(e)&&void 0!==n[e]&&De(o,e,n[e]);!function(e,t){he.includes(e.tagName)&&(t.defaultValue&&De(e,"value",t.defaultValue),t.defaultChecked&&De(e,"checked",t.defaultChecked))}(o,n);for(let t=0,n=a.length;t<n;t++){const n=a[t],r=Ee(o,void 0,n,e,t);r!==n&&(a[t]=r)}return o}function Se(e,t,n,a){const o=t.type===f.Component,r=!o&&t.type===f.Fragment;o||r?(o&&j(t.componentInstance),function(e,t){for(const n of t.children)Ee(e,n,void 0,t,-1)}(e,t),n&&Ae(e,n,a)):(n?e.replaceChild(n,t.target):e.removeChild(t.target),Te(t))}function Te(e){if(e.type===f.Component)j(e.componentInstance);else if(e.type!==f.Fragment&&(e.type===f.Tag&&(we.delete(e.target),Pe(e,void 0),function(e){const t=ie.get(e);t&&(t.forEach((t=>de(t,e))),ie.delete(e))}(e.target)),e.target=void 0,e.type!==f.Tag))return;for(const t of e.children)Te(t)}function Ae(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function _e(e){return e.type===f.Component||e.type===f.Fragment?_e(e.children[e.children.length-1]):e.target.nextSibling||void 0}function Ie(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(a.eM&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(0,m.Tw)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t))),new Error("[Teact] Children keys are not unique")}}(t.children),"props"in t&&t.props.teactFastList)return void function(e,t,n){const o=e.children,r=t.children,s=new Set;for(const e of r){const t="props"in e?e.props.key:void 0;if(a.eM&&S(e)&&(null==t&&console.warn("Missing `key` in `teactFastList`"),e.type===f.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");s.add(t)}let i=0;const l={};for(let e=0,a=o.length;e<a;e++){const a=o[e];let c="props"in a?a.props.key:void 0;const d=null!=c;if(!d||s.has(c)){if(!d){const o=r[e],s=o&&"props"in o?o.props.key:void 0;if(!o||s){Ee(n,a,void 0,t,-1);continue}c=`${ve}${e}`}l[c]={$element:a,index:i++,orderKey:"props"in a?a.props.teactOrderKey:void 0}}else Ee(n,a,void 0,t,-1)}let c,d,u=0;for(let e=0,a=r.length;e<a;e++){const a=r[e],o=l["props"in a?a.props.key:`${ve}${e}`];if(!o){void 0===d&&(c=e,d=0),d++;continue}d&&(xe(c,d,n,t),d=void 0,c=void 0);const s="props"in a?a.props.teactOrderKey:void 0,i=o.index!==u&&(!s||o.orderKey!==s),m=i&&u>o.index;i&&!m||u++;const p=n.childNodes[m?e+1:e],h=i?p?{nextSibling:p}:{forceMoveToEnd:!0}:void 0,g=Ee(n,o.$element,a,t,e,h);g!==a&&(r[e]=g)}d&&xe(c,d,n,t)}(e,t,n);const s=e.children,i=t.children,l=s.length,c=i.length,d=Math.max(l,c),u=c>l?document.createDocumentFragment():void 0,p=e.children[l-1],h=u&&(o||(p?_e(p):void 0));for(let e=0;e<d;e++){const a=Ee(n,s[e],i[e],t,e,e>=l?{fragment:u}:{nextSibling:o,forceMoveToEnd:r});a&&a!==i[e]&&(i[e]=a)}u&&Ae(n,u,h)}function xe(e,t,n,a){const o=n.childNodes[e];if(1===t){const t=a.children[e],r=Ee(n,void 0,t,a,e,{nextSibling:o});return void(r!==t&&(a.children[e]=r))}const r=document.createDocumentFragment();for(let o=e;o<e+t;o++){const e=a.children[o],t=Ee(n,void 0,e,a,o,{fragment:r});t!==e&&(a.children[o]=t)}Ae(n,r,o)}function Pe(e,t){const{ref:n}=e.props;"object"==typeof n?n.current=t:"function"==typeof n&&n(t)}function Me(e,t){if(!t.teactExperimentControlled)return;const n=void 0!==t.value,a=void 0!==t.checked;if(!n&&!a||!he.includes(e.toUpperCase()))return;const{value:o,checked:r,onInput:s,onChange:i}=t;t.onChange=void 0,t.onInput=e=>{if(null==s||s(e),null==i||i(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,a=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:a};e.currentTarget.dataset.__teactSelectionState=JSON.stringify(o)}}void 0!==r&&(e.currentTarget.checked=r)}}function De(e,t,n){if("className"===t)Le(e,n);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset.__teactSelectionState;if(e){const{selectionStart:n,selectionEnd:a,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof a&&t.setSelectionRange(n,a)}}}else"style"===t?Ve(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=le(t,e);ce(o,e,a)?function(e,t,n){re[e]||(re[e]=0,document.addEventListener(e,ue)),function(e){return se[e]||(se[e]=new Map),se[e]}(e).set(t,n),function(e){const t=ie.get(e);if(t)return t;const n=new Set;return ie.set(e,n),n}(t).add(e),re[e]++}(o,e,n):e.addEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):t.startsWith("data-")||t.startsWith("aria-")||pe.has(t)?e.setAttribute(t,n):me.has(t)||(e[ge[t]||t]=n)}function Oe(e,t,n){"className"===t?Le(e,""):"value"===t?e.value="":"style"===t?Ve(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=le(t,e);ce(o,e,a)?de(o,e):e.removeEventListener(o,n,a)}(e,t,n,t.endsWith("Capture")):me.has(t)||e.removeAttribute(t)}function Le(e,t){const n=we.get(e);if(!n)return void(e.className=t);const a=Array.from(n);t&&a.push(t),e.className=a.join(" ")}function Ve(e,t){e.style.cssText=t,ye.get(e)&&function(e){const t=Object.entries(ye.get(e)).reduce(((t,n)=>{let[a,o]=n;return a.startsWith("--")?e.style.setProperty(a,o):t[a]=o,t}),{});Object.assign(e.style,t)}(e)}function Be(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])){const n=t.split(" ");if(n.length>1){for(const t of n)Be(e,t,!0);return}}e.classList.add(t);const n=we.get(e);n?n.add(t):we.set(e,new Set([t]))}function Re(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])){const n=t.split(" ");if(n.length>1){for(const t of n)Re(e,t,!0);return}}e.classList.remove(t);const n=we.get(e);n&&(n.delete(t),n.size||we.delete(e))}function We(e,t,n){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){const a=t.split(" ");if(a.length>1){for(const t of a)We(e,t,n,!0);return}}e.classList.toggle(t,n),e.classList.contains(t)?Be(e,t):Re(e,t)}const $e=function(e,t){fe.has(t)||fe.set(t,{children:[]});const n=H(),a=fe.get(t),o=Ee(t,a.children[0],e,a,0);null==n||n(),a.children=o?[o]:[]};var Ue=n(33592);const He=()=>{const[,e]=Y(!1);return X((()=>{e((e=>!e))}),[])};var qe=n(16063);function Fe(e){const t=ee(e);return t.current=e,t}function ze(e){const t=Fe(e);return X((function(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call(t,...a)}),[])}const je=(0,qe._)(),Ke=(0,qe._)();let Ye,Ze=!1;function Qe(){return Ze}function Je(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;function t(){Ye&&(clearTimeout(Ye),Ye=void 0),Ze=!1,Ke.runCallbacks()}return Ze||(Ze=!0,je.runCallbacks()),Ye&&(clearTimeout(Ye),Ye=void 0),Ye=window.setTimeout(t,e),t}var Ge=n(69995);function Xe(){const e=ee();return e.current||(e.current=(0,Ge.Z)()),e.current}function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},et.apply(this,arguments)}let tt,nt={};const at=(0,s.$6)((()=>{tt=void 0})),ot={},rt=[function(){let e;a.eM&&(e=performance.now());for(const e of lt.values()){const{mapStateToProps:t,ownProps:n,mappedProps:s,forceUpdate:i,isDetached:l,detachWhenChanged:c}=e;if(l)continue;let d;try{if(d=t(nt,n,c),e.isDetached)continue}catch(e){return void(0,Ue.S)(e)}a.eM&&Object.values(d).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${e.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(d).length&&!o(s,d)&&(a.ZT&&r(s,d,`[TeactN] Will update ${e.DEBUG_componentName} caused by:`),e.mappedProps=d,e.DEBUG_updates++,i())}if(a.eM){const t=performance.now()-e;t>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(t)} ms`)}}],st=[],it={},lt=new Map,ct=(0,s.$6)(ut);let dt=!0;function ut(){if(dt)dt=!1;else if(Qe())return void(0,v.i$)(ct);rt.forEach((e=>e(nt)))}function mt(e,t){if("object"==typeof e&&e!==nt){if(a.eM){if(e.DEBUG_capturedId&&e.DEBUG_capturedId!==tt)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");tt=void 0}nt=e,null!=t&&t.noUpdate||st.forEach((e=>e(nt))),null!=t&&t.forceSyncOnIOs?(dt=!0,ut()):(null!=t&&t.forceOnHeavyAnimation&&(dt=!0),ct())}}function pt(){return a.eM&&(tt=Math.random(),nt={...nt,DEBUG_capturedId:tt},at()),nt}function ht(){return it}let gt=[];a.eM&&(window.getGlobal=pt,window.setGlobal=mt,document.addEventListener("dblclick",(()=>{console.warn("GLOBAL CONTAINERS",(0,m.Xo)(Array.from(lt.values()).map((e=>{let{DEBUG_componentName:t,DEBUG_updates:n}=e;return{DEBUG_componentName:t,DEBUG_updates:n}})),"DEBUG_updates","desc"))})));const vt=pt,ft=mt,wt=ht,yt=function(e,t){ot[e]||(ot[e]=[],it[e]=(t,n)=>{!function(e,t,n){if(gt.push((()=>{var o;null===(o=ot[e])||void 0===o||o.forEach((e=>{const o=e(a.eM?pt():nt,it,t);o&&"function"!=typeof o.then&&mt(o,n)}))})),1===gt.length)try{for(;gt.length;)gt[0](),gt.shift()}finally{gt=[]}}(e,t,n)}),ot[e].push(t)},Et=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>({});return t=>{function n(n){const a=Xe(),r=He();Q((()=>()=>{lt.delete(a)}),[a]);let s=lt.get(a);if(s||(s={mapStateToProps:e,ownProps:n,forceUpdate:r,isDetached:!1,detachReason:void 0,detachWhenChanged:e=>{const{detachReason:t}=s;void 0===t&&void 0!==e?s.detachReason=e:void 0!==t&&t!==e&&(s.isDetached=!0)},DEBUG_updates:0,DEBUG_componentName:t.name},lt.set(a,s)),!(s.mappedProps&&o(s.ownProps,n)||(s.ownProps=n,s.isDetached)))try{s.mappedProps=e(nt,n,s.detachWhenChanged)}catch(e){(0,Ue.S)(e)}return ae.createElement(t,et({},s.mappedProps,n))}return n.DEBUG_contentComponentName=ne(t),n}};var bt=n(51086);let kt=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Settings=2]="Settings",e[e.Ledger=3]="Ledger",e[e.Inactive=4]="Inactive",e}({}),Nt=function(e){return e[e.none=0]="none",e[e.creatingWallet=1]="creatingWallet",e[e.createPassword=2]="createPassword",e[e.createBackup=3]="createBackup",e[e.importWallet=4]="importWallet",e[e.importWalletCreatePassword=5]="importWalletCreatePassword",e[e.ready=6]="ready",e[e.about=7]="about",e}({}),Ct=function(e){return e[e.None=0]="None",e[e.WarningHardware=1]="WarningHardware",e[e.Initial=2]="Initial",e[e.Confirm=3]="Confirm",e[e.Password=4]="Password",e[e.ConnectHardware=5]="ConnectHardware",e[e.ConfirmHardware=6]="ConfirmHardware",e[e.Complete=7]="Complete",e}({}),St=function(e){return e[e.Info=0]="Info",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.ConfirmHardware=3]="ConfirmHardware",e}({}),Tt=function(e){return e[e.Connect=0]="Connect",e[e.Connecting=1]="Connecting",e[e.Failed=2]="Failed",e[e.Connected=3]="Connected",e[e.WaitingForBrowser=4]="WaitingForBrowser",e}({}),At=function(e){return e[e.None=0]="None",e[e.StakeInitial=1]="StakeInitial",e[e.StakePassword=2]="StakePassword",e[e.StakeComplete=3]="StakeComplete",e[e.UnstakeInitial=4]="UnstakeInitial",e[e.UnstakePassword=5]="UnstakePassword",e[e.UnstakeComplete=6]="UnstakeComplete",e}({});const _t="#detached";function It(){return async function(){const e=await bt.Z.tabs.create({url:`index.html${_t}`,active:!0});return await bt.Z.windows.update(e.windowId,{focused:!0}),e.id}()}const xt="mtw-active-tab",Pt=String(Date.now()+Math.random());let Mt;window.location.href.includes(_t)||localStorage.setItem(xt,Pt);const Dt=window.setInterval((()=>{Mt&&localStorage.getItem(xt)!==Pt&&!window.location.href.includes(_t)&&(Mt(),clearInterval(Dt))}),2e3);function Ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var Lt=n(97184);window.innerHeight;let Vt=Rt();const Bt=(0,s.P2)((()=>{Vt=Rt()}),250,!0);function Rt(){let e;return e=Lt.cj?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight,(0,v.WM)((()=>{const t=.01*e;document.documentElement.style.setProperty("--vh",`${t}px`)})),{width:window.innerWidth,height:window.innerHeight}}window.addEventListener("orientationchange",Bt),Lt.cj?window.visualViewport.addEventListener("resize",Bt):window.addEventListener("resize",Bt);const Wt=()=>Vt,$t=new Map,Ut=e=>{const t=matchMedia(e),n=new Set,a=()=>{n.forEach((e=>e(t.matches)))};return t.addEventListener?t.addEventListener("change",a,{passive:!0}):t.addListener(a),{mql:t,dispatchers:n,listener:a}};function Ht(){const e=function(e,t){const[n,a]=Y(function(){{let t=$t.get(e);return t||(t=Ut(e),$t.set(e,t)),t.mql.matches}}());return Q((()=>(((e,t)=>{let n=$t.get(e);n||(n=Ut(e),$t.set(e,n)),n.dispatchers.add(t),t(n.mql.matches)})(e,a),()=>((e,t)=>{const n=$t.get(e);if(!n)return;const{mql:a,dispatchers:o,listener:r}=n;o.delete(t),o.size||($t.delete(e),a.removeEventListener?a.removeEventListener("change",r):a.removeListener(r))})(e,a))),[e]),n}(`(max-width: ${a.l3-.02}px)`);return{isPortrait:e,isLandscape:!e}}const qt=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;const[n,a]=Y(e,t);return[n,X((()=>{a(!0)}),[]),X((()=>{a(!1)}),[])]},Ft=function(e){Q(e,[])},zt=function(e,t){const n=ee(),{current:a}=n;return t&&void 0===e||(n.current=e),a};function jt(e,t){const n=zt(t),a=ee();var o,r;n&&!t.some(((e,t)=>e!==n[t]))||(null===(o=a.current)||void 0===o||o.call(a),a.current=null!==(r=e(n||[]))&&void 0!==r?r:void 0),Ft((()=>()=>{var e;null===(e=a.current)||void 0===e||e.call(a)}))}const Kt=function(e,t){const n=ee(e);J((()=>{n.current=e}),[e]),Q((()=>{if("number"!=typeof t)return;const e=setTimeout((()=>n.current()),t);return()=>clearTimeout(e)}),[t])},Yt=/(\*\*|__).+?\1/g;function Zt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["simple_markdown","br"];return"string"!=typeof e?[e]:(0,m.oA)(t.reduce(((e,t)=>{switch(t){case"simple_markdown":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(Yt),a=t.match(Yt)||[];return e.push(n[0]),a.reduce(((e,t,a)=>{e.push(t.startsWith("**")?ae.createElement("b",null,t.replace(/\*\*/g,"")):ae.createElement("i",null,t.replace(/__/g,"")));const o=2*a+2;return n[o]&&e.push(n[o]),e}),e)}),[]);case"br":return e.reduce(((e,t)=>{if("string"!=typeof t)return e.push(t),e;const n=t.split(/\r\n|\r|\n/g).reduce(((e,t,n,a)=>{const o=t.trimStart(),r=t.length-o.length;return e.push(String.fromCharCode(160).repeat(r)+o),n!==a.length-1&&e.push(ae.createElement("br",null)),e}),[]);return[...e,...n]}),[])}return e}),[e]))}const Qt=JSON.parse('{"$auth_intro":{"value":"**Securely** store crypto\\nand make blockchain payments\\nat the **speed of light**.\\n"},"Create New Wallet":{"value":"Create New Wallet"},"Import From %1$d Secret Words":{"value":"Import From %1$d Secret Words"},"More about MyTonWallet":{"value":"More about MyTonWallet"},"Creating Wallet...":{"value":"Creating Wallet..."},"On the count of three...":{"value":"On the count of three..."},"$auth_backup_description1":{"value":"This is a **secure wallet**\\nand is only **controlled by you**.\\n"},"$auth_backup_description2":{"value":"And with great power comes **great responsibility**."},"$auth_backup_description3":{"value":"You need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n"},"Back Up":{"value":"Back Up"},"Skip For Now":{"value":"Skip For Now"},"Passwords must be equal.":{"value":"Passwords must be equal."},"To protect your wallet as much as possible, use a password with":{"value":"To protect your wallet as much as possible, use a password with"},"$auth_password_rule_8chars":{"value":"at least 8 characters"},"$auth_password_rule_one_small_char":{"value":"one small letter"},"$auth_password_rule_one_capital_char":{"value":"one capital letter"},"$auth_password_rule_one_digit":{"value":"one digit"},"$auth_password_rule_one_special_char":{"value":"and one special character"},"The wallet is imported":{"value":"The wallet is imported"},"The wallet is ready":{"value":"The wallet is ready"},"Create a password to protect it.":{"value":"Create a password to protect it."},"Enter your password":{"value":"Enter your password"},"Enter your password...":{"value":"Enter your password..."},"...and repeat it":{"value":"...and repeat it"},"Cancel":{"value":"Cancel"},"Insecure Password":{"value":"Insecure Password"},"Your have entered an insecure password, which can be easily guessed by scammers.":{"value":"Your have entered an insecure password, which can be easily guessed by scammers."},"Continue or change password to something more secure?":{"value":"Continue or change password to something more secure?"},"Change":{"value":"Change"},"%1$d Secret Words":{"value":"%1$d Secret Words"},"$auth_import_mnemonic_description":{"value":"You can restore access to your wallet by entering the %1$d secret words\\nthat you wrote down when creating the wallet.\\n"},"Let’s make sure your secrets words are recorded correctly.":{"value":"Let’s make sure your secrets words are recorded correctly."},"$mnemonic_check_words_list":{"value":"Please enter the words **%1$s** below."},"$mnemonic_check_error":{"value":"The secret words you have entered do not match the ones in the list. Please try again."},"$mnemonic_list_description":{"value":"Write down these words\\nin the **correct order** and store them\\nin a **secret place**.\\n"},"Let\'s Check":{"value":"Let\'s Check"},"Let\'s Check!":{"value":"Let\'s Check!"},"Safety Rules":{"value":"Safety Rules"},"$safety_rules_one":{"value":"On the next screen you will see the **secret words**. Write them down in the correct order and **store in a secure place**.\\n"},"$safety_rules_two":{"value":"They allow to **open your wallet** if you lose your password or access to this device."},"$safety_rules_three":{"value":"If anybody else sees these words your funds **may be stolen**. Look around!"},"Understood":{"value":"Understood"},"Congratulations!":{"value":"Congratulations!"},"Continue":{"value":"Continue"},"Close":{"value":"Close"},"Back":{"value":"Back"},"Search...":{"value":"Search..."},"Main menu":{"value":"Main menu"},"TON Proxy":{"value":"TON Proxy"},"Toggle TON Proxy":{"value":"Toggle TON Proxy"},"TON Magic":{"value":"TON Magic"},"Toggle TON Magic":{"value":"Toggle TON Magic"},"Open Telegram Web":{"value":"Open Telegram Web"},"Back Up Secret Words":{"value":"Back Up Secret Words"},"Settings":{"value":"Settings"},"About":{"value":"About"},"Exit":{"value":"Exit"},"Something went wrong":{"value":"Something went wrong"},"Logo":{"value":"Logo"},"$about_description1":{"value":"Securely store crypto, explore decentralized apps, and make blockchain payments at the **speed of light**."},"$about_description2":{"value":"The wallet is **non-custodial and safe**. The developers **do not** have access to your funds, browser history or any other information."},"What is TON Proxy?":{"value":"What is TON Proxy?"},"$about_extension_description1":{"value":"TON Proxy opens a way to **decentralized internet** by allowing to anonymously access TON Sites."},"More info and demo.":{"value":"More info and demo."},"$about_extension_description2":{"value":"TON Magic provides native **Telegram integration** by patching the official Telegram Web app."},"$about_extension_description3":{"value":"Turn it on to send and receive Toncoins from any Telegram user."},"$about_proxy_magic_title":{"value":"What about %ninja% TON Proxy and %unicorn% TON Magic?"},"$about_proxy_magic_description":{"value":"To enjoy **decentralized internet**, access **TON Sites**, and leverage native **Telegram integration**, feel free to install the %extension_link%."},"$about_extension_link_text":{"value":"**MyTonWallet extension**"},"Is it open source?":{"value":"Is it open source?"},"$about_wallet_github":{"value":"Yes, it is. Feel free to explore our %github_link%."},"$about_github_link_text":{"value":"**GitHub repository**"},"Is there a community?":{"value":"Is there a community?"},"$about_wallet_community":{"value":"Sure, welcome to our %community_link%."},"$about_community_link_text":{"value":"**Telegram channel**"},"Currency History":{"value":"Currency History"},"$add_account_description1":{"value":"**MyTonWallet** allows you to seamlessly\\nswitch between **multiple accounts**.\\n"},"$add_account_description2":{"value":"Try it by **creating** a new wallet,\\nor **importing** any of your existing ones\\nusing 24 secret words.\\n"},"Enter Password":{"value":"Enter Password"},"Send":{"value":"Send"},"Add Wallet":{"value":"Add Wallet"},"Done":{"value":"Done"},"Delete":{"value":"Delete"},"Delete Saved Address":{"value":"Delete Saved Address"},"Are you sure you want to remove this address from your saved ones?":{"value":"Are you sure you want to remove this address from your saved ones?"},"You will be able to save it again via Transaction Info with this address.":{"value":"You will be able to save it again via Transaction Info with this address."},"Address removed from saved":{"value":"Address removed from saved"},"Warning!":{"value":"Warning!"},"Log Out":{"value":"Log Out"},"$logout_without_backup_warning":{"value":"You have not backed up this wallet. If you log out, you will lose access to your tokens and NFTs."},"$logout_accounts_without_backup_warning":{"value":"You have not backed up %links%. If you log out, you will lose access to your tokens and NFTs."},"$logout_warning":{"value":"This will disconnect the wallet from this app. You will be able to restore your wallet using **%1$d secret words** - or import another wallet."},"Receive TON":{"value":"Receive TON"},"Your address was copied!":{"value":"Your address was copied!"},"Show QR-Code":{"value":"Show QR-Code"},"Create Invoice":{"value":"Create Invoice"},"QR-code":{"value":"QR-code"},"$receive_invoice_description":{"value":"You can specify the amount and purpose of\\nthe payment to save the sender some time\\n"},"Amount":{"value":"Amount"},"Comment":{"value":"Comment"},"Share this URL to receive TON":{"value":"Share this URL to receive TON"},"Invoice link was copied!":{"value":"Invoice link was copied!"},"US Dollar":{"value":"US Dollar"},"Theme":{"value":"Theme"},"Language":{"value":"Language"},"Enable Animations":{"value":"Enable Animations"},"Fiat Currency":{"value":"Fiat Currency"},"Investor View":{"value":"Investor View"},"Toggle Investor View":{"value":"Toggle Investor View"},"Hide Tiny Transfers":{"value":"Hide Tiny Transfers"},"Toggle Hide Tiny Transfers":{"value":"Toggle Hide Tiny Transfers"},"Network":{"value":"Network"},"Developer Options":{"value":"Developer Options"},"Confirmation":{"value":"Confirmation"},"Data to sign":{"value":"Data to sign"},"$signature_warning":{"value":"Signing custom data is very dangerous.\\nUse only if you know what you are doing.\\n"},"Sign":{"value":"Sign"},"Done!":{"value":"Done!"},"Signing was confirmed!":{"value":"Signing was confirmed!"},"Transaction Info":{"value":"Transaction Info"},"Transaction in progress":{"value":"Transaction in progress"},"Comment was copied!":{"value":"Comment was copied!"},"View Transaction on TON Explorer":{"value":"View Transaction on TON Explorer"},"Sender":{"value":"Sender"},"Recipient":{"value":"Recipient"},"Address was copied!":{"value":"Address was copied!"},"Send Back":{"value":"Send Back"},"Repeat":{"value":"Repeat"},"Receive":{"value":"Receive"},"Switch Account":{"value":"Switch Account"},"Copy wallet address":{"value":"Copy wallet address"},"View address on TON Explorer":{"value":"View address on TON Explorer"},"Open on CoinMarketCap":{"value":"Open on CoinMarketCap"},"No Activity":{"value":"No Activity"},"You have just created a new wallet":{"value":"You have just created a new wallet"},"You can now transfer your tokens from another wallet or exchange.":{"value":"You can now transfer your tokens from another wallet or exchange."},"Assets":{"value":"Assets"},"Activity":{"value":"Activity"},"NFT":{"value":"NFT"},"No NFTs yet":{"value":"No NFTs yet"},"$nft_explore_offer":{"value":"Explore a marketplace to discover\\nexisting NFT collections.\\n"},"Open Getgems":{"value":"Open Getgems"},"Transaction is not completed":{"value":"Transaction is not completed"},"Received":{"value":"Received"},"Sent":{"value":"Sent"},"$transaction_from":{"value":"from %address%"},"$transaction_to":{"value":"to %address%"},"Wallet is not backed up":{"value":"Wallet is not backed up"},"Testnet Version":{"value":"Testnet Version"},"Error reading clipboard":{"value":"Error reading clipboard"},"$fee_value":{"value":"Fee: %fee%"},"Loading...":{"value":"Loading..."},"Recipient Address":{"value":"Recipient Address"},"Wallet address or domain":{"value":"Wallet address or domain"},"Incorrect address":{"value":"Incorrect address"},"Paste":{"value":"Paste"},"Insufficient balance":{"value":"Insufficient balance"},"InsufficientBalance":{"value":"Insufficient balance"},"Optional":{"value":"Optional"},"$send_token_symbol":{"value":"Send %1$s"},"$your_balance_is":{"value":"Your balance: %balance%"},"Is it all ok?":{"value":"Is it all ok?"},"Receiving Address":{"value":"Receiving Address"},"Fee":{"value":"Fee"},"Edit":{"value":"Edit"},"Confirm":{"value":"Confirm"},"Confirm Transaction":{"value":"Confirm Transaction"},"Coins have been sent!":{"value":"Coins have been sent!"},"Details":{"value":"Details"},"Change password visibility":{"value":"Change password visibility"},"Amount value":{"value":"Amount value"},"Save Address":{"value":"Save Address"},"Name":{"value":"Name"},"Save":{"value":"Save"},"Copy":{"value":"Copy"},"Remove From Saved Addresses":{"value":"Remove From Saved Addresses"},"Add To Saved Addresses":{"value":"Add To Saved Addresses"},"View Address on TON Explorer":{"value":"View Address on TON Explorer"},"No suggestions, you\'re on your own!":{"value":"No suggestions, you\'re on your own!"},"Play Sounds":{"value":"Play Sounds"},"Focus on asset value rather than current balance":{"value":"Focus on asset value rather than current balance"},"$logout_confirm":{"value":"Log out of **all** wallets"},"$logout_warning2":{"value":"Wallets are located in the decentralized TON Blockchain. If you want the wallet to be deleted simply transfer all the TON from it and leave it empty."},"$tiny_transfers_help":{"value":"Turn this off to display transactions of less than %1$d %2$s. Please be aware that such transactions are often used for spam and scam purposes."},"Today":{"value":"Today"},"Yesterday":{"value":"Yesterday"},"Now":{"value":"Now"},"$receive_ton_description":{"value":"You can share this address, show QR-code\\nor create invoice to receive TON\\n"},"Your address":{"value":"Your address"},"Wrong password, please try again":{"value":"Wrong password, please try again"},"Appearance":{"value":"Appearance"},"Light":{"value":"Light"},"Dark":{"value":"Dark"},"System":{"value":"System"},"Create Backup":{"value":"Create Backup"},"Stake TON":{"value":"Stake TON"},"Earn from your tokens while holding them":{"value":"Earn from your tokens while holding them"},"$est_apy_val":{"value":"Est. APY %1$d%"},"Why this is safe":{"value":"Why this is safe"},"Why staking is safe?":{"value":"Why staking is safe?"},"$safe_staking_description1":{"value":"Staking is **fully decentralized** and operated by the **official TON Nominator** smart contract. No one can gain access to your staked tokens."},"$safe_staking_description2":{"value":"The deposited stake will be used for the TON network validation as part of its **proof-of-stake** essence."},"$safe_staking_description3":{"value":"You can withdraw your stake at **any time** and it will be deposited back to your account within **two days**."},"$min_value":{"value":"Min %value%"},"Est. balance in a year":{"value":"Est. balance in a year"},"Confirm Staking":{"value":"Confirm Staking"},"Confirm operation with your password":{"value":"Confirm operation with your password"},"Coins have been staked!":{"value":"Coins have been staked!"},"View":{"value":"View"},"Stake More":{"value":"Stake More"},"Staking":{"value":"Staking"},"Currently Staked":{"value":"Currently Staked"},"Unstake":{"value":"Unstake"},"Earning History":{"value":"Earning History"},"$total":{"value":"Total: %value%"},"Unstake TON":{"value":"Unstake TON"},"$unstake_information_with_time":{"value":"Your current deposit will be fully sent back to your wallet in %time%.\\nThis will stop your earnings.\\n"},"Amount to unstake":{"value":"Amount to unstake"},"Confirm Unstaking":{"value":"Confirm Unstaking"},"Request for unstaking is sent!":{"value":"Request for unstaking is sent!"},"$unstaking_when_receive":{"value":"You will receive your unstaked deposit in %time%"},"$unstake_insufficient_balance":{"value":"You need to have %balance% on your main balance to proceed with unstaking."},"at APY %1$s%":{"value":"at APY %1$s%"},"Staked":{"value":"Staked"},"Unstake Requested":{"value":"Unstake Requested"},"Unstaked":{"value":"Unstaked"},"The network fee has slightly changed, try sending again.":{"value":"The network fee has slightly changed, try sending again."},"Transfer was unsuccessful. Try again later":{"value":"Transfer was unsuccessful. Try again later"},"Unstaking was unsuccessful. Try again later":{"value":"Unstaking was unsuccessful. Try again later"},"Staking was unsuccessful. Try again later":{"value":"Staking was unsuccessful. Try again later"},"Invalid amount":{"value":"Invalid amount"},"Invalid address":{"value":"Invalid address"},"Domain is not connected to a wallet":{"value":"Domain is not connected to a wallet"},"Unexpected error":{"value":"Unexpected error"},"Earn":{"value":"Earn"},"Earning":{"value":"Earning"},"InvalidAmount":{"value":"Invalid amount"},"InvalidToAddress":{"value":"Invalid recipient address"},"Unexpected":{"value":"Unexpected error"},"DomainNotResolved":{"value":"Domain Not Resolved"},"You can save this address for quick access while sending.":{"value":"You can save this address for quick access while sending."},"Stake Again":{"value":"Stake Again"},"Earned":{"value":"Earned"},"Connect Dapp":{"value":"Connect Dapp"},"Select wallets to use on this dapp":{"value":"Select wallets to use on this dapp"},"Connect":{"value":"Connect"},"Dapp Permissions":{"value":"Dapp Permissions"},"$dapp_can_view_balance":{"value":"%dappname% will be able to view wallet address and balance."},"Send Transaction":{"value":"Send Transaction"},"Payload":{"value":"Payload"},"$many_transactions":{"value":"%1$d transactions"},"Total Amount":{"value":"Total Amount"},"Unstaking":{"value":"Unstaking"},"Handle ton:// links":{"value":"Handle ton:// links"},"Back up wallet to have full access to it":{"value":"Back up wallet to have full access to it"},"Improve wallet security":{"value":"Improve wallet security"},"by installing browser extension or native app":{"value":"by installing browser extension or native app"},"Scam":{"value":"Scam"},"Scam comment is hidden.":{"value":"Scam comment is hidden."},"Display":{"value":"Display"},"$dapp_transfer_tokens_payload":{"value":"Sending %amount% from your account to %address%"},"$dapp_transfer_nft_payload":{"value":"Sending NFT \\"%nft%\\" from your account to %address%"},"Connected Dapps":{"value":"Connected Dapps"},"Disconnect All Dapps":{"value":"Disconnect All Dapps"},"Disconnect":{"value":"Disconnect"},"Disconnect Dapp":{"value":"Disconnect Dapp"},"Disconnect Dapps":{"value":"Disconnect Dapps"},"Are you sure you want to disconnect?":{"value":"Are you sure you want to disconnect %dappname%?"},"Are you sure you want to disconnect all websites?":{"value":"Are you sure you want to disconnect all websites?"},"$dapps-description":{"value":"You can log in on dapps that support MyTonWallet. They can view wallet address, balance, and request operations."},"Logged in with MyTonWallet":{"value":"Logged in with MyTonWallet"},"No active connections":{"value":"No active connections"},"Unstaked successfully":{"value":"Unstaked successfully"},"Other":{"value":"Other"},"Assets & Activity":{"value":"Assets & Activity"},"Tokens Settings":{"value":"Tokens Settings"},"Your Tokens":{"value":"Your Tokens"},"Add Token":{"value":"Add Token"},"Delete Token":{"value":"Delete Token"},"Are you sure you want to delete?":{"value":"Are you sure you want to delete %token%?"},"Hide Tokens With No Balance":{"value":"Hide Tokens With No Balance"},"Hide Tokens With No Price":{"value":"Hide Tokens With No Price"},"Sort By Value":{"value":"Sort By Value"},"Update":{"value":"Update"},"Restart":{"value":"Restart"},"Update MyTonWallet":{"value":"Update MyTonWallet"},"Connect Ledger":{"value":"Connect Ledger"},"Connecting to your Ledger...":{"value":"Connecting to your Ledger..."},"Failed to connect":{"value":"Failed to connect"},"Ledger Connected!":{"value":"Ledger Connected!"},"Select Ledger Wallets":{"value":"Select Ledger Wallets"},"%1$d Selected":{"value":"%1$d Selected"},"Add":{"value":"Add"},"Try Again":{"value":"Try Again"},"Driver":{"value":"Driver"},"Connect your Ledger to PC":{"value":"Connect your Ledger to PC"},"Unlock it and open the TON App":{"value":"Unlock it and open the TON App"},"Maybe you need to check the password or change the driver.":{"value":"Maybe you need to check the password or change the driver."},"Or import from...":{"value":"Or import from..."},"Confirm via Ledger":{"value":"Confirm via Ledger"},"Please confirm transaction on your Ledger":{"value":"Please confirm transaction on your Ledger"},"Declined":{"value":"Declined"},"Create Wallet":{"value":"Create Wallet"},"Switch to the newly opened tab to connect Ledger.":{"value":"Switch to the newly opened tab to connect Ledger."},"Once connected, switch back to this window to proceed.":{"value":"Once connected, switch back to this window to proceed."},"Not all transactions were sent successfully":{"value":"Not all transactions were sent successfully"},"The time on your device is incorrect, sync it and try again":{"value":"The time on your device is incorrect, sync it and try again"},"Name or Address...":{"value":"Name or Address..."},"Such error, many tabs":{"value":"Such error, many tabs"},"$many_tabs_error_description":{"value":"MyTonWallet supports only one active tab with the app.\\nPlease reload this page to continue using this tab or close it.\\n"},"Reload App":{"value":"Reload App"},"Please confirm operation on your Ledger":{"value":"Please confirm operation on your Ledger"},"Token Not Found":{"value":"Token Not Found"},"Try another keyword or address.":{"value":"Try another keyword or address."},"Decrypt":{"value":"Decrypt"},"Encrypted Message":{"value":"Encrypted Message"},"Message is encrypted.":{"value":"Message is encrypted."},"$dapp_ledger_warning1":{"value":"You are about to send a multi-way transaction using your **Ledger** wallet. You will need to sign each underlying transaction **one by one manually**."},"$dapp_ledger_warning2":{"value":"Please take your time and do not interrupt the process."},"Agree":{"value":"Agree"},"The hardware wallet does not support this data format":{"value":"The hardware wallet does not support this data format"}}'),Jt=self.caches;async function Gt(e){try{if(!Jt)return;return await Jt.delete(e)}catch(e){return void console.warn(e)}}const Xt=new WeakMap;function en(e){return function(){let t=Xt.get(e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];const r=a.map(String).join("_");if(t){const e=t.get(r);if(e)return e}else t=new Map,Xt.set(e,t);const s=e(...a);return t.set(r,s),s}}const tn=en((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=1/10**t;Math.abs(e)>0&&Math.abs(e)<o&&(t=a.z9);const r=e.toFixed(Math.min(t,100));let[s,i]=r.split(".");return i=i.replace(/0+$/,""),""===i&&(s=s.replace(/^-0$/,"0")),n||(s=s.replace(/\d(?=(\d{3})+($|\.))/g,"$&,")),[s,i].filter(Boolean).join(".")}));function nn(e,t,n){const a=tn(e,n);return"$"===t?`$${a}`.replace("$-","-$"):`${a} ${t}`}function an(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=String(Math.round(e)).length;return(n?"":e>0?"+ ":"− ")+nn(n?e:Math.abs(e),t,10-a)}function on(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;const n=nn(e,a.Wl);if(e<t)return n;const[o]=n.split(".");return o}const rn=Qt,{addCallback:sn,removeCallback:ln,runCallbacks:cn}=(0,qe._)(),dn=/%\d?\$?[sdf@]/g,un=new Map;let mn,pn;function hn(){return(e,t,n,a)=>{var o;if(void 0!==t&&("object"!=typeof t||Array.isArray(t))){const o=Array.isArray(t)?JSON.stringify(t):t,r=un.get(`${e}_${o}_${n}${a?`_${a}`:""}`);if(r)return r}return mn||rn?function(e,t,n,a,o){const r=null==e?void 0:e.value;if(!r||!r.trim())return e;if(void 0!==n){const e="i"===a?tn(n):n,s="object"!=typeof n||Array.isArray(n)?function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(dn),a=n.shift();return n.reduce(((e,n,a)=>{var o;return`${e}${String(null!==(o=t[a])&&void 0!==o?o:"")}${n}`}),a||"")}(r,e):function(e,t){return e.split("%").reduce(((e,n)=>e.concat(t[n]?[t[n]]:Zt(n))),[])}(r,e);if("object"!=typeof n&&"string"==typeof s){const e=Array.isArray(n)?JSON.stringify(n):n;un.set(`${t}_${e}_${a}${o?`_${o}`:""}`,s)}return s}return r}((null===(o=mn)||void 0===o?void 0:o[e])||(null==rn?void 0:rn[e])||e,e,t,n,a):e}}let gn=hn();async function vn(e,t){if(mn&&e===pn)return void(t&&t());let n=await async function(e,t){if(Jt)try{const n=a.D$?`${a.i2}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),o=await Jt.open(e),r=await o.match(n);if(!r)return;return await r.json()}catch(e){return void console.warn(e)}}(a.ee,e);if(!n&&(n=await async function(e){if(e===Lt.sR)return rn;const t=await fetch(`${a.D$?".":".."}/i18n/${e}.json`);if(!t.ok){const e=`An error has occured: ${t.status}`;throw new Error(e)}const n=await t.json();return n?(await async function(e,t,n){if(Jt)try{const o="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),r=a.D$?`${a.i2}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),s=new Response(o);if(r instanceof Request&&0===r.url.indexOf("chrome-extension"))return;const i=await Jt.open(e);return await i.put(r,s)}catch(e){return void console.warn(e)}}(a.ee,e,n),n):void 0}(e),!n))return;un.clear(),pn=e,mn=n,document.documentElement.lang=e;const o=null===a.gX||void 0===a.gX?void 0:a.gX.find((t=>t.langCode===e));gn=hn(),gn.isRtl=Boolean(null==o?void 0:o.rtl),gn.code=e.replace("-raw",""),gn.langName=null==o?void 0:o.nativeName,t&&t(),cn()}const fn=()=>{const e=He();return Ft((()=>sn(e))),gn},wn={"is-ios":"bMOWndS4gvXADBNW02zw",isIos:"bMOWndS4gvXADBNW02zw","is-android":"d3xWFVGrPDPAN5IiWi7x",isAndroid:"d3xWFVGrPDPAN5IiWi7x",button:"DlG_63EhjsyuthXrQK_w",clicked:"wL3zNWAZrlwWDgi6Co6N",isSimple:"LffSeqsNThtR6v56ybL9",isText:"ePtQ8eCttjAPilliiIdT",primary:"gg_qcOLSvbPhCIpBtGIX",transparent:"NnHMhmPIugb7vdzIN_aD",disabled:"gizl_mHYo6qRbm0so1Xl",destructive:"cZaBNKeUTfCj6w9tsyCA",sizeSmall:"weO6mtTq4D1lzrYHywNr",round:"w2jevE0NTQ1rJTvtIH2F",loading:"n0dAEYbfnSCpoF3PiApd","button-loading-spinner":"Ew0491Tej6f9bSgsnYXX",buttonLoadingSpinner:"Ew0491Tej6f9bSgsnYXX",buttonText:"CA_flRhX7R_2Jz9w8nBE"},yn=te((function(e){let{ref:t,children:n,className:a,ariaLabel:o,forFormId:r,kind:s,isSubmit:i,isLoading:l,isPrimary:c,isSimple:d,isText:u,isDisabled:m,isRound:p,isSmall:h,isDestructive:g,onClick:v}=e;const[f,w]=Y(!1),y=X((()=>{!m&&v&&v(),w(!0),setTimeout((()=>{w(!1)}),400)}),[m,v]);return ae.createElement("button",{ref:t,type:i||r?"submit":"button",className:Ot(wn.button,d&&wn.isSimple,h&&wn.sizeSmall,c&&wn.primary,m&&wn.disabled,l&&wn.loading,p&&wn.round,u&&wn.isText,g&&wn.destructive,f&&wn.clicked,a,s&&wn[s]),"aria-label":o,onClick:y,disabled:m,form:r},l&&ae.createElement("span",{className:wn.buttonText},n),!l&&n)})),En="TgPY00fY6BLDxhEz4fpR",bn=n.p+"app-inactive.e835efd0bf0191aaa6ab.png",kn=n.p+"app-inactive.70579bd9a710cd418aff.webp",Nn=function(){const e=fn(),t=X((()=>{window.location.reload()}),[]);return ae.createElement("div",{className:"crI5jc7WnenQELRmSBhA"},ae.createElement("div",{className:"ZphbEDJ52M0IAmVEXqhI"},ae.createElement("picture",{className:En},ae.createElement("source",{src:kn}),ae.createElement("img",{src:bn,alt:"",className:En})),ae.createElement("h3",{className:"vpANWWWi9JuPgEriYtZy"},e("Such error, many tabs")),ae.createElement("div",{className:"_5coBP3JO_le_bO4uD6i1"},Zt(e("$many_tabs_error_description"))),ae.createElement("div",{className:"qlYTuEmDWimcFubvDrrV"},ae.createElement(yn,{isText:!0,className:"YQKnrabfjuMvW3qS5Bcg",onClick:t},e("Reload App")))))};function Cn(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=zt(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return t||null!=e?e:n}function Sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const[t,n]=Y(!0),[a,o]=Y(!0);return{isAtBeginning:t,isAtEnd:a,handleScroll:ze((t=>{const{scrollHeight:a,scrollTop:r,clientHeight:s}=t.target;n(r<e),o(a-r-s<e)}))}}const Tn=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fast",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:350,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const[i,l]=Y(!e),c=ee(),[d,u]=Y(e&&n);if(e)l(!1),u(!0),c.current&&(window.clearTimeout(c.current),c.current=void 0);else if(u(!1),!i&&!c.current){const e=()=>{l(!0),t&&t(),c.current=void 0};o?e():c.current=window.setTimeout(e,r)}const m=d&&!(o&&!e)||s&&e,p=Boolean(c.current),h=e||p;return{shouldRender:h,transitionClassNames:Ot(a&&"opacity-transition",a,m&&"open",!m&&"not-open",h&&"shown",!h&&"not-shown",p&&"closing"),hasShownClass:h,hasOpenClass:m}};function An(e){const t=Boolean(e),{transitionClassNames:n}=Tn(t,void 0,t,"slow");return n}const _n={root:"b6OxKMr461vdkORuaEIj"},In={"🥷":"1f977","🦄":"1f984"},xn=new Set,Pn=te((function(e){let{from:t}=e;const n=t in In?In[t]:t,a=`./emoji/${n}.png`,[o,r]=qt(xn.has(a)),s=An(o),i=X((()=>{r(),xn.add(a)}),[r,a]);return ae.createElement("img",{src:a,alt:t,className:Ot(_n.root,_n[`key-${n}`],s),onLoad:i})})),Mn="sPJicwcyq4plHw_Cjz0z",Dn="kmzuKQNLdEMEfuerYWKT",On="Wnfs2csjmhqbonRJvfjS",Ln="RSjXpxwNY0T_tkwDUfVa",Vn="xplq3vicAiJES4TIA195",Bn="y6Zhm8NbabD8vrJAauWw",Rn="PRxU_rp0hTp4Ux8oJ7Nv",Wn="caz71EXhsnVof1N7nb7U",$n="_Nai3l8vAW2tz8iWYm_S",Un="sB6m9eonTkM6ogY0le5e",Hn="t7b6Je76Ojmm359bxsf6",qn=te((function(e){let{title:t,className:n,withBorder:a,closeClassName:o,onClose:r,onBackButtonClick:s}=e;const i=fn();return ae.createElement("div",{className:Ot(Mn,"uUepLkCdcQwoIe4_GudK",a&&"blXOrFkeDxzKtcM_BWy0",!s&&"VM_6w2TkROZjMmomrHEN",n)},s&&ae.createElement(yn,{isSimple:!0,isText:!0,onClick:s,className:"CzyQlX6ll2K75ogLUBRO"},ae.createElement("i",{className:Ot("QRBasW38AV4_p_8pXLiZ","icon-chevron-left"),"aria-hidden":!0}),ae.createElement("span",null,i("Back"))),ae.createElement("div",{className:Dn},t),r&&ae.createElement(yn,{isRound:!0,className:Ot(On,o),ariaLabel:i("Close"),onClick:r},ae.createElement("i",{className:Ot(Ln,"icon-close"),"aria-hidden":!0})))})),Fn={wrapper:"VNNYefDptkbLRFrtKk0Q",slide:"fk0I9mK9dxd2wmBLqner",transitionContainer:"x1yD3EpkEbPr953YDAIo",developerTitle:"rixbAJ6wCixAAjoV4i4a",developerCloseButton:"ZtEYV9MNmdcXjjsDe7F9",header:"NHnm1LFJEwsnfvBoSJLi",languageHeader:"b8uetqvRzBkUFIjZ7GWE",headerBack:"BdOXvhPOkE9OB7UMG5LJ",iconChevron:"LoaLZIO2axPuZbd2P5nh",headerTitle:"qIp95uyN2Opcpp10LL0w",content:"sBMnHRs5PSJ_qr0BxE_C",content_noScroll:"YY5mt4KVe8hM8UBQgOcQ",contentNoScroll:"YY5mt4KVe8hM8UBQgOcQ",blockTitle:"MhS9aY8YFZXRqUwBEJHr",menuIcon:"muPMoSywo5p3F36VJPJ5",themeWrapper:"FOu1HSvJ3NmTLrT2SyeG",blockAbout:"IGy3wShHV4pP4iJLCmUX",theme:"i7ogHcGI8akHEImOfC12",theme_active:"zgMVD_EQvgz5E92Nh9az",themeActive:"zgMVD_EQvgz5E92Nh9az",themeIcon:"hjXwzVytF45Rn1IVAX1M",themeIcon_active:"orwEF9PVL8QPFvUpkrwb",themeIconActive:"orwEF9PVL8QPFvUpkrwb",themeImg:"zdVMHegpEM_iWTjssN9J",block:"wdJsevRX0uBu6g5shCeI",settingsBlock:"HzE6cfteyvbSgIwJpNtW",iconChevronRight:"EkoZaS_6U3Sp_mV7voJP",item:"nKTGjff_ovbiqc9fFUG0",item_red:"r95xUh9BVNypJHYueHKU",itemRed:"r95xUh9BVNypJHYueHKU",item_small:"Ua0AZK53dlXiyuUxbSjy",itemSmall:"Ua0AZK53dlXiyuUxbSjy",item_lang:"brArYoaVNfQO9S9KA2e1",itemLang:"brArYoaVNfQO9S9KA2e1",item_token:"Q_dt9c5SqvWbVirxzqmI",itemToken:"Q_dt9c5SqvWbVirxzqmI",itemInfo:"_XSUPY1SKCvSpauvWZuV",version:"C6Lq1zEpibGhEEcvTPz_",languageInfo:"KPxpOhodAUTWzqfrvPjQ",languageMain:"YoD4g3Yt727R5oODHNVM",languageNative:"QEwtomgG6PC7F2VSXsJ5",iconQuestion:"GrBdw2pwlTa1mSK77oFY",blockWithTooltip:"s9mChHnXX4FYMZODx8vy",tooltip:"wRGeZNWTMWwF8spZvmqZ",tooltip_wide:"SdDI47RklQ2g76zKmzjv",tooltipWide:"SdDI47RklQ2g76zKmzjv",disconnectButton:"yXxS87qDnrtPkn6iB_rm",blockDescription:"EAb4oLBR2KPnNXe3svRw",emptyList:"Os5_Zwx8YkJ8UrisuLY7",emptyListTitle:"PSFDtITSsJwBeaIAzY6r",dapp:"RYPRfMxvkkXQIuda6zr2",backButton:"AFJsguUGP5H4oyyguNrx",logo:"Ja9WPbBtSdJPDknMpQ3h",title:"xrmoRKzKXhHF9tzJQ5ja",titleLink:"r8EL3VwHyGIJtDwkYfRt",heading:"_xUlxaLARni4XcFrlTQ6",text:"NWVI_CJTytwtRqwKv9xn",github:"NtF6P7vuW3zazZffOvSd",telegram:"Es2_wNxCW2rMqrpFguPY",tokenIcon:"Eyjq9yvtpRjPPVjCGpBl",tokenSortIcon:"vaVjn5ozehmyAWcgqZBz",tokenTitle:"k2nbS30xWiK5r_GZC7Tw",tokenDescription:"l2sXBS49g2FAEcIrrDpW",dot:"fAY2gQ24ziXNXD7sRmpQ",contentRelative:"ZxA2g78EbI9KGVK6AWQm",sortableContainer:"btURULlfKsu_XfHa6sl3",modalDialog:"m_QMcu1kI811FJO1bmOY",modalContent:"hxh4R4ZiJjeYtT_kpJdm",deleteText:"uBuFVVCRmM1E4IOn1id8",addTokenTransition:"qIHnnhXz2C_mc5gr19ir",addTokenDialog:"IOJf2do3VIT2G6GMsa0r",addTokenBlock:"JNhbu85F6pKaogkScmH4",addTokenSearch:"qh7SNxt5nJtGB32VVr2R",addTokenSearch_bordered:"wHxdA41ZpOPzpCZ12ZDZ",addTokenSearchBordered:"wHxdA41ZpOPzpCZ12ZDZ",addTokenInputWrapper:"VlKgO4na3eUYKqr_LYpo",addTokenInput:"aU8FOx_HseFsUfhZ15Qs",addTokenContentWrapper:"j2cAQMbFgBAsUSGYWb3A",addTokenContent:"OPfobMxhHmCFqK1CPezW",addTokenContent_single:"hbAt2n5yrdPiNil3HWII",addTokenContentSingle:"hbAt2n5yrdPiNil3HWII",addTokenItem:"bwFW5yE3P8FABAm0MKy7",tokenInfo:"QEysUsImxhw9YQrj0dH2",addTokenText:"UwVvIzjrkmxqeur1x6qh",addTokenText_center:"zLS9Zhv68MckjUkGat0g",addTokenTextCenter:"zLS9Zhv68MckjUkGat0g",addTokenSymbol:"alx4hBicFvr4ZESBCG7I",addTokenSymbol_loading:"cPkTSbSXbXXC3SDGRV7N",addTokenSymbolLoading:"cPkTSbSXbXXC3SDGRV7N",addTokenSymbol_gray:"AUuVu8illfJA9WQwg4Bo",addTokenSymbolGray:"AUuVu8illfJA9WQwg4Bo",addTokenPrice:"FL7JwRJ8uH_CRT9rpzAA",addTokenPrice_loading:"LRbWPt8SClc5YWAwzGxY",addTokenPriceLoading:"LRbWPt8SClc5YWAwzGxY",addTokenPrice_gray:"_W5i2imBH9gDkjl9opMX",addTokenPriceGray:"_W5i2imBH9gDkjl9opMX",addTokenIcon:"xIq4cREpj6j43rVxRvu3",addTokenIcon_loading:"uXSM6tOGfZW1SMnnjl39",addTokenIconLoading:"uXSM6tOGfZW1SMnnjl39",addTokenIcon_empty:"Q0Xsvu0Tm4nCGIn5Yrig",addTokenIconEmpty:"Q0Xsvu0Tm4nCGIn5Yrig",emptyIcon:"KpVdANda3wHQXzbwAdWq",backdrop:"uqzKaW5qqdco47V_0iEW"},zn=n.p+"logo.94fd894f70f34bf26464.svg",jn=te((function(e){let{handleBackClick:t,isInsideModal:n}=e;const o=fn(),{handleScroll:r,isAtBeginning:s}=Sn();return ae.createElement("div",{className:Fn.slide},n?ae.createElement(qn,{title:o("About"),withBorder:!s,onBackButtonClick:t}):ae.createElement("div",{className:Fn.header},ae.createElement(yn,{isSimple:!0,isText:!0,onClick:t,className:Fn.headerBack},ae.createElement("i",{className:Ot(Fn.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ae.createElement("span",null,o("Back"))),ae.createElement("span",{className:Fn.headerTitle},o("About"))),ae.createElement("div",{className:Ot(Fn.content,n&&"custom-scroll",!n&&Fn.content_noScroll),onScroll:n?r:void 0},ae.createElement("img",{src:zn,alt:o("Logo"),className:Fn.logo}),ae.createElement("h2",{className:Fn.title},a.iC," ",a.Ji,ae.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",className:Fn.titleLink,rel:"noreferrer"},"mytonwallet.io")),ae.createElement("div",{className:Ot(Fn.blockAbout,!n&&"custom-scroll")},ae.createElement("p",{className:Fn.text},Zt(o("$about_description1"))),ae.createElement("p",{className:Fn.text},Zt(o("$about_description2"))),Lt.FH?ae.createElement(ae.Fragment,null,ae.createElement("h3",{className:Ot(Fn.text,Fn.heading)},ae.createElement(Pn,{from:"🥷"})," ",o("What is TON Proxy?")),ae.createElement("p",{className:Fn.text},Zt(o("$about_extension_description1"))," ",ae.createElement("a",{href:"https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2",target:"_blank",rel:"noopener noreferrer"},o("More info and demo."))),ae.createElement("h3",{className:Ot(Fn.text,Fn.heading)},ae.createElement(Pn,{from:"🦄"})," ",o("What is TON Magic?")),ae.createElement("p",{className:Fn.text},Zt(o("$about_extension_description2"))),ae.createElement("p",{className:Fn.text},o("$about_extension_description3")," ",ae.createElement("a",{href:"https://telegra.ph/Telegram--TON-11-10",target:"_blank",rel:"noopener noreferrer"},o("More info and demo.")))):ae.createElement(ae.Fragment,null,ae.createElement("h3",{className:Ot(Fn.text,Fn.heading)},o("$about_proxy_magic_title",{ninja:ae.createElement(Pn,{from:"🥷"}),unicorn:ae.createElement(Pn,{from:"🦄"})})),ae.createElement("p",{className:Fn.text},o("$about_proxy_magic_description",{extension_link:ae.createElement("a",{href:"https://mytonwallet.io/",target:"_blank",rel:"noreferrer"},Zt(o("$about_extension_link_text")))}))),ae.createElement("h3",{className:Ot(Fn.text,Fn.heading)},ae.createElement("i",{className:Ot(Fn.github,"icon-github")})," ",o("Is it open source?")),ae.createElement("p",{className:Fn.text},o("$about_wallet_github",{github_link:ae.createElement("a",{href:"https://github.com/mytonwalletorg/mytonwallet",target:"_blank",rel:"noreferrer"},Zt(o("$about_github_link_text")))})),ae.createElement("h3",{className:Fn.heading},ae.createElement("i",{className:Ot(Fn.telegram,"icon-telegram")})," ",o("Is there a community?")),ae.createElement("p",{className:Fn.text},o("$about_wallet_community",{community_link:ae.createElement("a",{href:"ru"===o.code?"https://t.me/MyTonWalletRu":"https://t.me/MyTonWalletEn",target:"_blank",rel:"noreferrer"},Zt(o("$about_community_link_text")))})))))}));function Kn(e,t,n,a,o){let r=!1;function s(o){r||o.target!==o.currentTarget||a&&(o instanceof TransitionEvent&&o.propertyName===a||o instanceof AnimationEvent&&o.animationName===a)||(r=!0,t.removeEventListener(e,s),setTimeout((()=>{n()}),50))}t.addEventListener(e,s),o&&setTimeout((()=>{r||(t.removeEventListener(e,s),n())}),o)}function Yn(e){e.offsetWidth}const Zn="Transition_slide",Qn="Transition_slide-active",Jn="Transition_slide-from",Gn="Transition_slide-to",Xn="Transition_slide-inactive",ea=Qn,ta=Gn,na=function(e){let{ref:t,activeKey:n,nextKey:o,name:r,direction:s="auto",renderCount:i,shouldRestoreHeight:l,shouldCleanup:c,cleanupExceptionKey:d,shouldWrap:u,wrapExceptionKey:m,id:p,className:h,slideClassName:g,onStart:f,onStop:w,children:y}=e;const E=ee(),{animationLevel:b}=vt().settings;let k=ee(null);t&&(k=t);const N=ee({}),C=zt(n),S=He(),T=void 0!==C&&n!==C;!i&&T&&(N.current={[C]:N.current[C]}),N.current[n]=y,o&&(N.current[o]=y);const A=-1===s||"auto"===s&&C>n||"inverse"===s&&C<n;J((()=>{function e(){if(!c)return;const e=void 0!==d?N.current[d]:void 0;N.current=e?{[d]:e}:{},S()}const t="slideOptimized"===r||"slideOptimizedRtl"===r,s=k.current,u=Object.keys(N.current).map(Number),m=i?C:u.indexOf(C),p=i?n:u.indexOf(n),h=o?i?o:u.indexOf(o):-1,y=Array.from(s.childNodes);if(!y.length)return;if(Array.from(s.children).forEach((e=>{Be(e,Zn),g&&Be(e,g)})),!T){const e=y[p];e instanceof HTMLElement&&(Be(e,Qn),t&&(e.style.transition="none",e.style.transform="translate3d(0, 0, 0)"));const n=-1!==h&&h!==p&&y[h];return void(n instanceof HTMLElement&&Be(n,Xn))}if(E.current=n,t)return void function(e,t,n,o,r,s,i,l,c,d,u,m){if(e===a.oB)return We(i,`Transition-${t}`,!n),We(i,`Transition-${t}Backwards`,n),c instanceof HTMLElement&&(c.style.transition="none",c.style.transform="",Re(c,Qn)),l instanceof HTMLElement&&(l.style.transition="none",l.style.transform="translate3d(0, 0, 0)",Be(l,Qn)),void o();"slideOptimizedRtl"===t&&(n=!n);const p=Je();null==u||u(),We(i,`Transition-${t}`,!n),We(i,`Transition-${t}Backwards`,n),c instanceof HTMLElement&&(c.style.transition="none",c.style.transform="translate3d(0, 0, 0)"),l instanceof HTMLElement&&(l.style.transition="none",l.style.transform=`translate3d(${n?"-":""}100%, 0, 0)`),(0,v.lT)((()=>(l instanceof HTMLElement&&Yn(l),()=>{c instanceof HTMLElement&&(c.style.transition="",c.style.transform=`translate3d(${n?"":"-"}100%, 0, 0)`,Re(c,Qn)),l instanceof HTMLElement&&(l.style.transition="",l.style.transform="translate3d(0, 0, 0)",Be(l,Qn))}))),Kn("transitionend",l,(()=>{const e=l instanceof HTMLElement?l.clientHeight:void 0;(0,v.WM)((()=>{r===s.current&&(c instanceof HTMLElement&&(c.style.transition="none",c.style.transform=""),d&&e&&l instanceof HTMLElement&&(l.style.height="auto",i.style.height=`${e}px`),null==m||m(),p(),o())}))}),undefined,undefined)}(b,r,A,e,n,E,s,y[p],y[m],l,f,w);if("none"===r||b===a.oB)return y.forEach(((e,t)=>{e instanceof HTMLElement&&(Re(e,Jn),Re(e,Gn),We(e,Qn,t===p),We(e,Xn,t!==p))})),void e();y.forEach(((e,t)=>{e instanceof HTMLElement&&(Re(e,Qn),We(e,Jn,t===m),We(e,Gn,t===p),We(e,Xn,t!==m&&t!==p))}));const _=Je();function I(){const t=s.querySelector(`.${Qn}`),{clientHeight:a}=t||{};(0,v.WM)((()=>{n===E.current&&(Re(s,`Transition-${r}`),Re(s,`Transition-${r}Backwards`),y.forEach(((e,t)=>{e instanceof HTMLElement&&(Re(e,Jn),Re(e,Gn),We(e,Qn,t===p),We(e,Xn,t!==p))})),l&&t&&(t.style.height="auto",s.style.height=`${a}px`),null==w||w(),_(),e())}))}null==f||f(),We(s,`Transition-${r}`,!A),We(s,`Transition-${r}Backwards`,A);const x="reveal"===r&&A?y[m]:y[p];x?Kn("animationend",x,I,void 0,1e3):I()}),[n,o,C,T,A,r,f,w,i,l,c,g,d,b,S]),Q((()=>{if(!l)return;const e=k.current,t=e.querySelector(`.${Qn}`)||e.querySelector(`.${Jn}`);if(!t)return;const{clientHeight:n}=t||{};n&&(0,v.WM)((()=>{t.style.height="auto",e.style.height=`${n}px`,e.style.flexBasis=`${n}px`}))}),[l,y]);const _=!i,I=N.current,x=Object.keys(i?new Array(i).fill(void 0):I).map(Number).map((e=>{const t=I[e];if(!t)return;const a="function"==typeof t?t(e===n,e===C,e):t;return u&&e!==m||_?ae.createElement("div",{key:e,teactOrderKey:e},a):a}));return ae.createElement("div",{ref:k,id:p,className:Ot("Transition",h),teactFastList:_},x)},aa=n.p+"duck_bill.0b116864bb6c0c8f39c7.tgs",oa=n.p+"duck_forges.56963fc80c4b20ba0971.tgs",ra=n.p+"duck_happy.8f29b0212ea907373f59.tgs",sa=n.p+"duck_hello.7ac55140034817555c4e.tgs",ia=n.p+"duck_no-data.e3dfea28a5027d6f4f50.tgs",la=n.p+"duck_snitch.4285b99fc5245f42f600.tgs",ca=n.p+"duck_thumb.e2a8c294e106dbcd2a33.tgs",da=n.p+"duck_ton.613a9a6cc80f8c578002.tgs",ua=n.p+"duck_wait.a8672f5424b91df518a6.tgs",ma=n.p+"duck_bill.966ff858d718072aae75.png",pa=n.p+"duck_forges.52c157bd0cc621f324e1.png",ha=n.p+"duck_happy.b8afd923624d1ef9061d.png",ga=n.p+"duck_hello.c865862ea6c03bf4088b.png",va=n.p+"duck_no-data.21cf5ad05a9a06aebcff.png",fa={hello:sa,snitch:la,bill:aa,thumbUp:ca,holdTon:da,happy:ra,noData:ia,forge:oa,wait:ua,helloPreview:ga,snitchPreview:n.p+"duck_snitch.b567535e9c071b993b06.png",billPreview:ma,thumbUpPreview:n.p+"duck_thumb.8d21bd4f32485ac2c2a2.png",holdTonPreview:n.p+"duck_ton.c26fd7a7467b637009fe.png",happyPreview:ha,noDataPreview:va,forgePreview:pa,waitPreview:n.p+"duck_wait.b0fe6ec6993586b30e65.png"};function wa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(";")}let ya,Ea;async function ba(){return ya||(ya=n.e(262).then(n.bind(n,45262)).then((e=>e.default)),Ea=await ya),ya}function ka(){return Ea}setTimeout(ba,3e3);const Na=(0,qe._)(),Ca=(0,qe._)();let Sa=document.hasFocus();window.addEventListener("blur",(()=>{Sa&&(Sa=!1,Na.runCallbacks())})),window.addEventListener("focus",(()=>{Sa=!0,Ca.runCallbacks()}));const Ta=(e,t,n)=>{const a=ee();return Q((()=>{const n=a.current;return a.current=t,e(n||[])}),t,n)},Aa=(0,qe._)(),_a=(0,qe._)();const Ia=new Map,xa=te((e=>{let{ref:t,renderId:n,className:o,style:r,tgsUrl:i,play:l,playSegment:c,speed:d,noLoop:u,size:m,quality:p,isLowPriority:h,color:g,forceOnHeavyAnimation:f,forceInBackground:w,sharedCanvas:y,sharedCanvasCoords:E,onClick:b,onLoad:k,onEnded:N,onLoop:C}=e,S=ee(null);t&&(S=t);const T=Xe(),[A,_]=Y(),I=ee(),x=ee(!0),P=l||!1!==l&&c,M=Fe(l),D=Fe(c),O=ee(),L=ee(!1);Q((()=>()=>{L.current=!0}),[]);const V=ze((()=>{if(I.current||L.current||!i||y&&(!E||!y.offsetWidth||!y.offsetHeight))return;const e=S.current||y;if(!e)return;const t=ka().init(i,e,n||(0,Ge.Z)(),{size:m,noLoop:u,quality:p,isLowPriority:h,coords:E},T,O.current,k,N,C);d&&t.setSpeed(d),_(t),I.current=t}));Q((()=>{ka()?V():ba().then(V)}),[V,i,y,E]);const B=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=X(e,t);return G((()=>"number"==typeof n?(0,s.P2)(o,n,!a):(0,s.d0)(n,o)),[o,n,a])}(V,[V],150);!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=Fe(t);Q((()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const o=e=>{let[t]=e;t.target.offsetWidth&&t.target.offsetHeight&&a.current(t)};let[r,s]=Ia.get(t)||[void 0,void 0];return r||(s=(0,qe._)(),r=new IntersectionObserver(s.runCallbacks),Ia.set(t,[r,s]),r.observe(t)),s.addCallback(o),()=>{s.removeCallback(o),s.hasCallbacks()||(r.unobserve(t),r.disconnect(),Ia.delete(t))}}),[n,a,e])}(y,B),Q((()=>{A&&A.setColor(O.current)}),[g,A]),Q((()=>()=>{var e;null===(e=I.current)||void 0===e||e.removeView(T)}),[T]);const R=ze((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];A&&(M.current||D.current)&&!Pa(f,w)&&(D.current?A.playSegment(D.current,e,T):A.play(e,T))})),W=ze((()=>{(0,v.i$)(R)})),$=ze((()=>{null!=A&&A.isPlaying()&&A.pause(T)}));if(Ta((e=>{let[t]=e;void 0!==t&&u!==t&&(null==A||A.setNoLoop(u))}),[u,A]),Ta((e=>{let[t]=e;void 0!==t&&E!==t&&(null==A||A.setSharedCanvasCoords(T,E))}),[E,T,A]),Q((()=>{A&&(P?Pa(f,w)||R(u):$())}),[A,P,u,R,$,f,w]),Q((()=>{A&&(x.current?x.current=!1:i&&(A.changeData(i),R()))}),[R,A,i]),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ze(e),o=ze(t);Q((()=>{if(!n)return Ze&&a(),je.addCallback(a),Ke.addCallback(o),()=>{Ke.removeCallback(o),je.removeCallback(a)}}),[n,o,a])}($,R,!P||f),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ze(e),o=ze(t);Q((()=>{if(!n)return Aa.addCallback(a),_a.addCallback(o),()=>{_a.removeCallback(o),Aa.removeCallback(a)}}),[n,a,o])}($,R,!P),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ze(e),o=ze(t);Q((()=>{if(!n)return Sa||a(),Na.addCallback(a),Ca.addCallback(o),()=>{Ca.removeCallback(o),Na.removeCallback(a)}}),[n,a,o])}($,W,!P||w),!y)return ae.createElement("div",{ref:S,className:Ot("AnimatedSticker",o),style:wa(void 0!==m&&`width: ${m}px; height: ${m}px;`,b&&!a.D$&&"cursor: pointer",r),onClick:b})}));function Pa(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&Qe()||!e&&!Sa}function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ma.apply(this,arguments)}const Da=te((function(e){const{size:t,play:n=!0,noLoop:a=!0,className:o,noTransition:r,nonInteractive:s,onLoad:i,onClick:l,...c}=e,[d,u]=qt(!1),m=An(r||d),p=X((()=>{u(),null==i||i()}),[u,i]),[h,g]=Y(String(Math.random())),v=X((()=>{!0===n&&g(String(Math.random())),null==l||l()}),[l,n]);return ae.createElement(xa,Ma({className:Ot(o,m),size:t,play:!0===n?h:n,noLoop:a,onClick:s?void 0:v,onLoad:p},c))})),Oa="SebvXh8Fd6hv5K_Forju";function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},La.apply(this,arguments)}const Va=new Set,Ba=150,Ra=te(Et((e=>({noAnimation:e.settings.animationLevel===a.oB})))((function(e){const{size:t=Ba,previewUrl:n,thumbDataUri:a,className:o,noAnimation:r,...s}=e,[i,l]=qt(Boolean(a)||Va.has(n)),c=An(i),[d,u,m]=qt(!1);Q((()=>{r&&m()}),[m,r]);const p=X((()=>{l(),Va.add(n)}),[l,n]);return ae.createElement("div",{className:Ot(o,"j6PlBZGgrcLPvq4ZgQly",c),style:wa(void 0!==t&&`width: ${t}px; height: ${t}px;`)},a&&!n&&!d&&ae.createElement("img",{src:a,className:Oa}),n&&!d&&ae.createElement("img",{src:n,className:Oa,onLoad:p}),!r&&ae.createElement(Da,La({size:t},s,{onLoad:u,noTransition:!0})))}))),Wa={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},$a={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function Ua(e){return Ha()||document.addEventListener("keydown",qa,!0),Object.keys(e).forEach((t=>{const n=e[t];if(!n)return;const a=$a[t];a&&a.push(n)})),()=>{!function(e){Object.keys(e).forEach((t=>{const n=e[t],a=$a[t];if(a){const e=a.findIndex((e=>e===n));-1!==e&&a.splice(e,1)}})),Ha()||document.removeEventListener("keydown",qa,!1)}(e)}}function Ha(){return Object.values($a).some((e=>Boolean(e.length)))}function qa(e){const t=Wa[e.key];if(!t)return;const{length:n}=$a[t];n&&(e.stopPropagation(),(0,$a[t][n-1])(e))}function Fa(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const a=n.findIndex((e=>e.isSameNode(document.activeElement)));let o=0;a>=0&&(o=t.shiftKey?a>0?a-1:n.length-1:a<n.length-1?a+1:0),n[o].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}const za=function(e){let{containerId:t,className:n,style:a,children:o}=e;const r=ee();return r.current||(r.current=document.createElement("div")),J((()=>{const e=document.querySelector(t||"#portals");if(!e)return;const o=r.current;return n&&(o.className=n),a&&(o.style.cssText=a),e.appendChild(o),()=>{$e(void 0,o),e.removeChild(o)}}),[n,a,t]),$e(o,r.current)},ja=function(e){let{dialogRef:t,title:n,className:o,dialogClassName:r,contentClassName:s,isOpen:i,isCompact:l,isSlideUp:c,noBackdrop:d,noBackdropClose:u,header:m,hasCloseButton:p,children:h,onClose:g,onCloseAnimationEnd:v,onEnter:f,shouldSkipHistoryAnimations:w}=e;const{isPortrait:y}=Ht(),E=y?500:350,{shouldRender:b,transitionClassNames:k}=Tn(i,v,w,!1,w,E+a.fK),N=ee(null),C=fn(),S=X((e=>{Lt.FH&&e.preventDefault(),g()}),[g]);if(Q((()=>i?Ua({onEsc:S,onEnter:f}):void 0),[S,i,f]),Q((()=>i&&N.current?Fa(N.current):void 0),[i]),Ta((e=>{let[t]=e;(i||!i&&void 0!==t)&&Je(E+a.fK)}),[E,i]),!b)return;const T=Ot("Qcp6S0Lfp0zTeIho5Asz",o,k,c&&y&&"bvkghmbKv99kOPav5vU2",l&&"y8UmdhMZmY44Ag5iYy3H"),A=Ot("C3PIl0wNtlGIggJGLFVh",d&&"vUHdTAv5TSeseF7eyJKs"),_=Ot("pKgxYEUM31g_j38iQIrA",c&&"WyvED7a3IibwmF8pp9kw","custom-scroll",s);return ae.createElement(za,null,ae.createElement("div",{ref:N,className:T,tabIndex:-1,role:"dialog"},ae.createElement("div",{className:"tMKb4sRVVePeWIHzvDj6"},ae.createElement("div",{className:A,onClick:u?void 0:g}),ae.createElement("div",{className:Ot("kmjhCU3unxY3mL8L4Nny",r),ref:t},m||(n?ae.createElement("div",{className:Ot(Mn,!p&&"AyvaIpOr_6THig1GHryR")},ae.createElement("div",{className:Dn},n),p&&ae.createElement(yn,{isRound:!0,className:On,ariaLabel:C("Close"),onClick:g},ae.createElement("i",{className:Ot(Ln,"icon-close"),"aria-hidden":!0}))):void 0),ae.createElement("div",{className:_},h)))))};var Ka=n(56845);const Ya={suggestions:"npDwJDLse3rJnGSdc8L4",bottom:"fpxVR_LsRlkkC3EYL0w9",top:"VWqJhoieW6U_YYUt1jiQ",suggestion:"OmV_sPeeLq9aLTs_lux9",active:"l_lP3j33iaXw5EwvueFZ"},Za=te((function(e){let{position:t="bottom",suggestions:n,activeIndex:a,isInModal:o,onSelect:r}=e;const s=fn(),i=e=>{const t=e.target.innerText.trim();r(t)};return n.length?ae.createElement("ul",{className:Ot(Ya.suggestions,Ya[t],o&&Ya.embedded)},n.map(((e,t)=>ae.createElement("li",{key:e,role:"button",tabIndex:0,className:Ot(Ya.suggestion,t===a&&Ya.active),onMouseDown:i},e)))):ae.createElement("div",{className:Ya.suggestions},ae.createElement("li",{className:Ya.suggestion},s("No suggestions, you're on your own!")))})),Qa={wrapper:"KzYNlvc1zUfMyr1BrpJV",wrapper_focus:"mPAEU1rwcC6__2oo8sJw",wrapperFocus:"mPAEU1rwcC6__2oo8sJw",wrapper_error:"RrEMYdpiU63yPgdvbokg",wrapperError:"RrEMYdpiU63yPgdvbokg",input:"oj0DjEY1Q_lf4jSzWLzW",label:"SI7eZ0lb8I8sNaq_Jrmp"},{default:Ja}=Ka.wordlists,Ga=te((function(e){let{id:t,nextId:n,labelText:a,className:o,value:r="",isInModal:s,suggestionsPosition:i,inputArg:l,onInput:c}=e;const[d,u,m]=qt(),[p,h]=Y(!1),[g,v]=Y([]),[f,w]=Y(0),[y,E]=Y(!1),b=y&&r&&g.length>0;Q((()=>{var e;y&&r&&0===g.length?h(!0):d||!r||(e=r,Ja.includes(e))?h(!1):h(!0)}),[g.length,d,y,r]);const k=e=>{const t=Ja.filter((t=>t.toLowerCase().startsWith(e.toLowerCase()))).slice(0,7);c(e,l),v(t),w(0),E(!0)},N=X((e=>{c(e,l),E(!1),w(0),v([])}),[l,c]);return ae.createElement("div",{className:Ot(Qa.wrapper,o,d&&Qa.wrapper_focus,p&&Qa.wrapper_error)},b&&ae.createElement(Za,{suggestions:g,activeIndex:f,position:i,isInModal:s,onSelect:N}),ae.createElement("label",{className:Qa.label,htmlFor:t},a,"."),ae.createElement("input",{id:t,className:Ot(Qa.input,""!==r&&Qa.touched),type:"text",autoComplete:"off",onChange:e=>{const t=e.target.value;k(t)},onKeyDown:e=>{if(r){if(("Enter"===e.code||"Tab"===e.code&&!(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey))&&(c(g[f],l),v([g[f]]),w(0),E(!1),y&&e.preventDefault(),n&&requestAnimationFrame((()=>{const e=document.getElementById(n);null==e||e.focus(),null==e||e.select()}))),"ArrowUp"===e.code){if(0===f)return;w(f-1)}if("ArrowDown"===e.code){if(f===g.length-1)return;w(f+1)}}},onFocus:e=>{k(e.target.value),u()},onBlur:e=>{e.target.blur(),m(),requestAnimationFrame((()=>{E(!1),v([])}))},onPaste:e=>{const t=e.clipboardData.getData("text");k(t)},value:r,tabIndex:0}))})),Xa={"is-ios":"tQfRB0QEPIKhLqneEOiP",isIos:"tQfRB0QEPIKhLqneEOiP","is-android":"tMEXfx8ObCkS7lEBapwN",isAndroid:"tMEXfx8ObCkS7lEBapwN",wrapper:"WSONEgG3IdI6EQ_RiB_2",transitionContainer:"MqfW2oxGablZ6k_j_gFw",transitionSlide:"ufnyoj1S9C7uQSNv5ybk",container:"SCQYgCOzm_JwH4zw_fJj",container_scrollable:"QGJ3v28v13lBO2aJsY1f",containerScrollable:"QGJ3v28v13lBO2aJsY1f",container_password:"jj8YibRDGJNJMgSNz7MB",containerPassword:"jj8YibRDGJNJMgSNz7MB",logo:"wEvuWbWhQedSWOPczwMM",appName:"sdpnta84ITO2CuJQJG6i",title:"Iy02tFFd7DWdLIVBssiM",title_afterSmallSticker:"TxywEGQvm_df8LLellZp",titleAfterSmallSticker:"TxywEGQvm_df8LLellZp",info:"_mddt0oJI7Is9aB0IFKh",info_push:"QOZ41BOKJUJqzh12PvOd",infoPush:"QOZ41BOKJUJqzh12PvOd",info_pull:"j2i0LLpN4QvTNKqtUTyV",infoPull:"j2i0LLpN4QvTNKqtUTyV",info__space:"mw5HOhievDUeL553FPVN",infoSpace:"mw5HOhievDUeL553FPVN",counter:"YQrZeRc6AH93A05u3PVz",counterTitle:"QeG3p90K1y4GRcwvwaSi",counterDigit:"_6E64HE7YT7cQqr4MCfB3",small:"J3gjverYCeCeVBOhn6BL",sticker:"FAaHkktx6u91quZS6bIo",modalSticker:"cTKyXeGpI1vFFl4FFKcV",form:"DT898gZZfeJ2SDX2J0_Y",checkMnemonicInput:"mUfD8aEl_RSi9_epq8Y2",errors:"a1xCMnPovgQ46dKR8XDE",passwordRules:"eeLjU5CF7ub9sU6VYY2O",passwordRule:"fZIT2aS9pGX5RkxzK7hk",valid:"IWuu_8TKMrRdWGbRFsgk",error:"oNVjyJw8MMhJw_jkQV1s",buttons:"h9DiBv62Am7dqPQ4OTOK",buttons__inner:"gBmMCY_b1oF30eRFo2_d",buttonsInner:"gBmMCY_b1oF30eRFo2_d",footerButton:"Vf1sbfrPB3JErqGFPV00",btn:"cg3f0Zms_61_DpHQnTvg",btn_push:"XKbBVkOPkbREa0NMNXKB",btnPush:"XKbBVkOPkbREa0NMNXKB",btn_text:"CrQrOVjIZt57rQBNLxZ3",btnText:"CrQrOVjIZt57rQBNLxZ3",btn_about:"eg4Kz62B1onJ7w7MTKnJ",btnAbout:"eg4Kz62B1onJ7w7MTKnJ",btn_mini:"Ms19H0cI2E8KumQhblbo",btnMini:"Ms19H0cI2E8KumQhblbo",btn_single:"ACfnX2uIADA7x3GYuQkN",btnSingle:"ACfnX2uIADA7x3GYuQkN",modalDialog:"mI2GAShkg8sNId0g1NMJ",mnemonicContainer:"_DU6lli7MxEQPXZPXNbQ",words:"r1yT7iVuGJrqPFqmHKC1",word:"QIImTjdOE9uYHVhVFmkR",importingContent:"Dt6FHuNkFyWKfX3dNdXA",footerError:"eolgfRQK0ImOGHMDFqxt",importButtonsBlock:"zZ9En0QOkvsqpUFkCnIA",importText:"tkd9UMg6dSoqgwC2uJaq",importButtons:"ULlx3U2d23L3G40CKPaz"},eo=te((function(e){var t;let{isActive:n,isInModal:o,mnemonic:r,checkIndexes:s,buttonLabel:i,onCancel:l,onSubmit:c,onClose:d}=e;const u=fn(),[p,h]=Y({}),[g,v]=Y(!1);Q((()=>{n&&(h({}),v(!1))}),[n]);const f=X(((e,t)=>{h({...p,[t]:null==e?void 0:e.toLowerCase()})}),[p]),w=X((e=>{e.preventDefault();const t=r&&(null==s?void 0:s.map((e=>r[e])));t&&(0,m.et)(t,Object.values(p))?c():v(!0)}),[c,s,r,p]);return ae.createElement("div",{className:Un},ae.createElement(qn,{title:u("Let's Check!"),onClose:d}),ae.createElement("div",{className:Ot(Hn,"custom-scroll")},ae.createElement("p",{className:Ot(Xa.info,Xa.small)},u("Let’s make sure your secrets words are recorded correctly.")),ae.createElement("p",{className:Ot(Xa.info,Xa.small)},Zt(u("$mnemonic_check_words_list",null==s||null===(t=s.map((e=>e+1)))||void 0===t?void 0:t.join(", ")))),ae.createElement("form",{onSubmit:w,id:"check_mnemonic_form"},s.map(((e,t)=>ae.createElement(Ga,{key:e,id:`check-mnemonic-${t}`,nextId:t+1<a.BC?`check-mnemonic-${t+1}`:void 0,labelText:`${e+1}`,value:p[e],isInModal:o,suggestionsPosition:t>1?"top":void 0,inputArg:e,className:Xa.checkMnemonicInput,onInput:f})))),g&&ae.createElement("div",{className:Ot(Xa.error,Xa.small)},Zt(u("$mnemonic_check_error"))),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:l},u("Back")),ae.createElement(yn,{isPrimary:!0,forFormId:"check_mnemonic_form"},i))))})),to=te((function(e){let{mnemonic:t,onNext:n,onClose:o}=e;const r=fn();return ae.createElement("div",{className:Un},ae.createElement(qn,{title:r("%1$d Secret Words",a.ci),onClose:o}),ae.createElement("div",{className:Ot(Xa.mnemonicContainer,Hn,"custom-scroll")},ae.createElement("p",{className:Ot(Xa.info,Xa.small)},Zt(r("$mnemonic_list_description"))),ae.createElement("ol",{className:Xa.words},null==t?void 0:t.map((e=>ae.createElement("li",{className:Xa.word},e)))),ae.createElement("div",{className:Bn},ae.createElement(yn,{isPrimary:!0,onClick:n},r("Let's Check")))))})),no=te((function(e){let{id:t,className:n,children:a,checked:o,onChange:r}=e;const s=X((e=>{e.preventDefault(),r(e.currentTarget.checked)}),[r]);return ae.createElement("label",{className:Ot("YM2RhLmN5kTEeDg5kktd",n)},ae.createElement("input",{id:t,type:"checkbox",className:"QPwCvQkjDRKzNZGuf1fI",checked:o,tabIndex:0,onChange:s}),ae.createElement("div",{className:"WcqTTa9PxIJxBtc80p3L"},a))})),ao=te((function(e){let{isActive:t,onSubmit:n,onClose:o}=e;const r=fn(),[s,i]=Y(!1),[l,c]=Y(!1),[d,u]=Y(!1),m=s&&l&&d,p=X((()=>{m&&n()}),[m,n]);return ae.createElement("div",{className:Un},ae.createElement(qn,{title:r("Safety Rules"),onClose:o}),ae.createElement("div",{className:Ot(Hn,"custom-scroll")},ae.createElement(Ra,{tgsUrl:fa.bill,previewUrl:fa.billPreview,size:a.dC,play:t,nonInteractive:!0,noLoop:!1,className:Xa.modalSticker}),ae.createElement(no,{checked:s,onChange:i},Zt(r("$safety_rules_one"))),ae.createElement(no,{checked:l,onChange:c},Zt(r("$safety_rules_two"))),ae.createElement(no,{checked:d,onChange:u},Zt(r("$safety_rules_three"))),ae.createElement("div",{className:Bn},ae.createElement(yn,{isPrimary:!0,onClick:p,isDisabled:!m},r("Understood")))))}));var oo=function(e){return e[e.Accept=0]="Accept",e[e.View=1]="View",e[e.Confirm=2]="Confirm",e}(oo||{});const ro=te((e=>{let{isActive:t,mnemonic:n,checkIndexes:a}=e;const{afterCheckMnemonic:o,skipCheckMnemonic:r,restartCheckMnemonicIndexes:s}=wt(),i=fn(),[l,c,d]=qt(),[u,m]=Y(oo.Accept),[p,h]=Y(oo.View),g=X((()=>{m(oo.Accept),h(oo.View)}),[]),v=X((()=>{m(oo.View),h(oo.Confirm)}),[]),f=X((()=>{v(),setTimeout((()=>{s()}),250)}),[v,s]),w=X((()=>{m(oo.Confirm),h(void 0)}),[]),y=X((()=>{d(),o()}),[o,d]);function E(e,t,o){switch(o){case oo.Accept:return ae.createElement(ao,{isActive:e,onSubmit:v,onClose:d});case oo.View:return ae.createElement(to,{mnemonic:n,onNext:w,onClose:d});case oo.Confirm:return ae.createElement(eo,{isActive:e,mnemonic:n,checkIndexes:a,buttonLabel:i("Continue"),onSubmit:y,onCancel:f,onClose:d})}}return ae.createElement("div",{className:Xa.wrapper},ae.createElement("div",{className:Ot(Xa.container,"custom-scroll")},ae.createElement(Ra,{play:t&&!l,tgsUrl:fa.snitch,previewUrl:fa.snitchPreview,noLoop:!1,nonInteractive:!0,className:Xa.sticker}),ae.createElement("div",{className:Xa.title},i("Create Backup")),ae.createElement("div",{className:Xa.info},ae.createElement("p",{className:Xa.info__space},Zt(i("$auth_backup_description1"))),ae.createElement("p",null,Zt(i("$auth_backup_description2"))),ae.createElement("p",null,Zt(i("$auth_backup_description3")))),ae.createElement("div",{className:Xa.buttons},ae.createElement(yn,{isPrimary:!0,className:Xa.btn,onClick:c},i("Back Up")),ae.createElement(yn,{isDestructive:!0,isText:!0,className:Ot(Xa.btn,Xa.btn_push),onClick:r},i("Skip For Now")))),ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:l,onClose:d,onCloseAnimationEnd:g,dialogClassName:Xa.modalDialog},ae.createElement(na,{name:"pushSlide",className:Wn,slideClassName:$n,activeKey:u,nextKey:p},E)))}));function so(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;Q((()=>{Lt.$b||t||setTimeout((()=>{(0,v.WM)((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}))}),n)}),[e,n,t])}const io=/[`!@#$%^&*()_+\-=\]{};':"\\|,.<>?~]/,lo="BTE_QsaeQT0gsZDGlHNg",co="ap5djuWpoy0oL5laACxY",uo="XO03YPbSPmkqAlFrGxec",mo="aXJZWru7LGisPYtil8LQ",po="M3mw8DDKwTGaIY26U7tw",ho="rykpWf6XyqEKGbm1szpM",go="pt4_Mz2PMz7DlSmx6uxc",vo="ZngyLSc2Upp1juLrP41Y",fo="Xl8ZIuOcBC9TlBB0QlRZ",wo="cMoxHjzMT16GdF7QFMJE",yo="T9j5zsrOmLuT7HP9oaKr",Eo="f85r9LzlhdX6hEBAJp1y",bo="MAa8v99XNhTqFsH5rqXl",ko="UMnK3JZr6ZtDh17cGXpU",No="ow6m8ndEwfkArCLlsjWs",Co="yJ7hozjEpRgb6hVQl4HB",So=te((function(e){let{ref:t,id:n,label:a,placeholder:o,isRequired:r,isControlled:s,isMultiline:i,hasError:l,type:c="text",error:d,value:u="",maxLength:m,inputArg:p,className:h,wrapperClassName:g,autoComplete:v,children:f,onInput:w,onKeyDown:y,onFocus:E,onBlur:b}=e;const k=fn(),[N,C]=Y(!1),S=e=>{w(e.currentTarget.value,p)},T=X((e=>{e.currentTarget.style.height="0",e.currentTarget.style.height=`${e.currentTarget.scrollHeight}px`}),[]),A="text"===c||N?"text":"password",_=Ot(co,h,"password"===c&&po,(l||d)&&mo),I=Ot(bo,(l||d)&&mo,(l||d)&&"password"===c&&No);return ae.createElement("div",{className:Ot(lo,g)},d&&!!a&&ae.createElement("label",{className:Ot(bo,ko,mo),htmlFor:n},d),!!a&&ae.createElement("label",{className:I,htmlFor:n},a),i?ae.createElement("textarea",{ref:t,id:n,className:_,value:u,maxLength:m,autoComplete:v,onInput:S,onChange:T,onKeyDown:y,onFocus:E,onBlur:b,tabIndex:0,required:r,placeholder:o,teactExperimentControlled:s}):ae.createElement("input",{ref:t,id:n,className:_,type:A,value:u,maxLength:m,autoComplete:v,onInput:S,onKeyDown:y,onFocus:E,onBlur:b,tabIndex:0,required:r,placeholder:o,teactExperimentControlled:s}),"password"===c&&ae.createElement("button",{className:Ot(wo,a&&yo),type:"button",onClick:()=>{C(!N)},"aria-label":k("Change password visibility"),tabIndex:-1},ae.createElement("i",{className:N?"icon-eye":"icon-eye-closed"})),d&&!a&&ae.createElement("label",{className:Ot(bo,Co,mo),htmlFor:n},d),f)}));function To(e,t){return Ot(Xa.passwordRule,t?e?Xa.invalid:void 0:Xa.valid)}const Ao=te((e=>{let{isActive:t,method:n,isLoading:a}=e;const{afterCreatePassword:o,restartAuth:r}=wt(),s=fn(),i=ee(null),[l,c]=Y(""),[d,u]=Y(""),[m,p]=Y(!1),[h,g]=Y(!1),[v,f,w]=qt(!1),[y,E,b]=qt(!1),[k,N]=Y(!1),[C,S,T]=qt(!1),A=l.length>0&&d.length>0&&!m,_="createAccount"!==n,I=function(e){switch(e){case"createAccount":return"auth_create_password";case"importMnemonic":return"auth_import_mnemonic_password";case"importHardwareWallet":return"auth_import_hardware_password"}}(n),x=(e=>{let{firstPassword:t="",secondPassword:n="",requiredLength:a=8}=e;const[o,r]=Y(!1),[s,i]=Y(!1),[l,c]=Y(!1),[d,u]=Y(!1),[m,p]=Y(!1),[h,g]=Y(!1);return Q((()=>{r(t.length<a),c(t.toLowerCase()===t),u(t.toUpperCase()===t),i(!/\d/.test(t)),g(Boolean(t&&t!==n)),p(!io.test(t))}),[t,n,a]),{invalidLength:o,noNumber:s,noUpperCase:l,noLowerCase:d,noEqual:h,noSpecialChar:m}})({firstPassword:l,secondPassword:d});so(i,!t),Q((()=>{if(N(!1),""===l||!t||v)return void p(!1);const{noEqual:e}=x;y&&!h||!e||""===d?(!e||""===d||y&&!h)&&p(!1):(p(!0),N(!0))}),[t,l,d,x,y,v,h]);const P=X((e=>{c(e),h&&g(!1)}),[h]),M=X((e=>{u(e),h&&g(!1)}),[h]),D=X((()=>{r()}),[r]),O=X((e=>{if(e.preventDefault(),e.stopPropagation(),A)return l!==d?(g(!0),p(!0),void N(!0)):void(!Object.values(x).find((e=>e))||C?(C&&T(),o({password:l})):S())}),[o,A,l,C,S,d,x,T]),L=m&&!v;return ae.createElement("form",{id:I,onSubmit:O,className:Ot(Xa.container,Xa.container_scrollable,"custom-scroll")},ae.createElement(Ra,{play:t,tgsUrl:fa.happy,previewUrl:fa.happyPreview,noLoop:!1,nonInteractive:!0,className:Xa.sticker}),ae.createElement("div",{className:Xa.title},s("Congratulations!")),ae.createElement("p",{className:Xa.info},ae.createElement("b",null,s(_?"The wallet is imported":"The wallet is ready"),".")),ae.createElement("p",{className:Xa.info},s("Create a password to protect it.")),ae.createElement("div",{className:Xa.form},ae.createElement(So,{ref:i,type:"password",isRequired:!0,id:"first-password",hasError:L,placeholder:s("Enter your password..."),value:l,autoComplete:"new-password",onInput:P,onFocus:f,onBlur:w,className:Xa.input}),ae.createElement(So,{type:"password",isRequired:!0,id:"second-password",placeholder:s("...and repeat it"),hasError:k,value:d,autoComplete:"new-password",onInput:M,onFocus:E,onBlur:b,className:Xa.input})),function(){if(k)return ae.createElement("div",{className:Ot(Xa.errors,Xa.error)},s("Passwords must be equal."));const{invalidLength:e,noUpperCase:t,noLowerCase:n,noNumber:a,noSpecialChar:o}=x;return ae.createElement("div",{className:Xa.passwordRules},s("To protect your wallet as much as possible, use a password with"),ae.createElement("span",{className:To(L,e)}," ",s("$auth_password_rule_8chars"),","),ae.createElement("span",{className:To(L,n)}," ",s("$auth_password_rule_one_small_char"),","),ae.createElement("span",{className:To(L,t)}," ",s("$auth_password_rule_one_capital_char"),","),ae.createElement("span",{className:To(L,a)}," ",s("$auth_password_rule_one_digit"),","),ae.createElement("span",{className:To(L,o)}," ",s("$auth_password_rule_one_special_char")),".")}(),ae.createElement("div",{className:Ot(Xa.buttons,Xa.buttons__inner)},ae.createElement(yn,{onClick:D,className:Xa.footerButton},s("Cancel")),ae.createElement(yn,{isSubmit:!0,isPrimary:!0,isDisabled:k||""===l,isLoading:a,className:Xa.footerButton},s("Continue"))),ae.createElement(ja,{isOpen:C,isCompact:!0,onClose:T,title:s("Insecure Password")},ae.createElement("p",{className:Vn},s("Your have entered an insecure password, which can be easily guessed by scammers.")),ae.createElement("p",{className:Vn},s("Continue or change password to something more secure?")),ae.createElement("div",{className:Bn},ae.createElement(yn,{isPrimary:!0,onClick:T,className:Rn},s("Change")),ae.createElement(yn,{forFormId:I,isSubmit:!0,isDestructive:!0,className:Rn},s("Continue")))))})),_o=te((e=>{let{isActive:t}=e;const n=fn(),[a,o]=qt(),[r,s]=qt(),[i,l]=qt();Kt(o,t?700:void 0),Kt(s,t?1700:void 0),Kt(l,t?2700:void 0);const c=An(a),d=An(r),u=An(i);return ae.createElement("div",{className:Ot(Xa.container,"custom-scroll")},ae.createElement(Ra,{play:t,tgsUrl:fa.hello,previewUrl:fa.helloPreview,nonInteractive:!0,noLoop:!1}),ae.createElement("div",{className:Xa.title},n("Creating Wallet...")),ae.createElement("div",{className:Ot(Xa.counter)},ae.createElement("p",{className:Xa.counterTitle},n("On the count of three...")),ae.createElement("b",{className:Ot(Xa.counterDigit,c)},"1"),ae.createElement("b",{className:Ot(Xa.counterDigit,d)},"2"),ae.createElement("b",{className:Ot(Xa.counterDigit,u)},"3")))})),Io=[...Array(a.ci)].map(((e,t)=>({id:t,label:`${t+1}`}))),xo=te(Et((e=>({error:e.auth.error,isLoading:e.auth.isLoading})))((e=>{let{isActive:t,isLoading:n,error:o}=e;const{afterImportMnemonic:r,restartAuth:s}=wt(),i=fn(),[l,c]=Y({}),{isPortrait:d}=Ht(),u=X((e=>{var t,n;const o=e.replace(/(?:\r\n)+|[\r\n\s;,\t]+/g," ").trim().split(" ");if(1===o.length&&null!==(t=document.activeElement)&&void 0!==t&&t.id.startsWith("import-mnemonic-")){document.activeElement.value=o[0];const e=new Event("input");document.activeElement.dispatchEvent(e)}else o.length===a.ci&&(requestAnimationFrame((()=>{c(o)})),null!==(n=document.activeElement)&&void 0!==n&&n.id.startsWith("import-mnemonic-")&&document.activeElement.blur())}),[]);((e,t)=>{Q((()=>{if(e)return document.addEventListener("paste",n,!1),()=>{document.removeEventListener("paste",n,!1)};function n(e){if(!e.clipboardData)return;const n=e.clipboardData.getData("text").substring(0,4096);n&&(e.preventDefault(),t(n))}}),[e,t])})(Boolean(t),u);const m=G((()=>{const e=Object.values(l);return e.length!==a.ci||e.some((e=>!e))}),[l]),p=X(((e,t)=>{c({...l,[t]:null==e?void 0:e.toLowerCase()})}),[l]),h=X((()=>{setTimeout((()=>{s()}),250)}),[s]),g=X((()=>{m||r({mnemonic:Object.values(l)})}),[r,m,l]);return Q((()=>m?void 0:Ua({onEnter:g})),[r,g,m,l]),ae.createElement("div",{className:Ot(Xa.container,Xa.container_scrollable,"custom-scroll")},ae.createElement(Ra,{play:t,size:a.dC,tgsUrl:fa.snitch,previewUrl:fa.snitchPreview,nonInteractive:!0,noLoop:!1,className:Xa.sticker}),ae.createElement("div",{className:Ot(Xa.title,Xa.title_afterSmallSticker)},i("%1$d Secret Words",a.ci)),ae.createElement("div",{className:Ot(Xa.info,Xa.info_pull)},Zt(i("$auth_import_mnemonic_description",a.ci))),ae.createElement("div",{className:Xa.importingContent},Io.map((e=>{let{id:t,label:n}=e;return ae.createElement(Ga,{key:t,id:`import-mnemonic-${t}`,nextId:t+1<a.ci?`import-mnemonic-${t+1}`:void 0,labelText:n,value:l[t],suggestionsPosition:Po(t,d),inputArg:t,onInput:p})}))),ae.createElement("div",{className:Xa.buttons},o&&ae.createElement("div",{className:Xa.footerError},o),ae.createElement("div",{className:Xa.buttons__inner},ae.createElement(yn,{onClick:h,className:Xa.footerButton},i("Cancel")),ae.createElement(yn,{isPrimary:!0,isDisabled:m,isLoading:n,className:Xa.footerButton,onClick:g},i("Continue")))))})));function Po(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!t&&(e>5&&e<8||e>13&&e<16||e>21)||t&&(e>7&&e<12||e>19)?"top":void 0}const Mo=te((()=>{const{startCreatingWallet:e,startImportingWallet:t,openAbout:n,openHardwareWalletModal:o}=wt(),r=fn(),[s,i]=qt(),{transitionClassNames:l}=Tn(s,void 0,void 0,"slow"),c=X((()=>{e()}),[e]);return ae.createElement("div",{className:Ot(Xa.container,"custom-scroll")},ae.createElement("img",{src:zn,alt:a.iC,className:Ot(Xa.logo,l),onLoad:i}),ae.createElement("div",{className:Xa.appName},a.iC),ae.createElement("div",{className:Xa.info},Zt(r("$auth_intro"))),ae.createElement(yn,{isText:!0,className:Ot(Xa.btn,Xa.btn_about),onClick:n},r("More about MyTonWallet"),ae.createElement("i",{className:"icon-chevron-right"})),ae.createElement("div",{className:Xa.importButtonsBlock},ae.createElement(yn,{isPrimary:!0,className:Xa.btn,onClick:c},r("Create Wallet")),ae.createElement("span",{className:Xa.importText},r("Or import from...")),ae.createElement("div",{className:Xa.importButtons},ae.createElement(yn,{className:Ot(Xa.btn,!Lt.lz&&Xa.btn_single),onClick:t},r("%1$d Secret Words",a.ci)),Lt.lz&&ae.createElement(yn,{className:Ot(Xa.btn,Xa.btn_mini),onClick:o},r("Ledger")))))})),Do=Object.keys(Nt).length/2,Oo=te(Et((e=>(0,m.ei)(e.auth,["state","mnemonic","mnemonicCheckIndexes","isLoading","method"])))((e=>{var t;let{state:n,isLoading:a,mnemonic:o,mnemonicCheckIndexes:r,method:s}=e;const{closeAbout:i}=ht(),{isPortrait:l}=Ht(),c=null!==(t=Cn(n===Nt.ready?void 0:n,!0))&&void 0!==t?t:-1,[d,u]=Y(c+1),m=X((()=>{u(c+1)}),[c]);function p(e,t,n){switch(n){case Nt.none:return ae.createElement(Mo,null);case Nt.creatingWallet:return ae.createElement(_o,{isActive:e});case Nt.createPassword:return ae.createElement(Ao,{isActive:e,isLoading:a,method:"createAccount"});case Nt.createBackup:return ae.createElement(ro,{isActive:e,mnemonic:o,checkIndexes:r});case Nt.importWallet:return ae.createElement(xo,{isActive:e});case Nt.importWalletCreatePassword:return ae.createElement(Ao,{isActive:e,isLoading:a,method:s});case Nt.about:return ae.createElement(jn,{handleBackClick:i})}}return ae.createElement(na,{name:l?"pushSlide":"semiFade",activeKey:c,renderCount:Do,shouldCleanup:!0,className:Xa.transitionContainer,slideClassName:Xa.transitionSlide,nextKey:d,onStop:m},p)})));function Lo(e,t){return void 0===t&&(t=a.z9),function(e,t){const n=e/t;return Number(n)+Number(e-n*t)/Number(t)}(BigInt(e),BigInt(10**t))}function Vo(e,t){return void 0===t&&(t=a.z9),String(Math.round(e*10**t))}function Bo(e){return e.includes("|")}function Ro(e){const t=Wo(e);return[$o({...t,network:"mainnet"}),$o({...t,network:"testnet"})]}function Wo(e){const[t,n="ton",a="mainnet"]=e.split("-");return{id:Number(t),blockchain:n,network:a}}function $o(e){const{id:t,network:n,blockchain:a}=e;return`${t}-${a}-${n}`}var Uo=n(16580),Ho=1e6,qo="[big.js] ",Fo=qo+"Invalid ",zo=Fo+"decimal places",jo=Fo+"rounding mode",Ko=qo+"Division by zero",Yo={},Zo=void 0,Qo=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Jo(e,t,n,a){var o=e.c;if(n===Zo&&(n=e.constructor.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error(jo);if(t<1)a=3===n&&(a||!!o[0])||0===t&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(a||o[1]!==Zo))),o.length=1,a?(e.e=e.e-t+1,o[0]=1):o[0]=e.e=0;else if(t<o.length){if(a=1===n&&o[t]>=5||2===n&&(o[t]>5||5===o[t]&&(a||o[t+1]!==Zo||1&o[t-1]))||3===n&&(a||!!o[0]),o.length=t,a)for(;++o[--t]>9;)if(o[t]=0,0===t){++e.e,o.unshift(1);break}for(t=o.length;!o[--t];)o.pop()}return e}function Go(e,t,n){var a=e.e,o=e.c.join(""),r=o.length;if(t)o=o.charAt(0)+(r>1?"."+o.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)o="0"+o;o="0."+o}else if(a>0)if(++a>r)for(a-=r;a--;)o+="0";else a<r&&(o=o.slice(0,a)+"."+o.slice(a));else r>1&&(o=o.charAt(0)+"."+o.slice(1));return e.s<0&&n?"-"+o:o}Yo.abs=function(){var e=new this.constructor(this);return e.s=1,e},Yo.cmp=function(e){var t,n=this,a=n.c,o=(e=new n.constructor(e)).c,r=n.s,s=e.s,i=n.e,l=e.e;if(!a[0]||!o[0])return a[0]?r:o[0]?-s:0;if(r!=s)return r;if(t=r<0,i!=l)return i>l^t?1:-1;for(s=(i=a.length)<(l=o.length)?i:l,r=-1;++r<s;)if(a[r]!=o[r])return a[r]>o[r]^t?1:-1;return i==l?0:i>l^t?1:-1},Yo.div=function(e){var t=this,n=t.constructor,a=t.c,o=(e=new n(e)).c,r=t.s==e.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>Ho)throw Error(zo);if(!o[0])throw Error(Ko);if(!a[0])return e.s=r,e.c=[e.e=0],e;var i,l,c,d,u,m=o.slice(),p=i=o.length,h=a.length,g=a.slice(0,i),v=g.length,f=e,w=f.c=[],y=0,E=s+(f.e=t.e-e.e)+1;for(f.s=r,r=E<0?0:E,m.unshift(0);v++<i;)g.push(0);do{for(c=0;c<10;c++){if(i!=(v=g.length))d=i>v?1:-1;else for(u=-1,d=0;++u<i;)if(o[u]!=g[u]){d=o[u]>g[u]?1:-1;break}if(!(d<0))break;for(l=v==i?o:m;v;){if(g[--v]<l[v]){for(u=v;u&&!g[--u];)g[u]=9;--g[u],g[v]+=10}g[v]-=l[v]}for(;!g[0];)g.shift()}w[y++]=d?c:++c,g[0]&&d?g[v]=a[p]||0:g=[a[p]]}while((p++<h||g[0]!==Zo)&&r--);return w[0]||1==y||(w.shift(),f.e--,E--),y>E&&Jo(f,E,n.RM,g[0]!==Zo),f},Yo.eq=function(e){return 0===this.cmp(e)},Yo.gt=function(e){return this.cmp(e)>0},Yo.gte=function(e){return this.cmp(e)>-1},Yo.lt=function(e){return this.cmp(e)<0},Yo.lte=function(e){return this.cmp(e)<1},Yo.minus=Yo.sub=function(e){var t,n,a,o,r=this,s=r.constructor,i=r.s,l=(e=new s(e)).s;if(i!=l)return e.s=-l,r.plus(e);var c=r.c.slice(),d=r.e,u=e.c,m=e.e;if(!c[0]||!u[0])return u[0]?e.s=-l:c[0]?e=new s(r):e.s=1,e;if(i=d-m){for((o=i<0)?(i=-i,a=c):(m=d,a=u),a.reverse(),l=i;l--;)a.push(0);a.reverse()}else for(n=((o=c.length<u.length)?c:u).length,i=l=0;l<n;l++)if(c[l]!=u[l]){o=c[l]<u[l];break}if(o&&(a=c,c=u,u=a,e.s=-e.s),(l=(n=u.length)-(t=c.length))>0)for(;l--;)c[t++]=0;for(l=t;n>i;){if(c[--n]<u[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=u[n]}for(;0===c[--l];)c.pop();for(;0===c[0];)c.shift(),--m;return c[0]||(e.s=1,c=[m=0]),e.c=c,e.e=m,e},Yo.mod=function(e){var t,n=this,a=n.constructor,o=n.s,r=(e=new a(e)).s;if(!e.c[0])throw Error(Ko);return n.s=e.s=1,t=1==e.cmp(n),n.s=o,e.s=r,t?new a(n):(o=a.DP,r=a.RM,a.DP=a.RM=0,n=n.div(e),a.DP=o,a.RM=r,this.minus(n.times(e)))},Yo.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},Yo.plus=Yo.add=function(e){var t,n,a,o=this,r=o.constructor;if(e=new r(e),o.s!=e.s)return e.s=-e.s,o.minus(e);var s=o.e,i=o.c,l=e.e,c=e.c;if(!i[0]||!c[0])return c[0]||(i[0]?e=new r(o):e.s=o.s),e;if(i=i.slice(),t=s-l){for(t>0?(l=s,a=c):(t=-t,a=i),a.reverse();t--;)a.push(0);a.reverse()}for(i.length-c.length<0&&(a=c,c=i,i=a),t=c.length,n=0;t;i[t]%=10)n=(i[--t]=i[t]+c[t]+n)/10|0;for(n&&(i.unshift(n),++l),t=i.length;0===i[--t];)i.pop();return e.c=i,e.e=l,e},Yo.pow=function(e){var t=this,n=new t.constructor("1"),a=n,o=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(Fo+"exponent");for(o&&(e=-e);1&e&&(a=a.times(t)),e>>=1;)t=t.times(t);return o?n.div(a):a},Yo.prec=function(e,t){if(e!==~~e||e<1||e>Ho)throw Error(Fo+"precision");return Jo(new this.constructor(this),e,t)},Yo.round=function(e,t){if(e===Zo)e=0;else if(e!==~~e||e<-Ho||e>Ho)throw Error(zo);return Jo(new this.constructor(this),e+this.e+1,t)},Yo.sqrt=function(){var e,t,n,a=this,o=a.constructor,r=a.s,s=a.e,i=new o("0.5");if(!a.c[0])return new o(a);if(r<0)throw Error(qo+"No square root");0===(r=Math.sqrt(a+""))||r===1/0?((t=a.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),e=new o(((r=Math.sqrt(t))==1/0?"5e":(r=r.toExponential()).slice(0,r.indexOf("e")+1))+s)):e=new o(r+""),s=e.e+(o.DP+=4);do{n=e,e=i.times(n.plus(a.div(n)))}while(n.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return Jo(e,(o.DP-=4)+e.e+1,o.RM)},Yo.times=Yo.mul=function(e){var t,n=this,a=n.constructor,o=n.c,r=(e=new a(e)).c,s=o.length,i=r.length,l=n.e,c=e.e;if(e.s=n.s==e.s?1:-1,!o[0]||!r[0])return e.c=[e.e=0],e;for(e.e=l+c,s<i&&(t=o,o=r,r=t,c=s,s=i,i=c),t=new Array(c=s+i);c--;)t[c]=0;for(l=i;l--;){for(i=0,c=s+l;c>l;)i=t[c]+r[l]*o[c-l-1]+i,t[c--]=i%10,i=i/10|0;t[c]=i}for(i?++e.e:t.shift(),l=t.length;!t[--l];)t.pop();return e.c=t,e},Yo.toExponential=function(e,t){var n=this,a=n.c[0];if(e!==Zo){if(e!==~~e||e<0||e>Ho)throw Error(zo);for(n=Jo(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return Go(n,!0,!!a)},Yo.toFixed=function(e,t){var n=this,a=n.c[0];if(e!==Zo){if(e!==~~e||e<0||e>Ho)throw Error(zo);for(e=e+(n=Jo(new n.constructor(n),e+n.e+1,t)).e+1;n.c.length<e;)n.c.push(0)}return Go(n,!1,!!a)},Yo[Symbol.for("nodejs.util.inspect.custom")]=Yo.toJSON=Yo.toString=function(){var e=this,t=e.constructor;return Go(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},Yo.toNumber=function(){var e=Number(Go(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(qo+"Imprecise conversion");return e},Yo.toPrecision=function(e,t){var n=this,a=n.constructor,o=n.c[0];if(e!==Zo){if(e!==~~e||e<1||e>Ho)throw Error(Fo+"precision");for(n=Jo(new a(n),e,t);n.c.length<e;)n.c.push(0)}return Go(n,e<=n.e||n.e<=a.NE||n.e>=a.PE,!!o)},Yo.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(qo+"valueOf disallowed");return Go(e,e.e<=t.NE||e.e>=t.PE,!0)};var Xo=function e(){function t(n){var a=this;if(!(a instanceof t))return n===Zo?e():new t(n);if(n instanceof t)a.s=n.s,a.e=n.e,a.c=n.c.slice();else{if("string"!=typeof n){if(!0===t.strict&&"bigint"!=typeof n)throw TypeError(Fo+"value");n=0===n&&1/n<0?"-0":String(n)}!function(e,t){var n,a,o;if(!Qo.test(t))throw Error(Fo+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),o=t.length,a=0;a<o&&"0"==t.charAt(a);)++a;if(a==o)e.c=[e.e=0];else{for(;o>0&&"0"==t.charAt(--o););for(e.e=n-a-1,e.c=[],n=0;a<=o;)e.c[n++]=+t.charAt(a++)}}(a,n)}a.constructor=t}return t.prototype=Yo,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();function er(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Xo(e).round(t,Xo.roundHalfUp).toNumber()}function tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Xo(e).round(t,Xo.roundDown).toNumber()}const nr=(0,Uo.Z)(((e,t,n)=>Object.entries(e).filter((e=>{let[n]=e;return n in t.bySlug})).sort(((e,t)=>{let[a]=e,[o]=t;return n.orderedSlugs?n.orderedSlugs.indexOf(a)-n.orderedSlugs.indexOf(o):1})).map((e=>{var a;let[o,r]=e;const{symbol:s,name:i,image:l,decimals:c,quote:{price:d,percentChange24h:u,percentChange7d:m,percentChange30d:p,history7d:h,history24h:g,history30d:v}}=t.bySlug[o],f=null===(a=n.disabledSlugs)||void 0===a?void 0:a.includes(o);return{symbol:s,slug:o,amount:Lo(r,c),name:i,image:l,price:d,decimals:c,change24h:er(u/100,4),change7d:er(m/100,4),change30d:er(p/100,4),history24h:g,history7d:h,history30d:v,isDisabled:f}}))));function ar(e){var t,n;const a=null===(t=mr(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(!a||!e.tokenInfo)return;const o=null!==(n=vr(e,e.currentAccountId))&&void 0!==n?n:{};return nr(a,e.tokenInfo,o)}const or=(0,Uo.Z)(((e,t)=>Object.entries(t.bySlug).filter((e=>{let[,t]=e;return t.isPopular})).filter((t=>{let[n]=t;return!(n in e)})).map((e=>{let[n]=e;const{symbol:a,name:o,image:r,decimals:s,keywords:i,quote:{price:l,percentChange24h:c,percentChange7d:d,percentChange30d:u,history7d:m,history24h:p,history30d:h}}=t.bySlug[n];return{symbol:a,slug:n,amount:Lo("0",s),name:o,image:r,price:l,decimals:s,change24h:er(c/100,4),change7d:er(d/100,4),change30d:er(u/100,4),history24h:p,history7d:m,history30d:h,isDisabled:!1,keywords:i}}))));function rr(e){var t;const n=null===(t=mr(e))||void 0===t||null===(t=t.balances)||void 0===t?void 0:t.bySlug;if(n&&e.tokenInfo)return or(n,e.tokenInfo)}function sr(e){const t=ar(e);return 0===(null==t?void 0:t.length)||1===(null==t?void 0:t.length)&&0===t[0].amount}function ir(e){var t;return null===(t=e.accounts)||void 0===t?void 0:t.byId}const lr=(0,Uo.Z)(((e,t)=>{if(t)return Object.fromEntries(Object.entries(t).filter((t=>{let[n]=t;return Wo(n).network===e})))}));function cr(e){var t;return lr(dr(e),null===(t=e.accounts)||void 0===t?void 0:t.byId)}function dr(e){return e.settings.isTestnet?"testnet":"mainnet"}function ur(e,t){var n;return null===(n=ir(e))||void 0===n?void 0:n[t]}function mr(e){return pr(e,e.currentAccountId)}function pr(e,t){return e.byAccountId[t]}function hr(e){const t=ir(e);if(t)return Object.values(t).find((e=>!e.isHardware))}function gr(e,t){var n;return(0,m.Q8)((null===(n=pr(e,t))||void 0===n||null===(n=n.transactions)||void 0===n?void 0:n.newestTransactionsBySlug)||{},(e=>{let{txId:t}=e;return t}))}function vr(e,t){return e.settings.byAccountId[t]}const fr=en((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(e)return`${e.slice(0,t)}...${e.slice(-n)}`}));function wr(e,t){var n;const a=null!==(n=Cn(t?e:void 0,!0))&&void 0!==n?n:-1,[o,r]=Y(),s=ze((()=>{r(t?a+1:void 0)}));return Q((()=>{t&&setTimeout(s,300)}),[t,s]),{renderingKey:a,nextKey:o,updateNextKey:s}}const yr="ig3yl4CS69QAuCOFXy8g",Er="xyE7LGCnGGkcpJP9zuTG",br="DL0dCMJBv3Ayhg7a_hxs",kr="e4AdLaiiJQFkRU3Iqztm",Nr="Om5dH_gWQCrj5jxkwiiE",Cr="KFbcBC2WqQBkZE7CeDyV",Sr="Qp6vMW6j4pFwX0nKOPKD",Tr="TxlFJCf5B734MwAHHR6j",Ar="PY2rLISyyVScmQbsONrm",_r="bIyCM0UytBpfIu_3EmCu",Ir="CLpfs9JwqDxlSDvWV9_s",xr="jGuxMVcJHTJO2Tu8INeA",Pr="r8Jk7uegeg2ia7xV_WUN",Mr="m8BjjfIM7WJl3zO7S5Di",Dr="T8Sb8VrzL8gffAskp5q1";var Or=function(e){return e[e.Waiting=0]="Waiting",e[e.Error=1]="Error",e}(Or||{});const Lr=te((function(e){let{text:t,error:n,onClose:o,onTryAgain:r}=e;const s=fn(),[i,l]=Y(Or.Waiting),[c,d]=Y(Or.Error);function u(e,n,i){switch(i){case Or.Waiting:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:s("Confirm via Ledger"),onClose:o}),ae.createElement("div",{className:yr},ae.createElement(Ra,{size:a.Hf,play:e,noLoop:!1,nonInteractive:!0,className:Dr,tgsUrl:fa.holdTon,previewUrl:fa.holdTonPreview}),ae.createElement("div",{className:Ot(kr,Nr)},ae.createElement("span",{className:Sr},t)),ae.createElement("div",{className:Ot(Ir,xr)},ae.createElement(yn,{onClick:o,className:Pr},s("Cancel")))))}(e);case Or.Error:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:s("Confirm via Ledger"),onClose:o}),ae.createElement("div",{className:yr},ae.createElement(Ra,{size:a.Hf,play:e,noLoop:!1,nonInteractive:!0,className:Dr,tgsUrl:fa.holdTon,previewUrl:fa.holdTonPreview}),ae.createElement("div",{className:Ot(kr,Nr)},ae.createElement("span",{className:Sr},t)),ae.createElement("span",{className:"J46AdiyFMQ4TkWJzePMG"},s("Declined")),ae.createElement("div",{className:Ir},ae.createElement(yn,{onClick:o,className:Pr},s("Cancel")),ae.createElement(yn,{isPrimary:!0,onClick:r,className:Pr},s("Try Again")))))}(e)}}return Q((()=>{n?(l(Or.Error),d(Or.Waiting)):(l(Or.Waiting),d(Or.Error))}),[n]),ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:Ot($n,"ef0ZhSPs87IHT1AJAhLS"),activeKey:i,nextKey:c},u)})),Vr=te((function(e){let{state:t,isLedgerConnected:n,isTonAppConnected:a,isRemoteTab:o,onConnected:r,onCancel:s,onClose:i}=e;const{connectHardwareWallet:l,resetHardwareWalletConnect:c}=wt(),d=fn(),u=!1===n,m=!1===a,p=t===Tt.Connected,h=d(p?"Ledger Connected!":"Connect Ledger"),g=!s,v=X((()=>{l()}),[l]),f=X((()=>{o||setTimeout((()=>{r(),setTimeout((()=>{c()}),500)}),500)}),[r,c,o]);return Q((()=>{t===Tt.Connected&&f()}),[t,f]),t===Tt.WaitingForBrowser?ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:h,onClose:i}),ae.createElement("div",{className:yr},ae.createElement("div",{className:Ot(Er,br)}),ae.createElement("div",{className:Ot(kr,"XTNkBNZORPu8g__CVzv4")},ae.createElement("span",{className:Sr},ae.createElement("i",{className:Ot(Cr,"icon-dot")}),d("Switch to the newly opened tab to connect Ledger.")),ae.createElement("span",{className:Sr},ae.createElement("i",{className:Ot(Cr,"icon-dot")}),d("Once connected, switch back to this window to proceed."))),ae.createElement("div",{className:Ot(Ir,xr)},ae.createElement(yn,{className:Ot(Pr,Mr),onClick:g?i:s},d(g?"Cancel":"Back"))))):ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:h,onClose:i}),ae.createElement("div",{className:yr},ae.createElement("div",{className:Ot(Er,p?"cyRsdv9PmNi_fLUcQaGa":br)}),ae.createElement("div",{className:Ot(kr,p&&"CfekGI0mgHJ2ZcRatEpu")},ae.createElement("span",{className:Ot(Sr,u&&Tr,n&&Ar,p&&_r)},ae.createElement("i",{className:Ot(Cr,n?"icon-accept":"icon-dot")}),d("Connect your Ledger to PC")),ae.createElement("span",{className:Ot(Sr,m&&Tr,a&&Ar,p&&_r)},ae.createElement("i",{className:Ot(Cr,a?"icon-accept":"icon-dot")}),d("Unlock it and open the TON App"))),function(){const e=t===Tt.Connecting,n=t===Tt.Failed;return o&&p?ae.createElement("div",{className:Ot(Ir,p&&xr)},ae.createElement(yn,{isDisabled:e,className:Ot(Pr,p&&Mr),onClick:i},d("Continue"))):ae.createElement("div",{className:Ot(Ir,p&&xr)},ae.createElement(yn,{isDisabled:e,className:Ot(Pr,p&&Mr),onClick:g?i:s},d(g?"Cancel":"Back")),!p&&ae.createElement(yn,{isPrimary:!0,isDisabled:e,className:Pr,onClick:v},d(n?"Try Again":"Continue")))}()))})),Br=180,Rr=te((function(e){let{isActive:t,isLoading:n,cancelLabel:a,submitLabel:o,stickerSize:r=Br,placeholder:s,error:i,containerClassName:l,children:c,onUpdate:d,onCancel:u,onSubmit:m}=e;const p=fn(),h=ee(null),[g,v]=Y(""),f=!g.length;Q((()=>{t&&v("")}),[t]),so(h,!t);const w=X((e=>{v(e),i&&d()}),[i,d]),y=X((()=>{m(g)}),[m,g]);return Q((()=>f?void 0:Ua({onEnter:y})),[y,f]),ae.createElement("div",{className:Ot(Hn,l)},ae.createElement(Ra,{tgsUrl:fa.holdTon,previewUrl:fa.holdTonPreview,play:t,size:r,nonInteractive:!0,noLoop:!1,className:"y7uI37nZpYabFvy9zTvn"}),c,ae.createElement(So,{ref:h,type:"password",isRequired:!0,id:"first-password",error:i?p(i):void 0,placeholder:s,value:g,onInput:w}),ae.createElement("div",{className:Bn},u&&ae.createElement(yn,{onClick:u},a||p("Cancel")),ae.createElement(yn,{isPrimary:!0,isLoading:n,isDisabled:f,onClick:n?void 0:y},o||p("Send"))))})),Wr="yVgDPOejAMqNiOOJullD",$r="tHBLrd0i7OGM_8NXvVU0",Ur="B1DDx8WDvN13lio7dmGZ",Hr="lp7rInAK0QzI6YPi8c_A",qr="p4U9tS5ZrvcS2Mw81TEk",Fr="lsIG0fExt_nUMOYAo2l9",zr="bQV942O7pEYWXFqjo1yA",jr="j3keNP9hUm2v7hfCyQ5w",Kr="PsQcXz23h9CEFU3EMXIY",Yr="hB3wpvUkHdZr33SNchnL",Zr=te((function(e){let{iconUrl:t,name:n,url:a,origin:o,onDisconnect:r,className:s}=e;const i=fn(),l=Boolean(r&&o),c=X((()=>{r(o)}),[o,r]);return ae.createElement("div",{className:Ot("IqixNmFzhyGsd0DECCiR",s)},t?ae.createElement("img",{src:t,alt:i("Logo"),className:$r}):ae.createElement("div",{className:Ot($r,"oIdgNXHtDqAL4bL3jf0b")},ae.createElement("i",{className:Ot("VHT2Car9NepY9Hm9vzR4","icon-laptop"),"aria-hidden":!0})),ae.createElement("div",{className:"DjN_kBO5yxAxd0kABUYu"},ae.createElement("span",{className:"kFrN1qNGY769AXBicl8v"},n),ae.createElement("span",{className:"oqCvVL23sEmZecc270AJ"},a)),l&&ae.createElement(yn,{isSmall:!0,isPrimary:!0,className:"jR946bivrmZIMjbbkTLY",onClick:c},i("Disconnect")))})),Qr=te(Et((e=>{var t;const n=cr(e),a=Boolean(null===(t=e.dappConnectRequest)||void 0===t?void 0:t.dapp),{state:o,dapp:r,error:s,accountId:i,permissions:l,proof:c}=e.dappConnectRequest||{},d=i||e.currentAccountId,{hardwareState:u,isLedgerConnected:m,isTonAppConnected:p}=e.hardware;return{state:o,hasConnectRequest:a,dapp:r,error:s,requiredPermissions:l,requiredProof:c,tokens:ar(e),currentAccountId:d,accounts:n,accountsData:e.byAccountId,hardwareState:u,isLedgerConnected:m,isTonAppConnected:p}}))((function(e){let{state:t,hasConnectRequest:n,dapp:o,error:r,requiredPermissions:s,requiredProof:i,accounts:l,accountsData:c,currentAccountId:d,tokens:u,hardwareState:m,isLedgerConnected:p,isTonAppConnected:h}=e;const{submitDappConnectRequestConfirm:g,submitDappConnectRequestConfirmHardware:v,clearDappConnectRequestError:f,cancelDappConnectRequestConfirm:w,setDappConnectRequestState:y}=wt(),E=fn(),[b,k]=Y([]),[N,C,S]=qt(n),[T,A,_]=qt(!1),{renderingKey:I,nextKey:x}=wr(null!=t?t:0,N);Q((()=>{n?C():S()}),[S,n,C]);const P=G((()=>l&&Object.keys(l).length>1),[l]),M=G((()=>null==u?void 0:u.find((e=>{let{slug:t}=e;return t===a.rH}))),[u]),{iconUrl:D,name:O,url:L}=o||{},V=X((()=>{w(),k([])}),[w]),B=X((()=>{_(),i?l[d].isHardware&&i?y({state:St.ConnectHardware}):null!=s&&s.isPasswordRequired&&y({state:St.Password}):(g({additionalAccountIds:b}),S())}),[l,d,_,S,s,b,g,i]),R=X((()=>{y({state:St.Info})}),[]),W=X((()=>{v({additionalAccountIds:b})}),[b]),$=X((e=>{g({additionalAccountIds:b,password:e})}),[b,g]),U=X((e=>{b.includes(e)?k(b.filter((t=>t!==e))):k(b.concat([e]))}),[b]),H=G((()=>Object.entries(l||{})),[l]);function q(e,t,n){switch(n){case St.Info:return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:E("Connect Dapp"),onClose:S}),ae.createElement("div",{className:Hn},ae.createElement(Zr,{iconUrl:D,name:O,url:L,className:Ot("JeV_Eti0tu92TxBPJKle","cJjQumjvIh7kN3ZsrmIE")}),P&&function(){const e=Ot("AnYy5G9vJiT9T1sJhj_Z","custom-scroll",1===H.length&&"acc21nj4Yv0Fr2rEN7HE",2===H.length&&"BT49wl30cArHv6DJp7mT");return ae.createElement(ae.Fragment,null,ae.createElement("p",{className:Hr},E("Select wallets to use on this dapp")),ae.createElement("div",{className:e},H.map((e=>{let[t,{title:n,address:a}]=e;return function(e,t,n){var a;const o=e===d||b.includes(e),r=(null==c||null===(a=c[e].balances)||void 0===a?void 0:a.bySlug[M.slug])||"0",s=Ot("uGV7m6xHKQjJfHB0s2ha",o&&"UD9coyBBE22J0hTW1pDg",e===d&&"NalxoSrRUanpAANmrFJh");return ae.createElement("div",{className:s,"aria-label":E("Switch Account"),onClick:e!==d?()=>U(e):void 0},n&&ae.createElement("span",{className:"doWqoXfNdp52v0UUgCAj"},n),ae.createElement("div",{className:"doYvgnDTgiPKmiKPuo8S"},ae.createElement("i",{className:Ot("On_rQsvP9rMEusUxK4nF","icon-ton"),"aria-hidden":!0}),nn(Lo(r),"",3),ae.createElement("span",{className:"n1_tfC9EgDhPZLGSHosm"},fr(t,2,3))),ae.createElement("div",{className:Ot("jUIetJPwN1mqrLJIn6_C",o&&"XFeYdIH4p0eTa_w4xQp5")}))}(t,a,n)}))))}(),ae.createElement("div",{className:"udq48SFmEVTf3CmT2h41"},ae.createElement(yn,{onClick:A,isPrimary:!0},E("Connect")))));case St.Password:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:E("Enter Password"),onClose:S}),ae.createElement(Rr,{isActive:e,error:r,placeholder:E("Enter your password"),submitLabel:E("Connect"),onUpdate:f,onSubmit:$,cancelLabel:E("Cancel"),onCancel:R}))}(e);case St.ConnectHardware:return ae.createElement(Vr,{state:m,isTonAppConnected:h,isLedgerConnected:p,onConnected:W,onClose:R});case St.ConfirmHardware:return ae.createElement(Lr,{text:E("Please confirm operation on your Ledger"),error:r,onTryAgain:W,onClose:R})}}return ae.createElement(ae.Fragment,null,ae.createElement(ja,{isOpen:N,isSlideUp:!0,dialogClassName:Wr,onClose:V,onCloseAnimationEnd:V},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:I,nextKey:x},q)),ae.createElement(ja,{isOpen:T,isCompact:!0,title:E("Dapp Permissions"),onClose:_},ae.createElement("div",{className:"ur4e74nJ1UlsIoprI3b7"},E("$dapp_can_view_balance",{dappname:ae.createElement("strong",null,O)})),ae.createElement("div",{className:"UoHChbi2HsbivC5sKZQu"},ae.createElement(yn,{onClick:_,className:qr},E("Cancel")),ae.createElement(yn,{isPrimary:!0,onClick:B,className:qr},E("Connect")))))}))),Jr=te(Et((e=>{const{dapp:t}=e.currentDappTransfer,n=cr(e);return{currentAccount:null==n?void 0:n[e.currentAccountId],dapp:t}}))((function(e){let{tonToken:t,currentAccount:n,dapp:a}=e;const{cancelDappTransfer:o,setDappTransferScreen:r}=wt(),s=fn(),i=ze((()=>{r({state:Ct.Initial})}));return ae.createElement("div",{className:Hn},ae.createElement("div",{className:zr},ae.createElement("div",{className:Ur},ae.createElement("div",{className:jr},null==n?void 0:n.title),ae.createElement("div",{className:Kr},nn(t.amount,t.symbol))),ae.createElement(Zr,{iconUrl:null==a?void 0:a.iconUrl,name:null==a?void 0:a.name,url:null==a?void 0:a.url,className:Yr})),ae.createElement("div",{className:"qinIYitBfjLRUDghhhS7"},ae.createElement("span",null,Zt(s("$dapp_ledger_warning1"))),ae.createElement("span",null,Zt(s("$dapp_ledger_warning2")))),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:o},s("Cancel")),ae.createElement(yn,{isPrimary:!0,isSubmit:!0,onClick:i},s("Agree"))))}))),Gr=te((function(e){let{amount:t,label:n,currency:o="",symbol:r,fee:s,className:i}=e;const l=fn();return ae.createElement(ae.Fragment,null,ae.createElement("div",{className:"a13XwOMzYwbcEIQASnvV"},n),ae.createElement("div",{className:Ot("F6yLmNxlr1fpwrxkpAIu",i)},an(t,o,!0),r&&ae.createElement("span",{className:"FJOSKsAs5qG8xn8TjAo9"},r),Boolean(s)&&ae.createElement(ae.Fragment,null,ae.createElement("div",{className:"uYpMh7tjyRw9aws_2OA3"},l("Fee")),ae.createElement("span",{className:"WJDEJfV8HJlBXS7xL378"},an(s,a._x)))))}));var Xr=n(41535);window.navigator.clipboard&&window.ClipboardItem;const es=document.createElement("textarea");es.setAttribute("readonly",""),es.tabIndex=-1,es.className="visually-hidden";const ts=e=>{es.value=e,document.body.appendChild(es);const t=document.getSelection();if(t){const e=t.rangeCount>0&&t.getRangeAt(0);es.select(),document.execCommand("copy"),e&&(t.removeAllRanges(),t.addRange(e))}document.body.removeChild(es)},ns="UfI1IdhDJDCYEaxx_8z8",as=te((function(e){let{isOpen:t,address:n,onClose:a}=e;const{removeFromSavedAddress:o,showNotification:r}=wt(),s=fn(),i=X((()=>{n&&(o({address:n}),r({message:s("Address removed from saved"),icon:"icon-trash"}),a())}),[n,s,a,o,r]);return ae.createElement(ja,{title:s("Delete Saved Address"),isCompact:!0,isOpen:t,onClose:a},ae.createElement("p",{className:ns},s("Are you sure you want to remove this address from your saved ones?")),ae.createElement("p",{className:ns},s("You will be able to save it again via Transaction Info with this address.")),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:a,className:Rn},s("Cancel")),ae.createElement(yn,{isDestructive:!0,onClick:i,className:Rn},s("Delete"))))})),os={wrapper:"AmTfePy3EmpA5ddzp318",button:"gJAxBTpweYXg6YhomBst",button_spoiler:"Zso9anc1hSZZDFIk_BNA",buttonSpoiler:"Zso9anc1hSZZDFIk_BNA",icon:"G86aeGWVYY_JuoKo7wxn",iconStar:"d3YDuYpyW71I6PD38VZH",nameInput:"fhgqWH0v88aO1FyAm28T",shortAddress:"vUTbwN1u4amdz9wSrOnA",revealSpoiler:"_67nppB1zHOK8CpoyWc4A"},rs=te(Et(((e,t)=>{var n;let{address:a}=t;const o=mr(e);return{isAddressAlreadySaved:Boolean(a&&(null==o||null===(n=o.savedAddresses)||void 0===n?void 0:n[a])),isTestnet:e.settings.isTestnet}}))((function(e){let{address:t,addressName:n,text:o,spoiler:r,spoilerRevealText:s,spoilerCallback:i,copyNotification:l,noSavedAddress:c,className:d,textClassName:u,isAddressAlreadySaved:m,isTestnet:p}=e;const{showNotification:h,addSavedAddress:g}=wt(),v=ee(null),f=fn(),[w,y,E]=qt(),[b,k,N]=qt(),[C,S]=Y(n),[T,,A]=qt(Boolean(r)),_=p?a.AN:a.k4,I=t?`${_}address/${t}`:void 0;Q((()=>{w&&S("")}),[w]);const x=X((()=>{C&&t&&(g({address:t,name:C}),h({message:"Address was saved!",icon:"icon-star"}),E())}),[g,t,E,C,h]);Q((()=>w?Ua({onEnter:x}):void 0),[x,w]),so(v,!w);const P=X((()=>{h({message:l,icon:"icon-copy"}),ts(t||o||"")}),[t,l,h,o]),M=ze((()=>{A(),null==i||i()}));function D(e){return ae.createElement("span",{className:Ot(os.button,u),title:f("Copy"),onClick:P,tabIndex:0,role:"button"},e,Boolean(n)&&ae.createElement("span",{className:os.shortAddress},fr(t)),ae.createElement("i",{className:Ot(os.icon,"icon-copy"),"aria-hidden":!0}))}return ae.createElement(ae.Fragment,null,ae.createElement("div",{className:Ot(os.wrapper,d)},function(){const e=n||t||o;if(!r)return D(e);const a=T||!e;return ae.createElement(na,{activeKey:a?1:0,name:"fade",className:os.commentContainer},a?ae.createElement("span",{className:Ot(os.button,os.button_spoiler,u)},ae.createElement("i",null,r),ae.createElement("span",{onClick:M,tabIndex:0,role:"button",className:os.revealSpoiler},s)):D(e))}(),!c&&t&&ae.createElement("span",{className:os.button,title:f(m?"Remove From Saved Addresses":"Add To Saved Addresses"),onClick:m?k:y,tabIndex:0,role:"button"},ae.createElement("i",{className:Ot(os.icon,os.iconStar,m?"icon-star-filled":"icon-star"),"aria-hidden":!0})),t&&ae.createElement("a",{href:I,className:os.button,title:f("View Address on TON Explorer"),target:"_blank",rel:"noreferrer noopener"},ae.createElement("i",{className:Ot(os.icon,"icon-tonscan"),"aria-hidden":!0}))),t&&ae.createElement(ae.Fragment,null,ae.createElement(ja,{title:f("Save Address"),isCompact:!0,isOpen:w,onClose:E},ae.createElement("p",null,f("You can save this address for quick access while sending.")),ae.createElement(So,{ref:v,placeholder:f("Name"),onInput:S,value:C,maxLength:255,className:os.nameInput}),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:E,className:Rn},f("Cancel")),ae.createElement(yn,{onClick:x,isPrimary:!0,isDisabled:!C,className:Rn},f("Save")))),ae.createElement(as,{isOpen:b,address:t,onClose:N})))}))),ss=te((function(e){let{tonToken:t,transaction:n,fee:a,tokens:o}=e;const r=fn(),[s,i]=qt(!1);return ae.createElement(ae.Fragment,null,ae.createElement("p",{className:Hr},r("Receiving Address")),ae.createElement(rs,{address:n.toAddress,className:Ot(Fr,"FVp_0JwrtYRe_q5kVmv5"),copyNotification:r("Address was copied!")}),ae.createElement(Gr,{label:r("Amount"),amount:Lo(n.amount,t.decimals),symbol:t.symbol,fee:a?Lo(a,t.decimals):void 0,className:Fr}),n.payload&&ae.createElement(ae.Fragment,null,ae.createElement("p",{className:Hr},r("Nested Transaction")),ae.createElement("div",{className:Ot("jLVRL7KmPzUst6xUKSz6",s&&"NUO1ZrWaqhnwyHIUJzZ4")},function(e){switch(e.type){case"comment":return e.comment;case"transfer-nft":{const{nftAddress:t,nftName:n,newOwner:a}=e;return r("$dapp_transfer_nft_payload",{nft:null!=n?n:t,address:a})}case"transfer-tokens:non-standard":case"transfer-tokens":{const{slug:t,amount:n,destination:a}=e,s=null==o?void 0:o.find((e=>{let{slug:n}=e;return n===t}));return r("$dapp_transfer_tokens_payload",{amount:nn(Lo(n,s.decimals),s.symbol,2),address:a})}case"unknown":return e.base64}}(n.payload),!s&&ae.createElement("div",{className:"oELKPbVgfTQa9u82P1bD",onClick:i},r("View")))))})),is=te(Et((e=>{const{transactions:t,fee:n,isLoading:a,dapp:o}=e.currentDappTransfer,r=cr(e);return{currentAccount:null==r?void 0:r[e.currentAccountId],transactions:t,fee:n,dapp:o,isLoading:a,tokens:ar(e)}}))((function(e){let{tonToken:t,currentAccount:n,transactions:o,fee:r,dapp:s,isLoading:i,tokens:l}=e;const{showDappTransaction:c,submitDappTransferConfirm:d,cancelDappTransfer:u}=wt(),m=fn(),p=1===(null==o?void 0:o.length),h=Cn(o,!0),g=G((()=>(null==h?void 0:h.reduce(((e,n)=>{let{amount:a}=n;return e+Lo(a,t.decimals)}),r?Lo(r,t.decimals):0))||0),[h,r,t.decimals]);if(h)return ae.createElement("div",{className:Hn},ae.createElement("div",{className:zr},ae.createElement("div",{className:Ur},ae.createElement("div",{className:jr},null==n?void 0:n.title),ae.createElement("div",{className:Kr},nn(t.amount,t.symbol))),ae.createElement(Zr,{iconUrl:null==s?void 0:s.iconUrl,name:null==s?void 0:s.name,url:null==s?void 0:s.url,className:Yr})),p?ae.createElement(ss,{transaction:h[0],tonToken:t,fee:r,tokens:l}):ae.createElement(ae.Fragment,null,ae.createElement("p",{className:Hr},m("$many_transactions",null==h?void 0:h.length,"i")),ae.createElement("div",{className:"gacnfmC1dNa38XjjyHYK"},null==h?void 0:h.map((function(e,n){const{payload:o}=e;let r="";if("transfer-nft"===(null==o?void 0:o.type))r="1 NFT + ";else if("transfer-tokens"===(null==o?void 0:o.type)){const{slug:e,amount:t}=o,{decimals:n,symbol:s}=l.find((t=>t.slug===e));r=`${nn(Lo(t,n),s,a.kn)} + `}return ae.createElement("div",{key:`${e.toAddress}_${e.amount}`,className:"rL9FiImj26APnH7onDTC",onClick:()=>{c({transactionIdx:n})}},ae.createElement("span",{className:"vg2AehumdvADfAg1_nwu"},r,nn(Lo(e.amount,t.decimals),t.symbol,a.kn))," ",ae.createElement("span",{className:"laQhSEnX1UBFVvKu7hB7"},m("$transaction_to",{address:fr(e.toAddress)})),ae.createElement("i",{className:Ot("FiSrfyj0U7VSAgW7rb_Q","icon-chevron-right"),"aria-hidden":!0}))}))),ae.createElement(Gr,{label:m("Total Amount"),amount:g,symbol:t.symbol})),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:u},m("Cancel")),ae.createElement(yn,{isPrimary:!0,isSubmit:!0,isLoading:i,onClick:d},m("Send"))))}))),ls=te(Et((e=>{const{hardwareState:t,isLedgerConnected:n,isTonAppConnected:a}=e.hardware;return{currentDappTransfer:e.currentDappTransfer,tokens:ar(e),hardwareState:t,isLedgerConnected:n,isTonAppConnected:a}}))((function(e){let{currentDappTransfer:{transactions:t,isLoading:n,viewTransactionOnIdx:o,state:r,error:s},tokens:i,hardwareState:l,isLedgerConnected:c,isTonAppConnected:d}=e;const{setDappTransferScreen:u,clearDappTransferError:m,submitDappTransferPassword:p,submitDappTransferHardware:h,cancelDappTransfer:g}=wt(),v=fn(),f=G((()=>null==i?void 0:i.find((e=>{let{slug:t}=e;return t===a.rH}))),[i]),w=r!==Ct.None,{renderingKey:y,nextKey:E,updateNextKey:b}=wr(r,w),k=X((()=>{r!==Ct.Confirm&&r!==Ct.Password||u({state:Ct.Initial})}),[u,r]),N=X((e=>{p({password:e})}),[p]);function C(e,r,u){switch(u){case Ct.Initial:return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:v("Send Transaction"),onClose:g}),ae.createElement(is,{tonToken:f}));case Ct.WarningHardware:return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:v("Send Transaction"),onClose:g}),ae.createElement(Jr,{tonToken:f}));case Ct.Confirm:return function(e){const n=void 0!==o?null==t?void 0:t[o]:void 0;return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:v("Is it all ok?"),onClose:g}),ae.createElement("div",{className:Hn},ae.createElement(Ra,{size:a.dC,play:e,noLoop:!1,nonInteractive:!0,className:Ot("CvbsvSeJXwdpTwYSQfdq","T6fah7hAOv5BIdSfaCd8"),tgsUrl:fa.bill,previewUrl:fa.billPreview}),Boolean(n)&&ae.createElement(ss,{transaction:n,tonToken:f,tokens:i}),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:k},v("Back")))))}(e);case Ct.Password:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:v("Confirm Transaction"),onClose:g}),ae.createElement(Rr,{isActive:e,isLoading:n,error:s,placeholder:v("Enter your password"),onUpdate:m,onSubmit:N,submitLabel:v("Send"),onCancel:k,cancelLabel:v("Back")}))}(e);case Ct.ConnectHardware:return ae.createElement(Vr,{state:l,isTonAppConnected:d,isLedgerConnected:c,onConnected:h,onClose:g});case Ct.ConfirmHardware:return ae.createElement(Lr,{text:v("Please confirm transaction on your Ledger"),error:s,onTryAgain:h,onClose:g})}}return ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:w,onClose:g,noBackdropClose:!0,dialogClassName:Wr,onCloseAnimationEnd:b},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:y,nextKey:E,onStop:b},C))}))),cs=te(Et((e=>(0,m.ei)(e,["dialogs"])))((e=>{let{dialogs:t}=e;const{dismissDialog:n}=wt(),a=fn(),[o,r,s]=qt();if(Q((()=>{t.length>0?r():s()}),[t,r]),!t.length)return;const i=t[t.length-1];return ae.createElement(ja,{isCompact:!0,isOpen:o,onClose:s,onCloseAnimationEnd:n,title:a("Something went wrong")},ae.createElement("div",{className:"mJ2Hr775vSd5B8bjbMy8"},Zt(a(i))),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:s},"OK")))})));let ds=function(e){return e.DEEPLINK="deeplink",e.DEEPLINK_TONCONNECT="deeplink-tonconnect",e.UPDATE_ERROR="update-error",e.UPDATE_AVAILABLE="update-available",e.UPDATE_DOWNLOAD_PROGRESS="update-download-progress",e.UPDATE_DOWNLOADED="update-downloaded",e}({});function us(e){return new Promise((t=>{new IntersectionObserver(((e,n)=>{var a;n.disconnect(),t(null===(a=e[0])||void 0===a?void 0:a.boundingClientRect)})).observe(e)}))}const ms="BJ1l2ousFSmhBa2ibg31",ps="giRA566yZvswCUxkWS8B",hs="YRQnHVrQHVoXj7MWAkCG",gs="EkvJqVB5P3b7DmBED7C_",vs="NTLW7XfBwsefnhxTKisd",fs="RWgoE5fzgYymjiIw8vKB",ws="ryxWtwlbQgWcnYFZEr2t",ys="EL4xTVDHmKC9Np12NjVA",Es="PtZ3ZdB09_PdVZyy9J0z",bs="zsKaf7p7a9CLSfNvcbbj",ks="fuiQjwDNN5aQrTmltvgi",Ns=te((function(){const e=fn(),[t,n]=Y(!1),[a,o]=Y(!1),[r,s,i]=qt(!1),[l,c]=Y(0),[d,u]=Y(0),m=G((()=>(100-d)/100),[d]),p=G((()=>28.5+d+l*m),[l,m,d]),h=ee(),g=ee(!1),v=X((()=>{clearInterval(h.current),n(!0),o(!1),u(0),c(0)}),[]);Q((()=>{var e,t,a,r;const s=null===(e=window.electron)||void 0===e?void 0:e.on(ds.UPDATE_ERROR,(()=>{n(!1)})),l=null===(t=window.electron)||void 0===t?void 0:t.on(ds.UPDATE_AVAILABLE,(()=>{n(!0)})),d=null===(a=window.electron)||void 0===a?void 0:a.on(ds.UPDATE_DOWNLOAD_PROGRESS,(async e=>{var t;if(g.current)return await(null===(t=window.electron)||void 0===t?void 0:t.cancelUpdate()),void i();clearInterval(h.current),c(e.percent)})),m=null===(r=window.electron)||void 0===r?void 0:r.on(ds.UPDATE_DOWNLOADED,(()=>{c(100),setTimeout((()=>{u(0),c(0),o(!0)}),2e3)}));return()=>{null==s||s(),null==l||l(),null==d||d(),null==m||m()}}),[v,i]);const f=X((async()=>{if(g.current=!1,!r&&!l){var e,n;if(a)return s(),void await(null===(e=window.electron)||void 0===e?void 0:e.installUpdate());t&&(null===(n=window.electron)||void 0===n||n.downloadUpdate(),h.current=window.setInterval((()=>{u((e=>e>=20?(clearInterval(h.current),e):e+1))}),1e3))}}),[l,a,t,r,s]),w=X((async e=>{var t;e.stopPropagation(),s(),l?(await(null===(t=window.electron)||void 0===t?void 0:t.cancelUpdate()),i()):g.current=!0,v()}),[v,l,s,i]),{transitionClassNames:y,shouldRender:E}=Tn(a),b=G((()=>!(!d&&!l||r)),[l,d,r]),k=G((()=>!a&&b),[a,b]),N=G((()=>k&&p<=100),[k,p]),{transitionClassNames:C,shouldRender:S}=Tn(N),T=e(a?"Update MyTonWallet":"Update"),{transitionClassNames:A}=Tn(!b),_=G((()=>a?ae.createElement("i",{className:Ot("icon-update",ps)}):b?void 0:ae.createElement("i",{className:Ot("icon-download",ps)})),[b,a]),{containerRef:I,renderedFakeText:x}=function(e){const t=fn(),n=ee(null),a=ee(null),o=ee(),r=X((()=>{a.current&&us(a.current).then((e=>{o.current!==e.width&&(n.current.style.maxWidth=`${e.width+19+16}px`,o.current=e.width)}))}),[]);Q((()=>{r()}),[r,t,e]);const s=G((()=>ae.createElement("div",{ref:a,className:Ot(Es,bs)},e)),[e]);return{containerRef:n,renderedFakeText:s}}(T);return E?ae.createElement("div",{className:Ot(ms,y,k&&vs,r&&fs,(a||100===l)&&hs),ref:I,onClick:f},ae.createElement("div",{className:Ot(ws,k&&vs)},ae.createElement("div",{className:Ot(gs,!b&&ys),style:`width: ${p}%`},_)),x,ae.createElement("div",{className:Ot(Es,A)},T),S&&ae.createElement("div",{className:Ot(ks,C)},ae.createElement("i",{className:"icon-close",onClick:w}))):null})),Cs="uvWzmSRVwikQQiVDfeUT",Ss="a2k0XSVbGvMCpKkepGpZ",Ts="LbHm4l14ATlL25xRZHzz",As="EUfOJONA2t4g5WrIoEps",_s="BMVOdTEAT8hmkgtVWDq2",Is=te((function(e){let{children:t,withTitle:n}=e;const o=ee(null);(e=>{const t=ee(!1),n=ee(window.screenX),o=ee(window.screenY),r=ee(0);Q((()=>{const s=e.current;if(!s||!a.D$||!Lt.jm)return;const i=e=>{r.current=0,t.current&&(e.preventDefault(),e.stopPropagation(),t.current=!1)},l=e=>{t.current&&(e.preventDefault(),e.stopPropagation())},c=e=>{1===e.buttons&&(r.current+=Math.sqrt((n.current-window.screenX)**2+(o.current-window.screenY)**2),n.current=window.screenX,o.current=window.screenY,!t.current&&r.current>5&&(t.current=!0))},d=e=>{var t;e.currentTarget===e.target&&(null===(t=window.electron)||void 0===t||t.handleDoubleClick())};return s.addEventListener("click",i),s.addEventListener("mousedown",l),s.addEventListener("mousemove",c),s.addEventListener("dblclick",d),()=>{s.removeEventListener("click",i),s.removeEventListener("mouseup",l),s.removeEventListener("mousemove",c),s.removeEventListener("dblclick",d)}}),[e])})(o);const r=X((()=>{var e;null===(e=window.electron)||void 0===e||e.minimize()}),[]),s=X((async()=>{var e,t,n;await(null===(e=window.electron)||void 0===e?void 0:e.getIsMaximized())?null===(t=window.electron)||void 0===t||t.unmaximize():null===(n=window.electron)||void 0===n||n.maximize()}),[]),i=X((()=>{var e;null===(e=window.electron)||void 0===e||e.close()}),[]),l=X((()=>{var e;null===(e=window.electron)||void 0===e||e.handleDoubleClick()}),[]);return Lt.qB?ae.createElement("div",{ref:o,className:Cs,onDoubleClick:l},ae.createElement("div",{className:Ss},Boolean(t)&&ae.createElement("div",{className:As},t),n&&ae.createElement("div",{className:Ts},"MyTonWallet")),ae.createElement("div",{className:"af3cKX2tjX1g8zCLIQ8Q"},ae.createElement(Ns,null),ae.createElement("div",{className:_s,onClick:r},ae.createElement("i",{className:"icon-windows-minimize"})),ae.createElement("div",{className:_s,onClick:s},ae.createElement("i",{className:"icon-windows-maximize"})),ae.createElement("div",{className:_s,onClick:i},ae.createElement("i",{className:"icon-windows-close"})))):ae.createElement("div",{ref:o,className:Cs,onDoubleClick:l},ae.createElement("div",{className:Ss},n&&ae.createElement("div",{className:Ts},"MyTonWallet"),ae.createElement("div",{className:As},ae.createElement(Ns,null),t)))})),xs=te((function(e){let{hardwareWallets:t,accounts:n,onCancel:a,onClose:o}=e;const{afterSelectHardwareWallets:r}=wt(),s=fn(),[i,l]=Y([]),c=!a,d=X((e=>{i.includes(e)?l(i.filter((t=>t!==e))):l(i.concat([e]))}),[i]),u=X((()=>{r({hardwareSelectedIndices:i}),o()}),[r,i,o]),m=G((()=>Object.values(null!=n?n:[]).map((e=>{let{address:t}=e;return t}))),[n]),p=!i.length,h=i.length?s("%1$d Selected",i.length):s("Select Ledger Wallets");return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:h,onClose:o}),ae.createElement("div",{className:yr},function(){const e=null!=t?t:[];return ae.createElement("div",{className:"O8vLmsOnoEnYFMWXixug"},e.map((e=>{let{address:t,balance:n,index:a}=e;return function(e,t,n,a){const o=a||i.includes(n);return ae.createElement("div",{key:e,className:Ot("IIjeX5JjXoCEZoNbKh86",o&&"FdZnmri2afIv9jT6vNE_"),"aria-label":s("Switch Account"),onClick:a?void 0:()=>d(n)},ae.createElement("span",{className:"tw03uUqLgATMLLjhGT0Y"},ae.createElement("i",{className:Ot("a7V8u3W7_sZkZTmgMWvz","icon-ton"),"aria-hidden":!0}),nn(Lo(t),"",3)),ae.createElement("div",{className:"qX2IJtetnton1CEJo8Bq"},ae.createElement("span",{className:"KJG1xd524OpEBRF0Y9FS"},fr(e,6,6))),ae.createElement("div",{className:Ot("mvsHQSjEwRfeApWz_YUu",o&&"chC6DTx56Ii5W8bxVXzt")}))}(t,n,a,m.includes(t))})))}(),ae.createElement("div",{className:Ir},ae.createElement(yn,{className:Pr,onClick:c?o:a},s(c?"Cancel":"Back")),ae.createElement(yn,{isPrimary:!0,isDisabled:p,onClick:u,className:Pr},s("Add")))))}));var Ps=function(e){return e[e.Password=0]="Password",e[e.Connect=1]="Connect",e[e.SelectWallets=2]="SelectWallets",e}(Ps||{});const Ms=te(Et((e=>{const t=cr(e),{hardwareWallets:n,hardwareState:a,isLedgerConnected:o,isTonAppConnected:r,isRemoteTab:s}=e.hardware;return{accounts:t,hardwareWallets:n,hardwareState:a,isLedgerConnected:o,isTonAppConnected:r,isRemoteTab:s}}))((function(e){let{isOpen:t,onClose:n,hardwareWallets:a,accounts:o,hardwareState:r,isLedgerConnected:s,isTonAppConnected:i,isRemoteTab:l}=e;const{resetHardwareWalletConnect:c}=wt(),[d,u]=Y(Ps.Connect),[m]=Y(Ps.SelectWallets),p=X((()=>{u(Ps.SelectWallets)}),[]),h=X((()=>{u(Ps.Connect),c()}),[c]);function g(e,t,c){switch(c){case Ps.Connect:return ae.createElement(Vr,{state:r,isLedgerConnected:s,isTonAppConnected:i,isRemoteTab:l,onConnected:p,onClose:n});case Ps.SelectWallets:return ae.createElement(xs,{accounts:o,hardwareWallets:a,onClose:n})}}return ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:t,onClose:n,onCloseAnimationEnd:h,dialogClassName:"Eg_4ekTn_aEDWynoNOkM"},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:d,nextKey:m},g))}))),Ds={sticker:"A5WFj38ZnriwTCiTw0Wz",balanceChange:"Ba44MsfiGoCIxU3JECmp",amount:"ooItwWzOaeSgDG9HxN0p",amount_purple:"dZsrQMUXxWncJ5EzVj8Q",amountPurple:"dZsrQMUXxWncJ5EzVj8Q",amount_green:"Dkfs6QcR9MyaYcHi6nme",amountGreen:"Dkfs6QcR9MyaYcHi6nme",amountSymbol:"sELQazWOggo_lKrf4qUV",amountFraction:"_Yj6gjDLdt4MYlfKFF3u",buttons:"pqdFePn2wic6rDDg1DIf",button:"KU8G5e3lPApuwNRk7sTu"},Os=te((function(e){let{playAnimation:t,amount:n=0,tokenSymbol:o=a._x,precision:r=2,noSign:s,color:i,balance:l,operationAmount:c,fee:d,firstButtonText:u,secondButtonText:m,onFirstButtonClick:p,onSecondButtonClick:h}=e;const g=l&&c,v=g?l+c-(null!=d?d:0):0,[f,w]=an(n,"",s).split(".");return ae.createElement(ae.Fragment,null,ae.createElement(Ra,{play:t,noLoop:!1,nonInteractive:!0,className:Ds.sticker,tgsUrl:fa.thumbUp,previewUrl:fa.thumbUpPreview}),Boolean(g)&&ae.createElement("div",{className:Ds.balanceChange},nn(l,o,r)," → ",nn(v,o,r)),ae.createElement("div",{className:Ot(Ds.amount,i&&Ds[`amount_${i}`])},f.trim().replace(" ","").replace("-","−"),w&&ae.createElement("span",{className:Ds.amountFraction},".",w.trim()),ae.createElement("span",{className:Ds.amountSymbol},o)),function(){if(u||m)return ae.createElement("div",{className:Ds.buttons},u&&ae.createElement(yn,{className:Ds.button,onClick:p},u),u&&ae.createElement(yn,{className:Ds.button,onClick:h},m))}())})),Ls=n.p+"btc.d4998cb71251ed126400.png",Vs={ton:n.p+"ton.9c37c7602bc36bdb93b2.png",btc:Ls};function Bs(e,t){return e.match(new RegExp(`^(\\d+)([.,])?(\\d{1,${t}})?$`))||void 0}function Rs(e,t){return e?tr(e,t):void 0}function Ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Se;const[,o,r,s]=e,i=String(parseInt(o,10)),l=s||r?`.${(s||"").substring(0,n)}`:"";return`${i}<span class="${Eo}">${l}${t?` ${t}`:""}</span>`}const $s=te((function(e){let{id:t,labelText:n,hasError:o,suffix:r,value:s,children:i,className:l,inputClassName:c,labelClassName:d,valueClassName:u,onChange:m,onBlur:p,onPressEnter:h,decimals:g=a.Se}=e;const v=ee(null),f=fn(),[w,y,E]=qt(!1),b=X((e=>{const t=v.current,n=e?Ws(e,r,g):"",a=document.activeElement===v.current?function(e,t){var n;const a=window.getSelection();if(!a||0===a.rangeCount)return;const o=a.getRangeAt(0);o.setStart(e,0);const r=o.toString().match(new RegExp(`(\\d+(?:\\.\\d{0,${t}})?)`)),s=(null==r||null===(n=r[0])||void 0===n?void 0:n.length)||o.toString().length||0;return function(){try{const{node:t,position:n}=function(e,t){const n=NodeFilter.SHOW_TEXT;return{node:document.createTreeWalker(e,n,(e=>t>e.textContent.length?(t-=e.textContent.length,NodeFilter.FILTER_REJECT):NodeFilter.FILTER_ACCEPT)).nextNode()||e,position:t}}(e,s);a.removeAllRanges();const o=new Range;o.setStart(t,n),o.setEnd(t,n),a.addRange(o)}catch(e){}}}(t,g):void 0;t.innerHTML=n,null==a||a(),t.classList.toggle(ho,!n.length)}),[g,r]);Q((()=>{const e=Rs(s,g),t=Bs(String(e),g);b(t),s!==e&&(null==m||m(e))}),[g,m,b,s]);const k=X((()=>{E(),null==p||p()}),[p,E]),N=Ot(vo,o&&mo,w&&fo,c),C=Ot(co,uo,!s&&ho,u),S=Ot(bo,o&&mo,d);return ae.createElement("div",{className:Ot(lo,l)},n&&ae.createElement("label",{className:S,htmlFor:t,id:`${t}Label`},n),ae.createElement("div",{className:N},ae.createElement("div",{ref:v,contentEditable:!0,id:t,role:"textbox","aria-required":!0,"aria-placeholder":f("Amount value"),"aria-labelledby":n?`${t}Label`:void 0,tabIndex:0,className:C,onKeyDown:e=>{"Enter"===e.key&&h&&h(e)},onChange:function(e){const t=e.currentTarget.innerText.trim(),n=Bs(t,g),a=""===t;b(n||a||!s?n:Bs(String(s),g));const o=Rs(Number(t),g);(o||a)&&o!==s&&(null==m||m(o))},onFocus:y,onBlur:k}),i))})),Us=te((function(e){let{id:t,labelText:n,value:o,error:r,suffix:s,zeroValue:i,decimals:l=a.Se,className:c,inputClassName:d,labelClassName:u,valueClassName:m,children:p}=e;const h=ee(null),g=ee(""),v=X((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=h.current,a=new RegExp(`^(\\d+)([.,])?(\\d{1,${l}})?$`),o=e.toString().match(a);null===o||o.length<4||""===o[0]?t||""===e?(g.current="",n.innerText=""):v(g.current,!0):(g.current=e,n.innerHTML=Ws(o,s,l))}),[l,s]);J((()=>{o?v(tr(o,l)):i&&(h.current.innerHTML=i)}),[l,v,o,i]);const f=Ot(vo,d),w=Ot(co,uo,go,r&&mo,m),y=Ot(bo,u);return ae.createElement("div",{className:Ot(lo,c)},r&&ae.createElement("label",{className:Ot(bo,ko,mo),htmlFor:t},r),n&&ae.createElement("label",{className:y,htmlFor:t,id:`${t}Label`},n),ae.createElement("div",{className:f},ae.createElement("div",{ref:h,id:t,className:w}),p))})),Hs="NFuvG779Z6LhsgGvSlZb",qs="Msv5QVLVso39UMgDtoAn",Fs="JDicTTdz2inMDKrSW5S7",zs="g5bO96jVildGobwKphO7",js="hE7rxQvMIlKquc2rCZax",Ks="KaMATQB07QyEMfsm1bYw",Ys="Usc5EPy2gqCRBMn8PaZZ",Zs="Ou6M52PBoTOzdQqNEdH8",Qs="InQabE3DMB0jKZbA4xgk",Js="G6zfpYLafre64NvGmUgM",Gs="zCuPMOeIld8cr5lpOrxz",Xs="U5oosGMc35RwLidyfZzI",ei="zTsZSc2OlWOTHbu7JjsZ",ti="dmqD8FNlPxlZO6pn0_TQ",ni=(0,s.P2)((e=>e()),1500,!0),ai=te(Et((e=>{var t,n;const{isLoading:a,fee:o,error:r}=e.staking,s=ar(e),i=mr(e);return{isLoading:a,tokens:s,apiError:r,fee:o,stakingBalance:(null==i?void 0:i.stakingBalance)||0,stakingMinAmount:(null==i||null===(t=i.poolState)||void 0===t?void 0:t.minStake)||0,apyValue:(null==i||null===(n=i.poolState)||void 0===n?void 0:n.lastApy)||0}}))((function(e){let{isActive:t,isStatic:n,isLoading:o,apiError:r,tokens:s,fee:i,stakingBalance:l,stakingMinAmount:c,apyValue:d}=e;const{submitStakingInitial:u,fetchStakingFee:m}=wt(),p=fn(),[h,g,v]=qt(),[f,w]=Y(0),[y,E]=Y(!1),[b,k]=Y(!1),[N,C]=Y(!1),{amount:S,decimals:T,symbol:A}=G((()=>null==s?void 0:s.find((e=>{let{slug:t}=e;return t===a.rH}))),[s])||{},_=Boolean(b||r),I=X((function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(C(!1),E(!1),k(!1)),void 0!==e?Number.isNaN(e)||e<0?E(!0):(!S||e>S?k(!0):S+l<c&&E(!0),w(e)):w(void 0)}),[S,l,c]);Q((()=>{if(N&&S){const e=i&&N?Lo(i,T):0;I(S-1.05*e,!0)}else I(f,!0)}),[f,S,T,i,N,I]),Q((()=>{f&&ni((()=>{m({amount:f})}))}),[f,m]);const x=X(I,[I]),P=X((()=>{f&&f+l<c&&E(!0)}),[f,l,c]),M=X((e=>{e.preventDefault(),e.stopPropagation(),S&&C(!0)}),[S]),D=X((e=>{e.preventDefault(),e.stopPropagation(),!S||!f||f<=a.i0||I(f-a.i0)}),[f,S,I]),O=f&&S&&!y&&f<=S&&f+l>=c,L=X((e=>{e.preventDefault(),O&&u({amount:f})}),[O,u,f]);return ae.createElement("form",{className:n?void 0:Hn,onSubmit:L},ae.createElement("div",{className:Ot(qs,n&&"_3PAVX7HSVTtJDUSlkh7g")},ae.createElement(Ra,{size:n?a.uI:a.dC,play:t,noLoop:!1,nonInteractive:!0,className:Ot(Fs,n&&"Pd1ky9Xxh0o7liw2NGtU"),tgsUrl:fa.wait,previewUrl:fa.waitPreview}),ae.createElement("div",{className:Ot("BZjhP6uiD1cbjbB7h6UT",n&&"_iAT3BoDXXj7lSA9Zlwt")},ae.createElement("div",null,p("Earn from your tokens while holding them")),ae.createElement("div",{className:"mUNP0p6x_FrYLkvexsVV"},p("$est_apy_val",d)),ae.createElement(yn,{isText:!0,className:"aaUTb5m7UuC_tmKtVvwH",onClick:g},p("Why this is safe")))),function(){if(!A)return;const e=S&&f&&S>=f&&S-f<=a.i0,t=p("$your_balance_is",{balance:ae.createElement("a",{href:"#",onClick:M,className:Ys},void 0!==S?an(tr(S,2),A,!0):p("Loading..."))}),o=ae.createElement("a",{href:"#",onClick:D,className:Ys},nn(-Math.round(a.i0),A));return ae.createElement(na,{className:Ot("guHIn7vAD_YIcJ82zPKf",n&&"UltwIWaTUaGH4kTXG4D6"),slideClassName:"MTUDExI5tpcpuz1EPYGm",name:"fade",activeKey:e?1:0},e?o:t)}(),ae.createElement($s,{key:"staking_amount",id:"staking_amount",hasError:y||b,value:f,labelText:p("Amount"),onBlur:P,onChange:x,onPressEnter:L,decimals:T,inputClassName:n?Zs:void 0,className:"J8Zn3l03eabbsTvfZimg"},ae.createElement("div",{className:zs},ae.createElement("img",{src:Vs.ton,alt:"",className:js}),ae.createElement("span",{className:Ks},A))),ae.createElement("div",{className:Ot("iZLDvutBJBAyNzxgyQU4",n&&"wbYJTTRxyfJjzg_aLwPS")},ae.createElement("div",{className:"oE2XJqAMoFbGgzN8J76m"},function(){const e=b?p("Insufficient balance"):r?p(r):void 0;return ae.createElement(na,{className:Ot("YoAXfN8EIm4e1ChNhJ2c",y&&"Sk2d5X1ernc1HtDSV6XW"),slideClassName:"PTuKU2NZMKCyVi_Q0aE8",name:"fade",activeKey:e?2:l||_?0:1},e?ae.createElement("span",{className:"SU7WPwNwJLR4riJEj4AB"},e):l?" ":p("$min_value",{value:ae.createElement("span",{className:"uoFHjL25qEtRj99hm1Pm"},nn(c,"TON"))}))}())),function(){const e=f?tr(f+f/100*d,2):0;return ae.createElement(Us,{labelText:p("Est. balance in a year"),zeroValue:"...",value:e,decimals:T,inputClassName:Ot(Qs,n&&Zs),labelClassName:"kXhyCy1UtsodPx3e8WQs",valueClassName:Gs})}(),ae.createElement("div",{className:Ot(Bn,n&&"oFZvN6IRbzrjOeUZwZNA")},ae.createElement(yn,{isPrimary:!0,isSubmit:!0,isDisabled:!O,isLoading:o},p("Stake TON"))),ae.createElement(ja,{isCompact:!0,isOpen:h,title:p("Why staking is safe?"),onClose:v,dialogClassName:"nvUUpxTTKjnKD30ffKln"},ae.createElement("p",{className:Vn},Zt(p("$safe_staking_description1"))),ae.createElement("p",{className:Vn},Zt(p("$safe_staking_description2"))),ae.createElement("p",{className:Vn},Zt(p("$safe_staking_description3"))),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:v},p("Close")))))}))),oi=new Set([At.StakeInitial,At.StakePassword,At.StakeComplete]),ri=te(Et((e=>{const t=ar(e);return{...e.staking,tokens:t}}))((function(e){let{state:t,isLoading:n,amount:o,error:r,tokens:s,onViewStakingInfo:i}=e;const{startStaking:l,setStakingScreen:c,cancelStaking:d,clearStakingError:u,submitStakingPassword:m}=wt(),p=fn(),h=oi.has(t),g=G((()=>null==s?void 0:s.find((e=>{let{slug:t}=e;return t===a.rH}))),[s]),v=zt(null==g?void 0:g.amount,!0),f=zt(o,!0),{renderingKey:w,nextKey:y,updateNextKey:E}=wr(t,h),b=X((()=>{t===At.StakePassword&&c({state:At.StakeInitial})}),[c,t]),k=X((e=>{m({password:e})}),[m]),N=X((()=>{i(),d()}),[d,i]);function C(e,t,a){switch(a){case At.StakeInitial:return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:p("Stake TON"),onClose:d}),ae.createElement(ai,{isActive:e}));case At.StakePassword:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:p("Confirm Staking"),onClose:d}),ae.createElement(Rr,{isActive:e,isLoading:n,error:r,placeholder:p("Confirm operation with your password"),onUpdate:u,onSubmit:k,submitLabel:p("Confirm"),onCancel:b,cancelLabel:p("Back")}))}(e);case At.StakeComplete:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:p("Coins have been staked!"),onClose:d}),ae.createElement("div",{className:Hn},ae.createElement(Os,{color:"purple",playAnimation:e,amount:f,noSign:!0,balance:v,operationAmount:o?-o:void 0,firstButtonText:p("View"),secondButtonText:p("Stake More"),onFirstButtonClick:N,onSecondButtonClick:l}),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:d,isPrimary:!0},p("Close")))))}(e)}}return ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:h,onClose:d,noBackdropClose:!0,dialogClassName:Hs,onCloseAnimationEnd:E},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:w,nextKey:y,onStop:E},C))}))),si=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ee(e);J((()=>{a.current=e}),[e]),Q((()=>{if(void 0===t)return;const e=setInterval((()=>a.current()),t);return n||a.current(),()=>clearInterval(e)}),[t,n])},ii=en((function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"short",o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Date(t).toLocaleString(e,{year:n?void 0:"numeric",month:a||void 0,day:o?void 0:"numeric",hour:r?"numeric":void 0,minute:r?"numeric":void 0,hour12:!1})}));function li(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";const t=(arguments.length>1?arguments[1]:void 0)-Date.now(),n=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24),o=Math.floor(t/1e3/3600/24),r=new Intl.RelativeTimeFormat(e,{localeMatcher:"best fit",numeric:"always",style:"long"}),s=[];if(o>0){const[e,t]=r.formatToParts(o,"day").reverse();s.push(`${t.value}${e.value}`)}if(a>0){const[e,t]=r.formatToParts(a,"hour").reverse();s.push(`${t.value}${e.value}`)}if(n>0){const[e,t]=r.formatToParts(n,"minute").reverse();s.push(`${t.value}${e.value}`)}return s.join(" ")}function ci(e,t){return function(e){return hi(new Date)===hi(new Date(e))}(t)?e("Today"):function(e){const t=new Date;return t.setDate(t.getDate()-1),hi(t)===hi(new Date(e))}(t)?e("Yesterday"):di(e.code,t)}function di(e,t){const n=new Date(t),a=hi(n),o=pi(new Date),r=n.getFullYear()===o.getFullYear();return ii(e,a,r,"long")}function ui(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Date(t),r=hi(o),s=pi(new Date),i=hi(s),l=n&&r===i,c=n?function(e){const t=new Date(e);return t.setSeconds(0,0),t}(o).getTime():r;return a||(a=o.getFullYear()===s.getFullYear()),ii(e,c,a,!l&&"short",l,n)}function mi(e){const t=new Date(e);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function pi(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function hi(e){return pi(e).getTime()}const gi={spinner:"NsSZg65bieEj6lksen7g",inner:"iQkEwHyiJSGYtE2mqZSH",spin:"L8xWt3npdELxTDRu3hpb",withBackground:"gpM9TbBV8id1dWBU51HK",dark:"JHE85tmuWIegGGzE97qu",light:"Qcx6g3F6ckN_DMsSxbL3",white:"_kf_4B5i8CSX2A3S5i43",blue:"yvN5CQNOrrcwHyumzxWw"},vi=te((function(e){let{color:t="blue",backgroundColor:n,className:a}=e;const o=fn(),r=Ot(gi.spinner,gi[t],a,n&&gi.withBackground,n&&gi[n]);return ae.createElement("div",{className:r,"aria-label":o("Loading...")},ae.createElement("div",{className:gi.inner}))})),fi=te((function(e){let{tonToken:t,timestamp:n,profit:a}=e;const o=fn();return ae.createElement("div",{className:"c3a0UYMxZD4LuCPe0fWB"},ae.createElement("i",{className:Ot("Fq_zwerxHUTyJKg6PyPF","icon-earn"),"aria-hidden":!0}),ae.createElement("div",{className:"GvDi4Lh596tqzsfNET2d"},ae.createElement("div",{className:"kWeVE3yy61iSZ6LfCbtm"},o("Earned")),ae.createElement("div",{className:"MOgwT8PjFvVZF4gdtLRi"},ci(o,n),", ",mi(n))),ae.createElement("div",{className:"i0FvFpwf2hQLhFtZAR3q"},an(a,t.symbol)))})),wi=te(Et((e=>{var t,n;const a=mr(e);return{amount:(null==a?void 0:a.stakingBalance)||0,apyValue:(null==a||null===(t=a.poolState)||void 0===t?void 0:t.lastApy)||0,stakingHistory:null==a?void 0:a.stakingHistory,tokens:ar(e),isUnstakeRequested:null==a?void 0:a.isUnstakeRequested,endOfStakingCycle:null==a||null===(n=a.poolState)||void 0===n?void 0:n.endOfCycle}}))((function(e){let{isActive:t,isStatic:n,amount:o,apyValue:r,stakingHistory:i,tokens:l,isUnstakeRequested:c,endOfStakingCycle:d,onClose:u}=e;const{startStaking:m,fetchBackendStakingState:p}=wt(),h=fn(),g=!o,v=Boolean(null==i?void 0:i.profitHistory.length),{shouldRender:f,transitionClassNames:w}=Tn(g&&t),y=G((()=>null==l?void 0:l.find((e=>{let{slug:t}=e;return t===a.rH}))),[l]),E=He(),{height:b}=function(){const{width:e,height:t}=Wt(),[n,a]=Y(e),[o,r]=Y(t),[i,l]=Y(!1),c=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const r=X(e,t);return G((()=>(0,s.Ds)(r,n,!a,!o)),[r,n,a,o])}(l,[l],250,!0);return Q((()=>{const e=(0,s.P2)((()=>{l(!0)}),250,!0),t=(0,s.P2)((()=>{const{width:e,height:t}=Wt();a(e),r(t),c(!1)}),250,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[c]),G((()=>({width:n,height:o,isResizing:i})),[o,i,n])}();si(E,c?3e4:void 0),Q((()=>{t&&p()}),[p,t]);const k=X((()=>{null==u||u(),m()}),[u,m]),N=X((()=>{null==u||u(),m({isUnstaking:!0})}),[u,m]),C=er(o,2),S=er(o+o/100*r,2),T=Ot("iEdWKQ00c0FP723lLbmA",!n&&"RgicY8bUdpp312qk836j",n&&"staking-info");return ae.createElement(ae.Fragment,null,ae.createElement("div",{className:T},!n&&ae.createElement(qn,{title:h("Staking"),closeClassName:"nrAGVpMUp9b60ujja1Kx",onClose:u}),ae.createElement(Us,{labelText:h("Currently Staked"),zeroValue:"...",value:C,decimals:2,suffix:a._x,className:"hzduM32PQyN8iuHZIYWS",labelClassName:Js,valueClassName:"ATh1aKZ2lA5xbqykfaZG"},f&&ae.createElement(vi,{className:Ot("Yz6cYcVsaIIl00SME4pw",w)})),c?ae.createElement("div",{className:Ot(ei,"VoI35A8vGyxFNAlzM6oW")},ae.createElement("i",{className:Ot(ti,"icon-clock")}),Boolean(d)&&h("$unstaking_when_receive",{time:ae.createElement("strong",null,li(h.code,d))})):ae.createElement(ae.Fragment,null,ae.createElement(Us,{labelText:h("Est. balance in a year"),zeroValue:"...",value:S,decimals:2,suffix:a._x,inputClassName:Qs,labelClassName:Js,valueClassName:Gs}),ae.createElement("div",{className:"eWIMTRvSb1RYVKGp30iZ"},ae.createElement(yn,{className:Xs,isPrimary:!0,onClick:k},h("Stake More")),ae.createElement(yn,{className:Xs,onClick:N},h("Unstake"))))),v&&ae.createElement("div",{className:Ot("DRKs7JgnkqaJOuWrPvxQ",n&&"CPkpWrbd85j1RWVVez_n")},ae.createElement("div",{className:"Njk3aCBbgwX2_ky9ntKe"},h("$total",{value:ae.createElement("span",{className:"kq_JHYM6qF1lyDEAx1tQ"},nn(i.totalProfit,a._x))})),ae.createElement("div",{className:"EsdzBJskGAFx4bPROOYL"},h("Earning History")),ae.createElement("div",{className:Ot("j6XC9FGtKGf_aX7I7Zdg",n&&"VnJGx7wDxSeYA4xMbL8d",n&&"custom-scroll",!n&&b>=640&&"custom-scroll")},null==i?void 0:i.profitHistory.map((e=>ae.createElement(fi,{key:e.timestamp,profit:e.profit,timestamp:e.timestamp,tonToken:y}))))))}))),yi=te(Et((e=>{const t=mr(e);return{isUnstakeRequested:null==t?void 0:t.isUnstakeRequested}}))((function(e){let{isOpen:t,isUnstakeRequested:n,onClose:a}=e;const{fetchBackendStakingState:o}=wt(),r=He();return si(r,n?3e4:void 0),Q((()=>{t&&o()}),[o,t]),ae.createElement(ja,{isOpen:t,isSlideUp:!0,onClose:a,contentClassName:Ot("ZuhkvkheQgqKy9FKPKSE")},ae.createElement(wi,{isActive:t,onClose:a}))}))),Ei=new Set([At.UnstakeInitial,At.UnstakePassword,At.UnstakeComplete]),bi=te(Et((e=>{var t;const n=ar(e),a=mr(e);return{...e.staking,tokens:n,stakingBalance:null==a?void 0:a.stakingBalance,endOfStakingCycle:null==a||null===(t=a.poolState)||void 0===t?void 0:t.endOfCycle}}))((function(e){let{state:t,isLoading:n,error:o,tokens:r,stakingBalance:s,endOfStakingCycle:i}=e;const{setStakingScreen:l,cancelStaking:c,clearStakingError:d,submitStakingInitial:u,submitStakingPassword:m,fetchBackendStakingState:p}=wt(),h=fn(),g=Ei.has(t),v=G((()=>null==r?void 0:r.find((e=>{let{slug:t}=e;return t===a.rH}))),[r]),f=zt(s,!0),w=zt(null==v?void 0:v.amount,!0),[y,E]=Y(Date.now()+a.uP),b=v&&v.amount>=a.i0,k=He(),{renderingKey:N,nextKey:C,updateNextKey:S}=wr(t,g);Q((()=>{g&&p()}),[g,p]),jt((()=>{i&&E(i)}),[i]);const T=X((()=>{y<Date.now()&&p(),k()}),[p,k,y]);si(T,3e4);const A=X((()=>{t===At.UnstakePassword&&l({state:At.UnstakeInitial})}),[l,t]),_=X((()=>{u({isUnstaking:!0})}),[u]),I=X((e=>{m({password:e,isUnstaking:!0})}),[m]);function x(e,t,r){switch(r){case At.UnstakeInitial:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:h("Unstake TON"),onClose:c}),ae.createElement("div",{className:Hn},ae.createElement("div",{className:qs},ae.createElement(Ra,{size:80,play:e,noLoop:!1,nonInteractive:!0,className:Fs,tgsUrl:fa.snitch,previewUrl:fa.snitchPreview}),ae.createElement("div",{className:"HI6KQvTkEAoQiKkwEpQu"},h("$unstake_information_with_time",{time:ae.createElement("strong",null,li(h.code,y))}))),ae.createElement(Us,{key:"unstaking_amount",id:"unstaking_amount",error:o?h(o):void 0,value:s,labelText:h("Amount to unstake"),decimals:null==v?void 0:v.decimals},ae.createElement("div",{className:zs},ae.createElement("img",{src:Vs.ton,alt:"",className:js}),ae.createElement("span",{className:Ks},null==v?void 0:v.symbol))),!b&&ae.createElement("p",{className:"olur_1pMOZ9DxABxEDD9"},h("$unstake_insufficient_balance",{balance:`${a.i0} ${a._x}`})),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:c},h("Cancel")),ae.createElement(yn,{isPrimary:!0,onClick:_,isLoading:n,isDisabled:!b},h("Unstake")))))}(e);case At.UnstakePassword:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:h("Confirm Unstaking"),onClose:c}),ae.createElement(Rr,{isActive:e,isLoading:n,error:o,placeholder:h("Confirm operation with your password"),onUpdate:d,onSubmit:I,submitLabel:h("Confirm"),onCancel:A,cancelLabel:h("Back")}))}(e);case At.UnstakeComplete:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:h("Request for unstaking is sent!"),onClose:c}),ae.createElement("div",{className:Hn},ae.createElement(Os,{color:"green",playAnimation:e,amount:f,noSign:!0,balance:w,operationAmount:s}),ae.createElement("div",{className:ei},ae.createElement("i",{className:Ot(ti,"icon-clock")}),h("$unstaking_when_receive",{time:ae.createElement("strong",null,li(h.code,y))})),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:c,isPrimary:!0},h("Close")))))}(e)}}return ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:g,onClose:c,noBackdropClose:!0,dialogClassName:Hs,onCloseAnimationEnd:S},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:N,nextKey:C,onStop:S},x))}))),ki=te((function(e){let{className:t,children:n}=e;return ae.createElement("div",{className:Ot(Hn,t)},n)})),Ni="VCia26wVKo9zkQNfJvzp",Ci="kKL0Cn1b8nTnkaVa8iEh",Si="jikxjfsqHazaFX4Su9Wq",Ti=te(Et((e=>{var t;return{address:null===(t=ur(e,e.currentAccountId))||void 0===t?void 0:t.address}}))((function(e){let{address:t,isStatic:n,onInvoiceModalOpen:a,onQrModalOpen:o}=e;const r=fn();return ae.createElement(ae.Fragment,null,ae.createElement("div",{className:Ot(Ni,n&&"k5h4VYfCBTaYUoSjNP2e")},Zt(r("$receive_ton_description"))),ae.createElement("p",{className:Ci},r("Your address")),ae.createElement(rs,{address:t,className:n?"vWwa31TadP3RxFdrSfvl":void 0,copyNotification:r("Your address was copied!"),noSavedAddress:!0}),ae.createElement("div",{className:Si},ae.createElement(yn,{className:"cKEIWNDh7BG05sgh2IM4",onClick:o,ariaLabel:r("Show QR-Code")},ae.createElement("i",{className:Ot("icon-qrcode","Vf7cFE5am1qzcbwX3d18"),"aria-hidden":!0})),ae.createElement(yn,{onClick:a},r("Create Invoice"))))})));var Ai=n(60779),_i=n.n(Ai);function Ii(e){return Ua({onEsc:e})}const xi=e=>{e.stopPropagation(),e.preventDefault()},Pi={wrapper:"vSXfoE_LZvr0mraGwy3k",bubble:"OrjK7PtzczDqz_I6PouO",top:"zHotBHm7tB286QOLDkaP",bottom:"ktuET_rpDRjdPEO7nk7c",left:"kMVWDKc5BlDPR7g4u8fR",right:"xU_eU2TkTDVFBOnndEbs",backdrop:"MyiefDaGjeIMuN5ZCplN",menu:"PtNS17Z307LQOPcZtFgR",suggestion:"QelsAHXDyn2r1EmVdMp5",dropdown:"dFdVD95sEVCke66k_Q9g"},Mi=e=>{let{children:t,isOpen:n,id:a,className:o,bubbleClassName:r,positionX:s="left",positionY:i="top",type:l="menu",autoClose:c=!1,shouldSkipTransition:d,noBackdrop:u=!1,noCloseOnBackdrop:m=!1,onCloseAnimationEnd:p,onClose:h,onMouseEnter:g,onMouseLeave:v}=e;const f=ee(null),{transitionClassNames:w}=Tn(n,p,d,void 0,d);Q((()=>n&&h?Ii(h):void 0),[n,h]),Ta((e=>{let[t]=e;(n||!n&&!0===t)&&Je(200)}),[n]),function(e,t,n){Q((()=>{const a=e=>{const a=t.current,o=e.target;a&&o&&(a.contains(e.target)&&!o.classList.contains(Pi.backdrop)||(e.preventDefault(),e.stopPropagation(),n&&n()))};return e&&n&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}}),[e,t,n])}(n&&!u,f,m?void 0:h);const y=Ot(Pi.bubble,r,"custom-scroll",Pi[i],Pi[s],Pi[l],w);return ae.createElement("div",{id:a,className:Ot(Pi.wrapper,o),onMouseEnter:g,onMouseLeave:n?v:void 0},n&&!u&&ae.createElement("div",{className:Pi.backdrop,onClick:xi}),ae.createElement("div",{ref:f,className:y,style:`transform-origin: ${s} ${i}`,onClick:c?h:void 0},t))},Di={button:"hb6lWefhuFfkWAU5ZIEq",item:"ynZRgzlfOJPuoqAhawUI",wide:"fSZjmeHMkVvTI2bHPT4J",interactive:"f66IfidZx1bV5nzDdgIm",label:"ni4ACngrjOy76conx_SD",light:"Myjt9nrbuZvoqLmsDZIY",disabled:"fDTtBdvgIijEK0KoUv_C",buttonIcon:"hlSpqcev0GLST7Jwr1cF",item_selected:"UcRe__09UlDnzo5J11P6",itemSelected:"UcRe__09UlDnzo5J11P6",item_with_icon:"W_z2_c40Vv7O0WLP9jkb",itemWithIcon:"W_z2_c40Vv7O0WLP9jkb",itemIcon:"lqziI3S3i9yirEHCJW_q",itemName:"jo2ctB2TkkBrrZeqKjfG"},Oi="caret",Li="right",Vi=te((function(e){let{label:t,items:n,selectedValue:a,className:o,theme:r,arrow:s=Oi,menuPosition:i,menuPositionHorizontal:l=Li,disabled:c,shouldTranslateOptions:d,onChange:u}=e;const m=fn(),[p,h,g]=qt(),v=G((()=>n.find((e=>e.value===a))),[n,a]);if(!n.length)return;const f=Ot(Di.buttonIcon,"chevron"===s?"icon-chevron-down":"icon-caret-down"),w=n.length>1,y=Boolean(t),E=Ot(o,r&&Di[r],w&&Di.interactive,y&&Di.wide,y&&c&&Di.disabled),b=Ot(Di.button,w&&Di.interactive,!y&&c&&Di.disabled);return ae.createElement("div",{className:E,onClick:y&&!c&&w?h:void 0},t&&ae.createElement("span",{className:Di.label},t),ae.createElement("button",{type:"button",className:b,onClick:!y&&w?h:void 0,disabled:c},(null==v?void 0:v.icon)&&ae.createElement("img",{src:v.icon,alt:"",className:Di.itemIcon}),ae.createElement("span",{className:Ot(Di.itemName,"itemName")},d?m(v.name):v.name),w&&ae.createElement("i",{className:f})),w&&ae.createElement(Mi,{positionX:l,positionY:i,isOpen:p,onClose:g,type:"dropdown"},n.map((e=>{const t=Ot(Di.item,e.icon&&Di.item_with_icon,a===e.value&&Di.item_selected);return ae.createElement("button",{type:"button",onClick:t=>((e,t)=>{e.stopPropagation(),null==u||u(t),g()})(t,e.value),className:t},e.icon&&ae.createElement("img",{src:e.icon,alt:"",className:Di.itemIcon}),ae.createElement("span",{className:Ot(Di.itemName,"menuItemName")},d?m(e.name):e.name))}))))})),Bi=te(Et((e=>{var t;return{address:null===(t=ur(e,e.currentAccountId))||void 0===t?void 0:t.address,tokens:ar(e)}}))((function(e){let{address:t,backButtonText:n="Back",isOpen:o,tokens:r,onBackButtonClick:s,onClose:i}=e;const l=fn(),[c,d]=Y(void 0),[u,m]=Y(""),[p,h]=Y(!1),g=c?Vo(c):void 0,v=t?_i().utils.formatTransferUrl(t,g,u):"",f=G((()=>r?r.reduce(((e,t)=>(t.slug===a.rH&&e.push({value:t.slug,icon:t.image||Vs[t.symbol.toLowerCase()],name:t.symbol}),e)),[]):[]),[r]),w=X((e=>{h(!1),void 0!==e?Number.isNaN(e)||e<0?h(!0):d(e):d(void 0)}),[]);return ae.createElement(ja,{isSlideUp:!0,hasCloseButton:!0,title:l("Create Invoice"),isOpen:o,onClose:i},ae.createElement(ki,{className:"P5JKqupCRQ7KT0CKpOu9"},ae.createElement("div",{className:Ot(Ni,"pz4Oc3xcP8JTIR5NPHvv")},Zt(l("$receive_invoice_description"))),ae.createElement($s,{key:"amount",id:"amount",hasError:p,value:c,labelText:l("Amount"),onChange:w},ae.createElement(Vi,{items:f,selectedValue:a.rH,className:"IJ9RAXxhcenGBwmtFJ6q"})),ae.createElement(So,{value:u,onInput:m,label:l("Comment"),placeholder:l("Optional"),wrapperClassName:"B3ZbIL0kQplobxOwHB5g"}),ae.createElement("p",{className:Ot(Ci,"QRXcv3ae3k67lyw5bTg0")},l("Share this URL to receive TON")),ae.createElement(rs,{text:v,copyNotification:l("Invoice link was copied!")}),ae.createElement("div",{className:Si},ae.createElement(yn,{onClick:s},null!=n?n:l("Back")))))}))),Ri="square",Wi="square",$i="extra-rounded",Ui="dots",Hi="rounded",qi="classy",Fi="classy-rounded",zi="extra-rounded",ji="canvas",Ki={L:.07,M:.15,Q:.25,H:.3},Yi={};for(let e=0;e<=40;e++)Yi[e]=e;const Zi=Yi;var Qi=n(96192),Ji=n.n(Qi);function Gi(e,t){const n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}const Xi=e=>!!e&&"object"==typeof e&&!Array.isArray(e);function el(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;const o=n.shift();return void 0!==o&&Xi(e)&&Xi(o)?(e={...e},Object.keys(o).forEach((t=>{const n=e[t],a=o[t];Array.isArray(n)&&Array.isArray(a)?e[t]=a:Xi(n)&&Xi(a)?e[t]=el({...n},a):e[t]=a})),el(e,...n)):e}function tl(e){const t={...e};if(!t.colorStops||!t.colorStops.length)throw new Error("Field 'colorStops' is required in gradient");return t.rotation?t.rotation=Number(t.rotation):t.rotation=0,t.colorStops=t.colorStops.map((e=>({...e,offset:Number(e.offset)}))),t}function nl(e){const t={...e};return t.width=Number(t.width),t.height=Number(t.height),t.margin=Number(t.margin),t.imageOptions={...t.imageOptions,hideBackgroundDots:Boolean(t.imageOptions.hideBackgroundDots),imageSize:Number(t.imageOptions.imageSize),margin:Number(t.imageOptions.margin)},t.margin>Math.min(t.width,t.height)&&(t.margin=Math.min(t.width,t.height)),t.dotsOptions={...t.dotsOptions},t.dotsOptions.gradient&&(t.dotsOptions.gradient=tl(t.dotsOptions.gradient)),t.cornersSquareOptions&&(t.cornersSquareOptions={...t.cornersSquareOptions},t.cornersSquareOptions.gradient&&(t.cornersSquareOptions.gradient=tl(t.cornersSquareOptions.gradient))),t.cornersDotOptions&&(t.cornersDotOptions={...t.cornersDotOptions},t.cornersDotOptions.gradient&&(t.cornersDotOptions.gradient=tl(t.cornersDotOptions.gradient))),t.backgroundOptions&&(t.backgroundOptions={...t.backgroundOptions},t.backgroundOptions.gradient&&(t.backgroundOptions.gradient=tl(t.backgroundOptions.gradient))),t}const al="radial";function ol(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rl{constructor(e){let{context:t,type:n}=e;ol(this,"_context",void 0),ol(this,"_type",void 0),this._context=t,this._type=n}draw(e,t,n,a){const o=this._context;let r;r=this._type===Ri?this._drawSquare:this._drawDot,r.call(this,{x:e,y:t,size:n,context:o,rotation:a})}_rotateFigure(e){let{x:t,y:n,size:a,context:o,rotation:r=0,draw:s}=e;const i=t+a/2,l=n+a/2;o.translate(i,l),r&&o.rotate(r),s(),o.closePath(),r&&o.rotate(-r),o.translate(-i,-l)}_basicDot(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.arc(0,0,t/2,0,2*Math.PI)}})}_basicSquare(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.rect(-t/2,-t/2,t,t)}})}_drawDot(e){let{x:t,y:n,size:a,context:o,rotation:r}=e;this._basicDot({x:t,y:n,size:a,context:o,rotation:r})}_drawSquare(e){let{x:t,y:n,size:a,context:o,rotation:r}=e;this._basicSquare({x:t,y:n,size:a,context:o,rotation:r})}}function sl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class il{constructor(e){let{context:t,type:n}=e;sl(this,"_context",void 0),sl(this,"_type",void 0),this._context=t,this._type=n}draw(e,t,n,a){const o=this._context;let r;switch(this._type){case Wi:r=this._drawSquare;break;case $i:r=this._drawExtraRounded;break;default:r=this._drawDot}r.call(this,{x:e,y:t,size:n,context:o,rotation:a})}_rotateFigure(e){let{x:t,y:n,size:a,context:o,rotation:r=0,draw:s}=e;const i=t+a/2,l=n+a/2;o.translate(i,l),r&&o.rotate(r),s(),o.closePath(),r&&o.rotate(-r),o.translate(-i,-l)}_basicDot(e){const{size:t,context:n}=e,a=t/7;this._rotateFigure({...e,draw:()=>{n.arc(0,0,t/2,0,2*Math.PI),n.arc(0,0,t/2-a,0,2*Math.PI)}})}_basicSquare(e){const{size:t,context:n}=e,a=t/7;this._rotateFigure({...e,draw:()=>{n.rect(-t/2,-t/2,t,t),n.rect(-t/2+a,-t/2+a,t-2*a,t-2*a)}})}_basicExtraRounded(e){const{size:t,context:n}=e,a=t/7;this._rotateFigure({...e,draw:()=>{n.arc(-a,-a,2.5*a,Math.PI,-Math.PI/2),n.lineTo(a,-3.5*a),n.arc(a,-a,2.5*a,-Math.PI/2,0),n.lineTo(3.5*a,-a),n.arc(a,a,2.5*a,0,Math.PI/2),n.lineTo(-a,3.5*a),n.arc(-a,a,2.5*a,Math.PI/2,Math.PI),n.lineTo(-3.5*a,-a),n.arc(-a,-a,1.5*a,Math.PI,-Math.PI/2),n.lineTo(a,-2.5*a),n.arc(a,-a,1.5*a,-Math.PI/2,0),n.lineTo(2.5*a,-a),n.arc(a,a,1.5*a,0,Math.PI/2),n.lineTo(-a,2.5*a),n.arc(-a,a,1.5*a,Math.PI/2,Math.PI),n.lineTo(-2.5*a,-a)}})}_drawDot(e){let{x:t,y:n,size:a,context:o,rotation:r}=e;this._basicDot({x:t,y:n,size:a,context:o,rotation:r})}_drawSquare(e){let{x:t,y:n,size:a,context:o,rotation:r}=e;this._basicSquare({x:t,y:n,size:a,context:o,rotation:r})}_drawExtraRounded(e){let{x:t,y:n,size:a,context:o,rotation:r}=e;this._basicExtraRounded({x:t,y:n,size:a,context:o,rotation:r})}}function ll(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class cl{constructor(e){let{context:t,type:n}=e;ll(this,"_context",void 0),ll(this,"_type",void 0),this._context=t,this._type=n}draw(e,t,n,a){const o=this._context;let r;switch(this._type){case Ui:r=this._drawDot;break;case qi:r=this._drawClassy;break;case Fi:r=this._drawClassyRounded;break;case Hi:r=this._drawRounded;break;case zi:r=this._drawExtraRounded;break;default:r=this._drawSquare}r.call(this,{x:e,y:t,size:n,context:o,getNeighbor:a})}_rotateFigure(e){let{x:t,y:n,size:a,context:o,rotation:r=0,draw:s}=e;const i=t+a/2,l=n+a/2;o.translate(i,l),r&&o.rotate(r),s(),o.closePath(),r&&o.rotate(-r),o.translate(-i,-l)}_basicDot(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.arc(0,0,t/2,0,2*Math.PI)}})}_basicSquare(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.rect(-t/2,-t/2,t,t)}})}_basicSideRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.arc(0,0,t/2,-Math.PI/2,Math.PI/2),n.lineTo(-t/2,t/2),n.lineTo(-t/2,-t/2),n.lineTo(0,-t/2)}})}_basicCornerRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.arc(0,0,t/2,-Math.PI/2,0),n.lineTo(t/2,t/2),n.lineTo(-t/2,t/2),n.lineTo(-t/2,-t/2),n.lineTo(0,-t/2)}})}_basicCornerExtraRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.arc(-t/2,t/2,t,-Math.PI/2,0),n.lineTo(-t/2,t/2),n.lineTo(-t/2,-t/2)}})}_basicCornersRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.arc(0,0,t/2,-Math.PI/2,0),n.lineTo(t/2,t/2),n.lineTo(0,t/2),n.arc(0,0,t/2,Math.PI/2,Math.PI),n.lineTo(-t/2,-t/2),n.lineTo(0,-t/2)}})}_basicCornersExtraRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.arc(-t/2,t/2,t,-Math.PI/2,0),n.arc(t/2,-t/2,t,Math.PI/2,Math.PI)}})}_drawDot(e){let{x:t,y:n,size:a,context:o}=e;this._basicDot({x:t,y:n,size:a,context:o,rotation:0})}_drawSquare(e){let{x:t,y:n,size:a,context:o}=e;this._basicSquare({x:t,y:n,size:a,context:o,rotation:0})}_drawRounded(e){let{x:t,y:n,size:a,context:o,getNeighbor:r}=e;const s=r?Number(r(-1,0)):0,i=r?Number(r(1,0)):0,l=r?Number(r(0,-1)):0,c=r?Number(r(0,1)):0,d=s+i+l+c;if(0!==d)if(d>2||s&&i||l&&c)this._basicSquare({x:t,y:n,size:a,context:o,rotation:0});else{if(2===d){let e=0;return s&&l?e=Math.PI/2:l&&i?e=Math.PI:i&&c&&(e=-Math.PI/2),void this._basicCornerRounded({x:t,y:n,size:a,context:o,rotation:e})}if(1===d){let e=0;l?e=Math.PI/2:i?e=Math.PI:c&&(e=-Math.PI/2),this._basicSideRounded({x:t,y:n,size:a,context:o,rotation:e})}}else this._basicDot({x:t,y:n,size:a,context:o,rotation:0})}_drawExtraRounded(e){let{x:t,y:n,size:a,context:o,getNeighbor:r}=e;const s=r?Number(r(-1,0)):0,i=r?Number(r(1,0)):0,l=r?Number(r(0,-1)):0,c=r?Number(r(0,1)):0,d=s+i+l+c;if(0!==d)if(d>2||s&&i||l&&c)this._basicSquare({x:t,y:n,size:a,context:o,rotation:0});else{if(2===d){let e=0;return s&&l?e=Math.PI/2:l&&i?e=Math.PI:i&&c&&(e=-Math.PI/2),void this._basicCornerExtraRounded({x:t,y:n,size:a,context:o,rotation:e})}if(1===d){let e=0;l?e=Math.PI/2:i?e=Math.PI:c&&(e=-Math.PI/2),this._basicSideRounded({x:t,y:n,size:a,context:o,rotation:e})}}else this._basicDot({x:t,y:n,size:a,context:o,rotation:0})}_drawClassy(e){let{x:t,y:n,size:a,context:o,getNeighbor:r}=e;const s=r?Number(r(-1,0)):0,i=r?Number(r(1,0)):0,l=r?Number(r(0,-1)):0,c=r?Number(r(0,1)):0;0!==s+i+l+c?s||l?i||c?this._basicSquare({x:t,y:n,size:a,context:o,rotation:0}):this._basicCornerRounded({x:t,y:n,size:a,context:o,rotation:Math.PI/2}):this._basicCornerRounded({x:t,y:n,size:a,context:o,rotation:-Math.PI/2}):this._basicCornersRounded({x:t,y:n,size:a,context:o,rotation:Math.PI/2})}_drawClassyRounded(e){let{x:t,y:n,size:a,context:o,getNeighbor:r}=e;const s=r?Number(r(-1,0)):0,i=r?Number(r(1,0)):0,l=r?Number(r(0,-1)):0,c=r?Number(r(0,1)):0;0!==s+i+l+c?s||l?i||c?this._basicSquare({x:t,y:n,size:a,context:o,rotation:0}):this._basicCornerExtraRounded({x:t,y:n,size:a,context:o,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:t,y:n,size:a,context:o,rotation:-Math.PI/2}):this._basicCornersRounded({x:t,y:n,size:a,context:o,rotation:Math.PI/2})}}function dl(e){let{originalHeight:t,originalWidth:n,maxHiddenDots:a,maxHiddenAxisDots:o,dotSize:r}=e;const s={x:0,y:0},i={x:0,y:0};if(t<=0||n<=0||a<=0||r<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const l=t/n;return s.x=Math.floor(Math.sqrt(a/l)),s.x<=0&&(s.x=1),o&&o<s.x&&(s.x=o),s.x%2==0&&s.x--,i.x=s.x*r,s.y=1+2*Math.ceil((s.x*l-1)/2),i.y=Math.round(i.x*l),(s.y*s.x>a||o&&o<s.y)&&(o&&o<s.y?(s.y=o,s.y%2==0&&s.x--):s.y-=2,i.y=s.y*r,s.x=1+2*Math.ceil((s.y/l-1)/2),i.x=Math.round(i.y/l)),{height:i.y,width:i.x,hideYDots:s.y,hideXDots:s.x}}function ul(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ml=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],pl=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class hl{constructor(e){ul(this,"_canvas",void 0),ul(this,"_options",void 0),ul(this,"_qr",void 0),ul(this,"_image",void 0),this._canvas=document.createElement("canvas"),this._canvas.width=e.width,this._canvas.height=e.height,this._options=e}get context(){return this._canvas.getContext("2d")}get width(){return this._canvas.width}get height(){return this._canvas.height}getCanvas(){return this._canvas}clear(){const e=this.context;e&&e.clearRect(0,0,this._canvas.width,this._canvas.height)}async drawQR(e){const t=e.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,a=Math.floor(n/t);let o={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:e,qrOptions:n}=this._options,r=e.imageSize*Ki[n.errorCorrectionLevel],s=Math.floor(r*t*t);o=dl({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:s,maxHiddenAxisDots:t-14,dotSize:a})}this.clear(),this.drawBackground(),this.drawDots(((e,n)=>{var a,r,s,i,l,c;return!(this._options.imageOptions.hideBackgroundDots&&e>=(t-o.hideXDots)/2&&e<(t+o.hideXDots)/2&&n>=(t-o.hideYDots)/2&&n<(t+o.hideYDots)/2||null!==(a=ml[e])&&void 0!==a&&a[n]||null!==(r=ml[e-t+7])&&void 0!==r&&r[n]||null!==(s=ml[e])&&void 0!==s&&s[n-t+7]||null!==(i=pl[e])&&void 0!==i&&i[n]||null!==(l=pl[e-t+7])&&void 0!==l&&l[n]||null!==(c=pl[e])&&void 0!==c&&c[n-t+7])})),this.drawCorners(),this._options.image&&this.drawImage({width:o.width,height:o.height,count:t,dotSize:a})}drawBackground(){const e=this.context,t=this._options;if(e){if(t.backgroundOptions.gradient){const n=t.backgroundOptions.gradient,a=this._createGradient({context:e,options:n,additionalRotation:0,x:0,y:0,size:this._canvas.width>this._canvas.height?this._canvas.width:this._canvas.height});n.colorStops.forEach((e=>{let{offset:t,color:n}=e;a.addColorStop(t,n)})),e.fillStyle=a}else t.backgroundOptions.color&&(e.fillStyle=t.backgroundOptions.color);e.fillRect(0,0,this._canvas.width,this._canvas.height)}}drawDots(e){if(!this._qr)throw new Error("QR code is not defined");const t=this.context;if(!t)throw new Error("QR code is not defined");const n=this._options,a=this._qr.getModuleCount();if(a>n.width||a>n.height)throw new Error("The canvas is too small");const o=Math.min(n.width,n.height)-2*n.margin,r=Math.floor(o/a),s=Math.floor((n.width-a*r)/2),i=Math.floor((n.height-a*r)/2),l=new cl({context:t,type:n.dotsOptions.type});t.beginPath();for(let t=0;t<a;t++)for(let n=0;n<a;n++)e&&!e(t,n)||this._qr.isDark(t,n)&&l.draw(s+t*r,i+n*r,r,((o,r)=>!(t+o<0||n+r<0||t+o>=a||n+r>=a)&&!(e&&!e(t+o,n+r))&&!!this._qr&&this._qr.isDark(t+o,n+r)));if(n.dotsOptions.gradient){const e=n.dotsOptions.gradient,o=this._createGradient({context:t,options:e,additionalRotation:0,x:s,y:i,size:a*r});e.colorStops.forEach((e=>{let{offset:t,color:n}=e;o.addColorStop(t,n)})),t.fillStyle=t.strokeStyle=o}else n.dotsOptions.color&&(t.fillStyle=t.strokeStyle=n.dotsOptions.color);t.fill("evenodd")}drawCorners(e){if(!this._qr)throw new Error("QR code is not defined");const t=this.context;if(!t)throw new Error("QR code is not defined");const n=this._options,a=this._qr.getModuleCount(),o=Math.min(n.width,n.height)-2*n.margin,r=Math.floor(o/a),s=7*r,i=3*r,l=Math.floor((n.width-a*r)/2),c=Math.floor((n.height-a*r)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((o=>{var d,u,m,p,h,g;let[v,f,w]=o;if(e&&!e(v,f))return;const y=l+v*r*(a-7),E=c+f*r*(a-7);if(null!==(d=n.cornersSquareOptions)&&void 0!==d&&d.type){var b;const e=new il({context:t,type:null===(b=n.cornersSquareOptions)||void 0===b?void 0:b.type});t.beginPath(),e.draw(y,E,s,w)}else{const e=new cl({context:t,type:n.dotsOptions.type});t.beginPath();for(let t=0;t<ml.length;t++)for(let n=0;n<ml[t].length;n++){var k;null!==(k=ml[t])&&void 0!==k&&k[n]&&e.draw(y+t*r,E+n*r,r,((e,a)=>{var o;return!(null===(o=ml[t+e])||void 0===o||!o[n+a])}))}}if(null!==(u=n.cornersSquareOptions)&&void 0!==u&&u.gradient){const e=n.cornersSquareOptions.gradient,a=this._createGradient({context:t,options:e,additionalRotation:w,x:y,y:E,size:s});e.colorStops.forEach((e=>{let{offset:t,color:n}=e;a.addColorStop(t,n)})),t.fillStyle=t.strokeStyle=a}else null!==(m=n.cornersSquareOptions)&&void 0!==m&&m.color&&(t.fillStyle=t.strokeStyle=n.cornersSquareOptions.color);if(t.fill("evenodd"),null!==(p=n.cornersDotOptions)&&void 0!==p&&p.type){var N;const e=new rl({context:t,type:null===(N=n.cornersDotOptions)||void 0===N?void 0:N.type});t.beginPath(),e.draw(y+2*r,E+2*r,i,w)}else{const e=new cl({context:t,type:n.dotsOptions.type});t.beginPath();for(let t=0;t<pl.length;t++)for(let n=0;n<pl[t].length;n++){var C;null!==(C=pl[t])&&void 0!==C&&C[n]&&e.draw(y+t*r,E+n*r,r,((e,a)=>{var o;return!(null===(o=pl[t+e])||void 0===o||!o[n+a])}))}}if(null!==(h=n.cornersDotOptions)&&void 0!==h&&h.gradient){const e=n.cornersDotOptions.gradient,a=this._createGradient({context:t,options:e,additionalRotation:w,x:y+2*r,y:E+2*r,size:i});e.colorStops.forEach((e=>{let{offset:t,color:n}=e;a.addColorStop(t,n)})),t.fillStyle=t.strokeStyle=a}else null!==(g=n.cornersDotOptions)&&void 0!==g&&g.color&&(t.fillStyle=t.strokeStyle=n.cornersDotOptions.color);t.fill("evenodd")}))}loadImage(){return new Promise(((e,t)=>{const n=this._options,a=new Image;if(!n.image)return t("Image is not defined");"string"==typeof n.imageOptions.crossOrigin&&(a.crossOrigin=n.imageOptions.crossOrigin),this._image=a,a.onload=()=>{e()},a.src=n.image}))}drawImage(e){let{width:t,height:n,count:a,dotSize:o}=e;const r=this.context;if(!r)throw"canvasContext is not defined";if(!this._image)throw"image is not defined";const s=this._options,i=Math.floor((s.width-a*o)/2),l=Math.floor((s.height-a*o)/2),c=i+s.imageOptions.margin+(a*o-t)/2,d=l+s.imageOptions.margin+(a*o-n)/2,u=t-2*s.imageOptions.margin,m=n-2*s.imageOptions.margin;r.drawImage(this._image,c,d,u<0?0:u,m<0?0:m)}_createGradient(e){let t,{context:n,options:a,additionalRotation:o,x:r,y:s,size:i}=e;if(a.type===al)t=n.createRadialGradient(r+i/2,s+i/2,0,r+i/2,s+i/2,i/2);else{const e=((a.rotation||0)+o)%(2*Math.PI),l=(e+2*Math.PI)%(2*Math.PI);let c=r+i/2,d=s+i/2,u=r+i/2,m=s+i/2;l>=0&&l<=.25*Math.PI||l>1.75*Math.PI&&l<=2*Math.PI?(c-=i/2,d-=i/2*Math.tan(e),u+=i/2,m+=i/2*Math.tan(e)):l>.25*Math.PI&&l<=.75*Math.PI?(d-=i/2,c-=i/2/Math.tan(e),m+=i/2,u+=i/2/Math.tan(e)):l>.75*Math.PI&&l<=1.25*Math.PI?(c+=i/2,d+=i/2*Math.tan(e),u-=i/2,m-=i/2*Math.tan(e)):l>1.25*Math.PI&&l<=1.75*Math.PI&&(d+=i/2,c+=i/2/Math.tan(e),m-=i/2,u-=i/2/Math.tan(e)),t=n.createLinearGradient(Math.round(c),Math.round(d),Math.round(u),Math.round(m))}return t}}const gl={type:ji,width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Zi[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{color:"#fff"}};function vl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fl{constructor(e){let{svg:t,type:n}=e;vl(this,"_element",void 0),vl(this,"_svg",void 0),vl(this,"_type",void 0),this._svg=t,this._type=n}draw(e,t,n,a){let o;o=this._type===Ri?this._drawSquare:this._drawDot,o.call(this,{x:e,y:t,size:n,rotation:a})}_rotateFigure(e){var t;let{x:n,y:a,size:o,rotation:r=0,draw:s}=e;const i=n+o/2,l=a+o/2;s(),null===(t=this._element)||void 0===t||t.setAttribute("transform",`rotate(${180*r/Math.PI},${i},${l})`)}_basicDot(e){const{size:t,x:n,y:a}=e;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(n+t/2)),this._element.setAttribute("cy",String(a+t/2)),this._element.setAttribute("r",String(t/2))}})}_basicSquare(e){const{size:t,x:n,y:a}=e;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(n)),this._element.setAttribute("y",String(a)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}})}_drawDot(e){let{x:t,y:n,size:a,rotation:o}=e;this._basicDot({x:t,y:n,size:a,rotation:o})}_drawSquare(e){let{x:t,y:n,size:a,rotation:o}=e;this._basicSquare({x:t,y:n,size:a,rotation:o})}}function wl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class yl{constructor(e){let{svg:t,type:n}=e;wl(this,"_element",void 0),wl(this,"_svg",void 0),wl(this,"_type",void 0),this._svg=t,this._type=n}draw(e,t,n,a){let o;switch(this._type){case Wi:o=this._drawSquare;break;case $i:o=this._drawExtraRounded;break;default:o=this._drawDot}o.call(this,{x:e,y:t,size:n,rotation:a})}_rotateFigure(e){var t;let{x:n,y:a,size:o,rotation:r=0,draw:s}=e;const i=n+o/2,l=a+o/2;s(),null===(t=this._element)||void 0===t||t.setAttribute("transform",`rotate(${180*r/Math.PI},${i},${l})`)}_basicDot(e){const{size:t,x:n,y:a}=e,o=t/7;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${n+t/2} ${a}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${o}a ${t/2-o} ${t/2-o} 0 1 1 -0.1 0Z`)}})}_basicSquare(e){const{size:t,x:n,y:a}=e,o=t/7;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${n} ${a}v ${t}h ${t}v `+-t+"z"+`M ${n+o} ${a+o}h `+(t-2*o)+"v "+(t-2*o)+"h "+(2*o-t)+"z")}})}_basicExtraRounded(e){const{size:t,x:n,y:a}=e,o=t/7;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${n} ${a+2.5*o}v `+2*o+`a ${2.5*o} ${2.5*o}, 0, 0, 0, ${2.5*o} ${2.5*o}h `+2*o+`a ${2.5*o} ${2.5*o}, 0, 0, 0, ${2.5*o} ${2.5*-o}v `+-2*o+`a ${2.5*o} ${2.5*o}, 0, 0, 0, ${2.5*-o} ${2.5*-o}h `+-2*o+`a ${2.5*o} ${2.5*o}, 0, 0, 0, ${2.5*-o} ${2.5*o}`+`M ${n+2.5*o} ${a+o}h `+2*o+`a ${1.5*o} ${1.5*o}, 0, 0, 1, ${1.5*o} ${1.5*o}v `+2*o+`a ${1.5*o} ${1.5*o}, 0, 0, 1, ${1.5*-o} ${1.5*o}h `+-2*o+`a ${1.5*o} ${1.5*o}, 0, 0, 1, ${1.5*-o} ${1.5*-o}v `+-2*o+`a ${1.5*o} ${1.5*o}, 0, 0, 1, ${1.5*o} ${1.5*-o}`)}})}_drawDot(e){let{x:t,y:n,size:a,rotation:o}=e;this._basicDot({x:t,y:n,size:a,rotation:o})}_drawSquare(e){let{x:t,y:n,size:a,rotation:o}=e;this._basicSquare({x:t,y:n,size:a,rotation:o})}_drawExtraRounded(e){let{x:t,y:n,size:a,rotation:o}=e;this._basicExtraRounded({x:t,y:n,size:a,rotation:o})}}function El(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bl{constructor(e){let{svg:t,type:n}=e;El(this,"_element",void 0),El(this,"_svg",void 0),El(this,"_type",void 0),this._svg=t,this._type=n}draw(e,t,n,a){let o;switch(this._type){case Ui:o=this._drawDot;break;case qi:o=this._drawClassy;break;case Fi:o=this._drawClassyRounded;break;case Hi:o=this._drawRounded;break;case zi:o=this._drawExtraRounded;break;default:o=this._drawSquare}o.call(this,{x:e,y:t,size:n,getNeighbor:a})}_rotateFigure(e){var t;let{x:n,y:a,size:o,rotation:r=0,draw:s}=e;const i=n+o/2,l=a+o/2;s(),null===(t=this._element)||void 0===t||t.setAttribute("transform",`rotate(${180*r/Math.PI},${i},${l})`)}_basicDot(e){const{size:t,x:n,y:a}=e;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(n+t/2)),this._element.setAttribute("cy",String(a+t/2)),this._element.setAttribute("r",String(t/2))}})}_basicSquare(e){const{size:t,x:n,y:a}=e;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(n)),this._element.setAttribute("y",String(a)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}})}_basicSideRounded(e){const{size:t,x:n,y:a}=e;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${n} ${a}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}})}_basicCornerRounded(e){const{size:t,x:n,y:a}=e;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${n} ${a}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}})}_basicCornerExtraRounded(e){const{size:t,x:n,y:a}=e;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${n} ${a}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}})}_basicCornersRounded(e){const{size:t,x:n,y:a}=e;this._rotateFigure({...e,draw:()=>{this._element=document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${n} ${a}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}})}_drawDot(e){let{x:t,y:n,size:a}=e;this._basicDot({x:t,y:n,size:a,rotation:0})}_drawSquare(e){let{x:t,y:n,size:a}=e;this._basicSquare({x:t,y:n,size:a,rotation:0})}_drawRounded(e){let{x:t,y:n,size:a,getNeighbor:o}=e;const r=o?Number(o(-1,0)):0,s=o?Number(o(1,0)):0,i=o?Number(o(0,-1)):0,l=o?Number(o(0,1)):0,c=r+s+i+l;if(0!==c)if(c>2||r&&s||i&&l)this._basicSquare({x:t,y:n,size:a,rotation:0});else{if(2===c){let e=0;return r&&i?e=Math.PI/2:i&&s?e=Math.PI:s&&l&&(e=-Math.PI/2),void this._basicCornerRounded({x:t,y:n,size:a,rotation:e})}if(1===c){let e=0;i?e=Math.PI/2:s?e=Math.PI:l&&(e=-Math.PI/2),this._basicSideRounded({x:t,y:n,size:a,rotation:e})}}else this._basicDot({x:t,y:n,size:a,rotation:0})}_drawExtraRounded(e){let{x:t,y:n,size:a,getNeighbor:o}=e;const r=o?Number(o(-1,0)):0,s=o?Number(o(1,0)):0,i=o?Number(o(0,-1)):0,l=o?Number(o(0,1)):0,c=r+s+i+l;if(0!==c)if(c>2||r&&s||i&&l)this._basicSquare({x:t,y:n,size:a,rotation:0});else{if(2===c){let e=0;return r&&i?e=Math.PI/2:i&&s?e=Math.PI:s&&l&&(e=-Math.PI/2),void this._basicCornerExtraRounded({x:t,y:n,size:a,rotation:e})}if(1===c){let e=0;i?e=Math.PI/2:s?e=Math.PI:l&&(e=-Math.PI/2),this._basicSideRounded({x:t,y:n,size:a,rotation:e})}}else this._basicDot({x:t,y:n,size:a,rotation:0})}_drawClassy(e){let{x:t,y:n,size:a,getNeighbor:o}=e;const r=o?Number(o(-1,0)):0,s=o?Number(o(1,0)):0,i=o?Number(o(0,-1)):0,l=o?Number(o(0,1)):0;0!==r+s+i+l?r||i?s||l?this._basicSquare({x:t,y:n,size:a,rotation:0}):this._basicCornerRounded({x:t,y:n,size:a,rotation:Math.PI/2}):this._basicCornerRounded({x:t,y:n,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:t,y:n,size:a,rotation:Math.PI/2})}_drawClassyRounded(e){let{x:t,y:n,size:a,getNeighbor:o}=e;const r=o?Number(o(-1,0)):0,s=o?Number(o(1,0)):0,i=o?Number(o(0,-1)):0,l=o?Number(o(0,1)):0;0!==r+s+i+l?r||i?s||l?this._basicSquare({x:t,y:n,size:a,rotation:0}):this._basicCornerExtraRounded({x:t,y:n,size:a,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:t,y:n,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:t,y:n,size:a,rotation:Math.PI/2})}}function kl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nl=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Cl=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class Sl{constructor(e){kl(this,"_element",void 0),kl(this,"_defs",void 0),kl(this,"_dotsClipPath",void 0),kl(this,"_cornersSquareClipPath",void 0),kl(this,"_cornersDotClipPath",void 0),kl(this,"_options",void 0),kl(this,"_qr",void 0),kl(this,"_image",void 0),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(e.width)),this._element.setAttribute("height",String(e.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=e}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}clear(){var e;const t=this._element;this._element=t.cloneNode(!1),null==t||null===(e=t.parentNode)||void 0===e||e.replaceChild(this._element,t),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs)}async drawQR(e){const t=e.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,a=Math.floor(n/t);let o={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:e,qrOptions:n}=this._options,r=e.imageSize*Ki[n.errorCorrectionLevel],s=Math.floor(r*t*t);o=dl({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:s,maxHiddenAxisDots:t-14,dotSize:a})}this.clear(),this.drawBackground(),this.drawDots(((e,n)=>{var a,r,s,i,l,c;return!(this._options.imageOptions.hideBackgroundDots&&e>=(t-o.hideXDots)/2&&e<(t+o.hideXDots)/2&&n>=(t-o.hideYDots)/2&&n<(t+o.hideYDots)/2||null!==(a=Nl[e])&&void 0!==a&&a[n]||null!==(r=Nl[e-t+7])&&void 0!==r&&r[n]||null!==(s=Nl[e])&&void 0!==s&&s[n-t+7]||null!==(i=Cl[e])&&void 0!==i&&i[n]||null!==(l=Cl[e-t+7])&&void 0!==l&&l[n]||null!==(c=Cl[e])&&void 0!==c&&c[n-t+7])})),this.drawCorners(),this._options.image&&this.drawImage({width:o.width,height:o.height,count:t,dotSize:a})}drawBackground(){const e=this._element,t=this._options;if(e){var n,a;const e=null===(n=t.backgroundOptions)||void 0===n?void 0:n.gradient,o=null===(a=t.backgroundOptions)||void 0===a?void 0:a.color;(e||o)&&this._createColor({options:e,color:o,additionalRotation:0,x:0,y:0,height:t.height,width:t.width,name:"background-color"})}}drawDots(e){var t;if(!this._qr)throw new Error("QR code is not defined");const n=this._options,a=this._qr.getModuleCount();if(a>n.width||a>n.height)throw new Error("The canvas is too small");const o=Math.min(n.width,n.height)-2*n.margin,r=Math.floor(o/a),s=Math.floor((n.width-a*r)/2),i=Math.floor((n.height-a*r)/2),l=new bl({svg:this._element,type:n.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(t=n.dotsOptions)||void 0===t?void 0:t.gradient,color:n.dotsOptions.color,additionalRotation:0,x:s,y:i,height:a*r,width:a*r,name:"dot-color"});for(let t=0;t<a;t++)for(let n=0;n<a;n++){var c;e&&!e(t,n)||null!==(c=this._qr)&&void 0!==c&&c.isDark(t,n)&&(l.draw(s+t*r,i+n*r,r,((o,r)=>!(t+o<0||n+r<0||t+o>=a||n+r>=a)&&!(e&&!e(t+o,n+r))&&!!this._qr&&this._qr.isDark(t+o,n+r))),l._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(l._element))}}drawCorners(){if(!this._qr)throw new Error("QR code is not defined");const e=this._element,t=this._options;if(!e)throw new Error("Element code is not defined");const n=this._qr.getModuleCount(),a=Math.min(t.width,t.height)-2*t.margin,o=Math.floor(a/n),r=7*o,s=3*o,i=Math.floor((t.width-n*o)/2),l=Math.floor((t.height-n*o)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((e=>{var a,c,d,u,m,p;let[h,g,v]=e;const f=i+h*o*(n-7),w=l+g*o*(n-7);let y=this._dotsClipPath,E=this._dotsClipPath;var b,k,N,C;if((null!==(a=t.cornersSquareOptions)&&void 0!==a&&a.gradient||null!==(c=t.cornersSquareOptions)&&void 0!==c&&c.color)&&(y=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),y.setAttribute("id",`clip-path-corners-square-color-${h}-${g}`),this._defs.appendChild(y),this._cornersSquareClipPath=this._cornersDotClipPath=E=y,this._createColor({options:null===(b=t.cornersSquareOptions)||void 0===b?void 0:b.gradient,color:null===(k=t.cornersSquareOptions)||void 0===k?void 0:k.color,additionalRotation:v,x:f,y:w,height:r,width:r,name:`corners-square-color-${h}-${g}`})),null!==(d=t.cornersSquareOptions)&&void 0!==d&&d.type){const e=new yl({svg:this._element,type:t.cornersSquareOptions.type});e.draw(f,w,r,v),e._element&&y&&y.appendChild(e._element)}else{const e=new bl({svg:this._element,type:t.dotsOptions.type});for(let t=0;t<Nl.length;t++)for(let n=0;n<Nl[t].length;n++){var S;null!==(S=Nl[t])&&void 0!==S&&S[n]&&(e.draw(f+t*o,w+n*o,o,((e,a)=>{var o;return!(null===(o=Nl[t+e])||void 0===o||!o[n+a])})),e._element&&y&&y.appendChild(e._element))}}if((null!==(u=t.cornersDotOptions)&&void 0!==u&&u.gradient||null!==(m=t.cornersDotOptions)&&void 0!==m&&m.color)&&(E=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),E.setAttribute("id",`clip-path-corners-dot-color-${h}-${g}`),this._defs.appendChild(E),this._cornersDotClipPath=E,this._createColor({options:null===(N=t.cornersDotOptions)||void 0===N?void 0:N.gradient,color:null===(C=t.cornersDotOptions)||void 0===C?void 0:C.color,additionalRotation:v,x:f+2*o,y:w+2*o,height:s,width:s,name:`corners-dot-color-${h}-${g}`})),null!==(p=t.cornersDotOptions)&&void 0!==p&&p.type){const e=new fl({svg:this._element,type:t.cornersDotOptions.type});e.draw(f+2*o,w+2*o,s,v),e._element&&E&&E.appendChild(e._element)}else{const e=new bl({svg:this._element,type:t.dotsOptions.type});for(let t=0;t<Cl.length;t++)for(let n=0;n<Cl[t].length;n++){var T;null!==(T=Cl[t])&&void 0!==T&&T[n]&&(e.draw(f+t*o,w+n*o,o,((e,a)=>{var o;return!(null===(o=Cl[t+e])||void 0===o||!o[n+a])})),e._element&&E&&E.appendChild(e._element))}}}))}loadImage(){return new Promise(((e,t)=>{const n=this._options,a=new Image;if(!n.image)return t("Image is not defined");"string"==typeof n.imageOptions.crossOrigin&&(a.crossOrigin=n.imageOptions.crossOrigin),this._image=a,a.onload=()=>{e()},a.src=n.image}))}drawImage(e){let{width:t,height:n,count:a,dotSize:o}=e;const r=this._options,s=Math.floor((r.width-a*o)/2),i=Math.floor((r.height-a*o)/2),l=s+r.imageOptions.margin+(a*o-t)/2,c=i+r.imageOptions.margin+(a*o-n)/2,d=t-2*r.imageOptions.margin,u=n-2*r.imageOptions.margin,m=document.createElementNS("http://www.w3.org/2000/svg","image");m.setAttribute("href",r.image||""),m.setAttribute("x",String(l)),m.setAttribute("y",String(c)),m.setAttribute("width",`${d}px`),m.setAttribute("height",`${u}px`),this._element.appendChild(m)}_createColor(e){let{options:t,color:n,additionalRotation:a,x:o,y:r,height:s,width:i,name:l}=e;const c=i>s?i:s,d=document.createElementNS("http://www.w3.org/2000/svg","rect");if(d.setAttribute("x",String(o)),d.setAttribute("y",String(r)),d.setAttribute("height",String(s)),d.setAttribute("width",String(i)),d.setAttribute("clip-path",`url('#clip-path-${l}')`),t){let e;if(t.type===al)e=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),e.setAttribute("id",l),e.setAttribute("gradientUnits","userSpaceOnUse"),e.setAttribute("fx",String(o+i/2)),e.setAttribute("fy",String(r+s/2)),e.setAttribute("cx",String(o+i/2)),e.setAttribute("cy",String(r+s/2)),e.setAttribute("r",String(c/2));else{const n=((t.rotation||0)+a)%(2*Math.PI),c=(n+2*Math.PI)%(2*Math.PI);let d=o+i/2,u=r+s/2,m=o+i/2,p=r+s/2;c>=0&&c<=.25*Math.PI||c>1.75*Math.PI&&c<=2*Math.PI?(d-=i/2,u-=s/2*Math.tan(n),m+=i/2,p+=s/2*Math.tan(n)):c>.25*Math.PI&&c<=.75*Math.PI?(u-=s/2,d-=i/2/Math.tan(n),p+=s/2,m+=i/2/Math.tan(n)):c>.75*Math.PI&&c<=1.25*Math.PI?(d+=i/2,u+=s/2*Math.tan(n),m-=i/2,p-=s/2*Math.tan(n)):c>1.25*Math.PI&&c<=1.75*Math.PI&&(u+=s/2,d+=i/2/Math.tan(n),p-=s/2,m-=i/2/Math.tan(n)),e=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),e.setAttribute("id",l),e.setAttribute("gradientUnits","userSpaceOnUse"),e.setAttribute("x1",String(Math.round(d))),e.setAttribute("y1",String(Math.round(u))),e.setAttribute("x2",String(Math.round(m))),e.setAttribute("y2",String(Math.round(p)))}t.colorStops.forEach((t=>{let{offset:n,color:a}=t;const o=document.createElementNS("http://www.w3.org/2000/svg","stop");o.setAttribute("offset",100*n+"%"),o.setAttribute("stop-color",a),e.appendChild(o)})),d.setAttribute("fill",`url('#${l}')`),this._defs.appendChild(e)}else n&&d.setAttribute("fill",n);this._element.appendChild(d)}}function Tl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Al{constructor(e){Tl(this,"_options",void 0),Tl(this,"_container",void 0),Tl(this,"_canvas",void 0),Tl(this,"_svg",void 0),Tl(this,"_qr",void 0),Tl(this,"_canvasDrawingPromise",void 0),Tl(this,"_svgDrawingPromise",void 0),this._options=e?nl(el(gl,e)):gl,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}async _getQRStylingElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"png";if(!this._qr)throw new Error("QR code is empty");if("svg"===e.toLowerCase()){let e,t;return this._svg&&this._svgDrawingPromise?(t=this._svg,e=this._svgDrawingPromise):(t=new Sl(this._options),e=t.drawQR(this._qr)),await e,t}{let e,t;return this._canvas&&this._canvasDrawingPromise?(t=this._canvas,e=this._canvasDrawingPromise):(t=new hl(this._options),e=t.drawQR(this._qr)),await e,t}}update(e){Al._clearContainer(this._container),this._options=e?nl(el(this._options,e)):this._options,this._options.data&&(this._qr=Ji()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(e){switch(!0){case/^[0-9]*$/.test(e):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(e):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===ji?(this._canvas=new hl(this._options),this._canvasDrawingPromise=this._canvas.drawQR(this._qr),this._svgDrawingPromise=void 0,this._svg=void 0):(this._svg=new Sl(this._options),this._svgDrawingPromise=this._svg.drawQR(this._qr),this._canvasDrawingPromise=void 0,this._canvas=void 0),this.append(this._container))}append(e){if(e){if("function"!=typeof e.appendChild)throw new Error("Container should be a single DOM node");this._options.type===ji?this._canvas&&e.appendChild(this._canvas.getCanvas()):this._svg&&e.appendChild(this._svg.getElement()),this._container=e}}async getRawData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"png";if(!this._qr)throw new Error("QR code is empty");const t=await this._getQRStylingElement(e);if("svg"===e.toLowerCase()){const e=(new XMLSerializer).serializeToString(t.getElement());return new Blob([`<?xml version="1.0" standalone="no"?>\r\n${e}`],{type:"image/svg+xml"})}return new Promise((n=>t.getCanvas().toBlob(n,`image/${e}`,1)))}async download(e){if(!this._qr)throw new Error("QR code is empty");let t="png",n="qr";"string"==typeof e?(t=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof e&&null!==e&&(e.name&&(n=e.name),e.extension&&(t=e.extension));const a=await this._getQRStylingElement(t);if("svg"===t.toLowerCase()){let e=(new XMLSerializer).serializeToString(a.getElement());e=`<?xml version="1.0" standalone="no"?>\r\n${e}`,Gi(`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`,`${n}.svg`)}else Gi(a.getCanvas().toDataURL(`image/${t}`),`${n}.${t}`)}}const _l=new Al({width:600,height:600,image:"./logo.svg",margin:0,type:"canvas",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8,crossOrigin:"anonymous"},qrOptions:{errorCorrectionLevel:"M"}}),Il=te(Et((e=>{var t;return{address:null===(t=ur(e,e.currentAccountId))||void 0===t?void 0:t.address}}))((function(e){let{address:t,backButtonText:n,isOpen:a,onBackButtonClick:o,onClose:r}=e;const s=fn(),i=ee(null);return Q((()=>{a&&_l.append(i.current||void 0)}),[a]),Q((()=>{t&&_l.update({data:_i().utils.formatTransferUrl(t)})}),[t]),ae.createElement(ja,{isSlideUp:!0,hasCloseButton:!0,title:s("QR-code"),isOpen:a,onClose:r},ae.createElement(ki,{className:Ot("jiIPDZKb93q0d6DR65HI","wxQW2cO1r9NqU0tqg_XY")},ae.createElement("div",{className:"lZS2ULob6PiDdyGivqm8",ref:i}),ae.createElement("p",{className:Ot(Ni,"RSZE0g7xdHMKQSo7WTkB")},t&&fr(t)),ae.createElement("div",{className:Si},ae.createElement(yn,{onClick:o},null!=n?n:s("Back")))))}))),xl=te((function(e){let{isOpen:t,onClose:n}=e;const a=fn(),[o,r,s]=qt(!1),[i,l,c]=qt(!1),d=X((()=>{n(),c(),s()}),[c,s,n]);return ae.createElement(ae.Fragment,null,ae.createElement(ja,{isSlideUp:!0,hasCloseButton:!0,title:a("Receive TON"),isOpen:t,onClose:d},ae.createElement(ki,null,ae.createElement(Ti,{onInvoiceModalOpen:l,onQrModalOpen:r}))),ae.createElement(Il,{isOpen:o,onBackButtonClick:s,onClose:d}),ae.createElement(Bi,{isOpen:i,onBackButtonClick:c,onClose:d}))})),Pl=te((function(e){let{className:t}=e;const n=fn(),[a,o,r]=qt(!1),[s,i,l]=qt(!1),c=X((()=>{l(),r()}),[l,r]);return ae.createElement("div",{className:t},ae.createElement(Ti,{isStatic:!0,onInvoiceModalOpen:i,onQrModalOpen:o}),ae.createElement(Il,{backButtonText:n("Close"),isOpen:a,onBackButtonClick:r,onClose:c}),ae.createElement(Bi,{backButtonText:n("Close"),isOpen:s,onBackButtonClick:l,onClose:c}))})),Ml={ton:/^([-\da-z]{4,126})\.ton$/i,"t.me":/^([-_\da-z]{4,126})\.t\.me$/i,vip:/^([\da-z]{1,24})\.(vip|vip\.ton|ton\.vip)$/i},Dl=function(e){return Object.values(Ml).some((t=>t.test(e)))},Ol=/^[-\w_]{48}$/i,Ll=/^0:[\da-h]{64}$/i;function Vl(e){return e&&(Ol.test(e)||Ll.test(e)||Dl(e))}const Bl="cJc6eiNAsyJjdMEUR4sY",Rl="I3ceW18C07B4dGDpkySq",Wl="zA4yCB3QfaLfuLQYNhs2",$l="xbLaRgLMDnwW5Ru_8giZ",Ul="JgUEiIyh8ONVHm0YV3Wq",Hl="kKHlYNPxk_1V4wx7xZh1",ql="CjQTlpkz77EHxpEB40b7",Fl="DKWhO0RS44QEcKGJuDyw",zl="RKiGYTcJIv7A3_STNSgR",jl="o7puMAtQNOyxU4AtOtZx",Kl="TW5UIdsXRMhizisZ93U0",Yl="vEObzvUuorocKOhx9O_C",Zl="roe04JydmkaKkXYQEBTQ",Ql="zFIhI69cGcSXD_1f7V0g",Jl="RyzcWqtKWvfu_WVMYZEO",Gl="c9pliD1_gkDkerASzDNx",Xl="prTexLYizXaV4DXBLk7S",ec="lTnqP5UvTSB30UoGNG47",tc="tAx7oZZwY369QZR96K2A",nc="A9OYBH3uV_ILySdNj7Dj",ac="OC4KfQRgIrUhfSA5ubQy",oc="QKrk3WTNjSS5sjmDS74f",rc="jL_H1y0BsyDmNoPZaMPj",sc="g8AcZGZbPPj6BVyRRO4K",ic="jAbyIVnROnOeJfSozf50",lc="VYuanfQZnPuzoj9SFUnv",cc="uzFeON6qzIoNiAunnmtQ",dc="F6cnJPGpeoVZotYEbSRN",uc="jpLIRDEIjZNu1ktnZ85x",mc="ZgTeL90oXHGBMgvaY21R",pc=[{value:"raw",name:"Comment"},{value:"encrypted",name:"Encrypted Message"}],hc=(0,s.P2)((e=>e()),1500,!0),gc=te(Et((e=>{var t;const{toAddress:n,amount:a,comment:o,shouldEncrypt:r,fee:s,tokenSlug:i,isLoading:l}=e.currentTransfer;return{initialAddress:n,initialAmount:a,initialComment:o,initialShouldEncryptComment:r,fee:s,tokenSlug:i,tokens:ar(e),isLoading:l,savedAddresses:null===(t=mr(e))||void 0===t?void 0:t.savedAddresses}}))((function(e){let{isStatic:t,tokenSlug:n=a.rH,initialAddress:o="",initialAmount:r,initialComment:s="",initialShouldEncryptComment:i,tokens:l,fee:c,savedAddresses:d,isLoading:u,onCommentChange:m}=e;const{submitTransferInitial:p,showNotification:h,fetchFee:g,changeTransferToken:v}=wt(),f=ee(null),w=fn(),[y,E]=Y(!1),[b,k]=Y(!0),[N,C,S]=qt(),[T,A,_]=qt(),[I,x]=Y(),[P,M]=Y(o),[D,O]=Y(r),[L,V]=Y(s),[B,R]=Y(i),[W,$]=Y(!1),[U,H]=Y(!1),[q,F]=Y(!1),z=P.length>28?fr(P,14)||"":P,j=Vl(P),K=G((()=>d&&Object.keys(d).length>0),[d]),{amount:Z,decimals:J,price:te,symbol:ne}=G((()=>null==l?void 0:l.find((e=>e.slug===n))),[n,l])||{},oe=te&&D&&!Number.isNaN(D)?D*te:void 0,re=Cn(oe,!0),se=Cn(c,!0),{shouldRender:ie,transitionClassNames:le}=Tn(Boolean(oe)),ce=G((()=>l?l.reduce(((e,t)=>(t.amount>0&&e.push({value:t.slug,icon:t.image||Vs[t.symbol.toLowerCase()],name:t.symbol}),e)),[]):[]),[l]),de=X((function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(E(!1),H(!1),F(!1)),void 0!==e?Number.isNaN(e)||e<0?H(!0):((!Z||e>Z)&&(H(!0),F(!0)),O(e)):O(void 0)}),[Z]);Q((()=>{if(y&&Z){const e=c?Lo(c,J):0,t=Z-1.05*e,o=n===a.rH?t:Z;de(o,!0)}else de(D,!0)}),[n,D,Z,c,J,y,de]),Q((()=>{P&&!W&&D&&j&&hc((()=>{g({tokenSlug:n,toAddress:P,amount:D,comment:L})}))}),[D,L,g,W,j,P,n]),Q((()=>{var e;return null===(e=window.electron)||void 0===e?void 0:e.on(ds.DEEPLINK,(e=>{M(e.to),O(Lo(e.amount)),V(e.text)}))}),[]);const ue=X((e=>{v({tokenSlug:e})}),[v]),me=X((()=>{$(Boolean(P)&&!j)}),[P,j]),pe=X((()=>{const e=f.current;requestAnimationFrame((()=>{const t=e.selectionStart;C(),requestAnimationFrame((()=>{const n=t<=17?t:Math.max(0,e.value.length-(z.length-t));e.setSelectionRange(n,n),n>28&&(e.scrollLeft=e.scrollWidth-e.clientWidth)}))})),K&&A()}),[K,C,A,z.length]),he=X((()=>{Dl(P)&&P!==P.toLowerCase()&&M(P.toLowerCase()),me(),S(),K&&T&&_()}),[_,K,T,S,me,P]),ge=X((()=>{navigator.clipboard.readText().then((e=>{Vl(e)&&(M(e),me())})).catch((()=>{h({message:w("Error reading clipboard")}),k(!1)}))}),[w,h,me]),ve=X((e=>{M(e),_()}),[_]),fe=X((e=>{x(e),_()}),[_]),we=X((()=>{x(void 0)}),[]),ye=X(de,[de]),Ee=X((e=>{e.preventDefault(),Z&&E(!0)}),[Z]),be=X((e=>{V(function(e,t){const n=new TextDecoder("utf-8"),a=(new TextEncoder).encode(e);return n.decode(a.slice(0,121)).replace(/\uFFFD/g,"")}(e)),null==m||m()}),[m]),ke=P.length&&D&&Z&&D>0&&D<=Z&&!W&&!U,Ne=ze((e=>{e.preventDefault(),ke&&p({tokenSlug:n,amount:D,toAddress:P,comment:L,shouldEncrypt:B})})),Ce=ze((e=>{R("encrypted"===e)})),Se=G((()=>{if(d)return Object.keys(d).map((e=>function(e,t,n,a,o){return ae.createElement("div",{key:e,tabIndex:-1,role:"button",onMouseDown:Lt.$b?void 0:()=>a(e),onClick:Lt.$b?()=>a(e):void 0,className:oc},ae.createElement("span",{className:rc},t),ae.createElement("span",{className:ic},ae.createElement("span",{tabIndex:-1,role:"button",className:lc,onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),o(e)}},n)),ae.createElement("span",{className:sc},fr(e)))}(e,d[e],w("Delete"),ve,fe)))}),[d,w,ve,fe]);return ae.createElement(ae.Fragment,null,ae.createElement("form",{className:t?void 0:Hn,onSubmit:Ne},ae.createElement(So,{ref:f,className:t?dc:void 0,isRequired:!0,label:w("Recipient Address"),placeholder:w("Wallet address or domain"),value:N?P:z,error:W?w("Incorrect address"):void 0,onInput:M,onFocus:pe,onBlur:he},b&&""===P&&ae.createElement(yn,{isSimple:!0,className:Rl,onClick:ge,ariaLabel:w("Paste")},ae.createElement("i",{className:"icon-paste"}))),K&&ae.createElement(Mi,{positionX:"right",type:"suggestion",noBackdrop:!0,isOpen:T,onClose:_},Se),function(){if(ne)return ae.createElement("div",{className:Yl},ae.createElement("span",{className:Zl},w("$your_balance_is",{balance:ae.createElement("a",{href:"#",onClick:Ee,className:Ql},void 0!==Z?an(Z,ne,!0):w("Loading..."))})))}(),ae.createElement($s,{key:"amount",id:"amount",hasError:U,value:D,labelText:w("Amount"),onChange:ye,onPressEnter:Ne,decimals:J,className:Wl,inputClassName:t?uc:void 0},ae.createElement(Vi,{items:ce,selectedValue:n,className:cc,onChange:ue})),ae.createElement("div",{className:Ul},ae.createElement("div",{className:Hl},ie&&ae.createElement("span",{className:Ot(Jl,le)},"≈ ",nn(re||0,a.Wl)),function(){const e=c&&D&&D>0;return ae.createElement(na,{className:Ot(ql,t&&zl),slideClassName:Fl,name:"fade",activeKey:q?2:e?1:0},q?ae.createElement("span",{className:jl},w("Insufficient balance")):e?w("$fee_value",{fee:ae.createElement("span",{className:Kl},an(Lo(se),a._x,!0))}):" ")}())),ae.createElement(So,{className:t?dc:void 0,label:ae.createElement(Vi,{items:pc,selectedValue:pc[B?1:0].value,theme:"light",menuPositionHorizontal:"left",shouldTranslateOptions:!0,className:mc,onChange:Ce}),placeholder:w("Optional"),value:L,onInput:be,isControlled:!0,isMultiline:!0}),ae.createElement("div",{className:Ot(Bn,t&&ac)},ae.createElement(yn,{isPrimary:!0,isSubmit:!0,isDisabled:!ke,isLoading:u},w("$send_token_symbol",ne||"TON")))),ae.createElement(as,{isOpen:Boolean(I),address:I,onClose:we}))}))),vc="e0qlnfxYeOXhXHjNoYD1",fc="LU3U59D2YsR4Z8gTFrbQ",wc="IIPQlxNIi9xQiftG5tTj",yc="oojsUyxncxsDRnQursqd",Ec="SNIYsgjl3BaffB3s1wFR",bc="CfUxuAbScRujzEgaGvNj",kc="bGVc72ZhPv9KYjXo_Aqe",Nc="vukLOr5voLZFxsFhGCpY",Cc="DRyVG6f7Eg7NfD_XNfM4",Sc="G3lSLCxSLp08K4TjWeYo",Tc="iPMIoWjy3llXlGB0Ca5C",Ac="c6v5BGkTeZj0ZKXhzfat",_c="CqElYhFimsIsxzLmkebg",Ic="GYXMF9yMkbPJ0VEricSw",xc="yl56ZVg3FAcNvyhV5Ip4",Pc="LtJ6LH4kpke2DTPib0CW",Mc="UPfai1Mx_5o0dPW6FCzT",Dc=["receive","send","earn"],Oc=te(Et((e=>{const t=function(e){var t;return null!==(t=e.landscapeActionsActiveTabIndex)&&void 0!==t?t:a.AF}(e);return{activeTabIndex:t}}))((function(e){let{hasStaking:t,activeTabIndex:n,isUnstakeRequested:a}=e;const{setLandscapeActionsActiveTabIndex:o}=wt(),r=fn(),i=2===n&&(t||a),{renderedBgHelpers:l,transitionRef:c,handleTransitionStart:d}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=ee(null),o=ee(null),r=ee(null),i=ee(),l=X((function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const l=n?" .staking-info":"";us(a.current.querySelector(`.${e}.${ta}${l}, .${e}.${ta}${l}, .${e}.${ea}${l}, .${e}.${ea}${l}`)).then((e=>{i.current!==e.height&&o.current&&(t&&(o.current.style.transition="none",r.current.style.transition="none"),o.current.style.transform=`scaleY(calc(${e.height} / 100))`,r.current.style.transform=`translateY(${Math.floor(e.height)}px)`,t&&(0,s.T2)((()=>{(0,s.T2)((()=>{o.current.style.transition="",r.current.style.transition=""}))})),i.current=e.height)}))}),[n,e]),c=fn();Q((()=>{l(!0)}),[l,c]);return{renderedBgHelpers:G((()=>ae.createElement(ae.Fragment,null,ae.createElement("div",{ref:o,className:Ot(_c,t)}),ae.createElement("div",{ref:r,className:Ot(Ic,t)}))),[t]),transitionRef:a,handleTransitionStart:l}}(Pc,i?xc:void 0,i);function u(e){switch(Dc[n]){case"receive":return ae.createElement(Pl,{className:Pc});case"send":return ae.createElement("div",{className:Pc},ae.createElement(gc,{isStatic:!0,onCommentChange:d}));case"earn":return t||a?ae.createElement("div",{className:Pc},ae.createElement(wi,{isStatic:!0,isActive:e})):ae.createElement("div",{className:Pc},ae.createElement(ai,{isStatic:!0,isActive:e}));default:return}}return Q((()=>{var e;return null===(e=window.electron)||void 0===e?void 0:e.on(ds.DEEPLINK,(()=>{o({index:1})}))}),[o]),Q((()=>{d()}),[n,d]),ae.createElement("div",{className:vc},ae.createElement("div",{className:fc},ae.createElement("div",{className:Ot(wc,0===n&&yc),onClick:()=>o({index:0})},ae.createElement("i",{className:Ot(Nc,"icon-receive"),"aria-hidden":!0}),ae.createElement("span",null,r("Receive")),ae.createElement("span",{className:kc,"aria-hidden":!0})),ae.createElement("div",{className:Ot(wc,1===n&&yc),onClick:()=>o({index:1})},ae.createElement("i",{className:Ot(Nc,"icon-send"),"aria-hidden":!0}),ae.createElement("span",null,r("Send")),ae.createElement("span",{className:kc,"aria-hidden":!0}),ae.createElement("span",{className:bc,"aria-hidden":!0})),ae.createElement("div",{className:Ot(wc,2===n&&yc,i&&Ec),onClick:()=>o({index:2})},ae.createElement("i",{className:Ot(Nc,"icon-earn"),"aria-hidden":!0}),ae.createElement("span",null,r(a?"Unstaking":t?"Earning":"Earn")),ae.createElement("span",{className:kc,"aria-hidden":!0}),ae.createElement("span",{className:bc,"aria-hidden":!0}))),ae.createElement("div",{className:Ot(Cc,0===n&&Sc,n===Dc.length-1&&Ac)},ae.createElement("div",{className:Ot(Tc,i&&xc)})),l,ae.createElement(na,{ref:c,name:"slideFade",activeKey:n,renderCount:Dc.length,className:Mc},u))}))),Lc="tNC9bMYLy3MqyRt14eGF",Vc="SArAaw5Ga1KwAygaYTHD",Bc=te((function(e){let{hasStaking:t,isUnstakeRequested:n,onEarnClick:o}=e;const{startTransfer:r}=wt(),s=fn(),[i,l,c]=qt(!1);return Q((()=>{var e;return null===(e=window.electron)||void 0===e?void 0:e.on(ds.DEEPLINK,(e=>{r({tokenSlug:a.rH,toAddress:e.to,amount:Lo(e.amount),comment:e.text})}))}),[r]),ae.createElement("div",{className:"ByPF3p3SYmB9EE1bHmBs"},ae.createElement("div",{className:"bnicM32fFVnwDINn30wx"},ae.createElement(yn,{className:Lc,onClick:l,isSimple:!0},ae.createElement("i",{className:Ot(Vc,"icon-receive"),"aria-hidden":!0}),s("Receive")),ae.createElement(yn,{className:Lc,onClick:r,isSimple:!0},ae.createElement("i",{className:Ot(Vc,"icon-send"),"aria-hidden":!0}),s("Send")),ae.createElement(yn,{className:Ot(Lc,t&&"xqRKvSfc1Z1I6HOzUTIQ"),onClick:o,isSimple:!0},ae.createElement("i",{className:Ot(Vc,"icon-earn"),"aria-hidden":!0}),s(n?"Unstaking":t?"Earning":"Earn"))),ae.createElement(xl,{isOpen:i,onClose:c}))}));function Rc(e,t){return e-e/(1+t)}const Wc=["red","orange","green","sea","purple","pink"],$c={"ton-tgr":"tegro"},Uc="noNxlUDgu_iVmQGeNNAb",Hc="ipgCscA6uGGKWFxPKTCt";var qc=function(e){return e[e.Initial=0]="Initial",e[e.Password=1]="Password",e[e.ConnectHardware=2]="ConnectHardware",e[e.SelectAccountsHardware=3]="SelectAccountsHardware",e}(qc||{});const Fc=te(Et((e=>{var t,n;const a=cr(e),o=hr(e),{hardwareWallets:r,hardwareState:s,isLedgerConnected:i,isTonAppConnected:l}=e.hardware;return{isOpen:e.isAddAccountModalOpen,isLoading:null===(t=e.accounts)||void 0===t?void 0:t.isLoading,error:null===(n=e.accounts)||void 0===n?void 0:n.error,accounts:a,firstNonHardwareAccount:o,hardwareState:s,hardwareWallets:r,isLedgerConnected:i,isTonAppConnected:l}}))((function(e){let{isOpen:t,isLoading:n,error:o,hardwareWallets:r,firstNonHardwareAccount:s,accounts:i,hardwareState:l,isLedgerConnected:c,isTonAppConnected:d}=e;const{addAccount:u,clearAccountError:m,closeAddAccountModal:p}=wt(),h=fn(),[g,v]=Y(qc.Initial),[f,w]=Y(!1),y=X((()=>{v(qc.Initial),m()}),[m]),E=X((()=>{v(qc.Initial),w(!1)}),[]),b=X((()=>{s?(v(qc.Password),w(!1)):u({method:"createAccount",password:""})}),[s,u]),k=X((()=>{s?(v(qc.Password),w(!0)):u({method:"importMnemonic",password:""})}),[s,u]),N=X((()=>{v(qc.ConnectHardware)}),[]),C=X((()=>{v(qc.SelectAccountsHardware)}),[]),S=X((e=>{u({method:f?"importMnemonic":"createAccount",password:e})}),[u,f]);function T(e,t,s){switch(s){case qc.Initial:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:h("Add Wallet"),onClose:p}),ae.createElement(Ra,{size:a.Hf,play:e,noLoop:!1,nonInteractive:!0,className:"_7n4N6Ihxk4kBSu1qLM8G",tgsUrl:fa.forge,previewUrl:fa.forgePreview}),ae.createElement("p",{className:Uc},Zt(h("$add_account_description1"))),ae.createElement("p",{className:Uc},Zt(h("$add_account_description2"))),ae.createElement("div",{className:"PhxvRBAsiMApU2mRHfbA"},ae.createElement(yn,{isPrimary:!0,className:Ot(Hc,"nIORoWLnyRgyiTiJJYCO"),onClick:b},h("Create Wallet")),ae.createElement("span",{className:"rVVZxLvd3FlM5HkSR4z5"},h("Or import from...")),ae.createElement("div",{className:"uZ7peY11lLFWggaU6Fpl"},ae.createElement(yn,{className:Hc,onClick:k},h("%1$d Secret Words",a.ci)),Lt.lz&&ae.createElement(yn,{className:Hc,onClick:N},h("Ledger")))))}(e);case qc.Password:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:h("Enter Password"),onClose:p}),ae.createElement(Rr,{isActive:e,isLoading:n,error:o,placeholder:h("Enter your password"),onUpdate:m,onSubmit:S,submitLabel:h("Send"),onCancel:y,cancelLabel:h("Back")}))}(e);case qc.ConnectHardware:return ae.createElement(Vr,{state:l,isLedgerConnected:c,isTonAppConnected:d,onConnected:C,onCancel:y,onClose:p});case qc.SelectAccountsHardware:return ae.createElement(xs,{accounts:i,hardwareWallets:r,onCancel:y,onClose:p})}}return ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:t,onClose:p,noBackdropClose:!0,onCloseAnimationEnd:E,dialogClassName:"W5Csiq71oMTSj2ttRwgL"},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:g,nextKey:g===qc.Initial?qc.Password:void 0},T))}))),zc=te(Et((e=>{const t=cr(e);return{currentAccountId:e.currentAccountId,currentAccount:null==t?void 0:t[e.currentAccountId],accounts:t}}))((function(e){let{currentAccountId:t,currentAccount:n,accounts:a}=e;const{switchAccount:o,renameAccount:r,openAddAccountModal:s,openSettings:i}=wt(),l=ee(null),c=ee(null),d=fn(),[u,m,p]=qt(!1),[h,g,v]=qt(!1),{shouldRender:f,transitionClassNames:w}=Tn(u&&!h),[y,E]=Y((null==n?void 0:n.title)||""),b=G((()=>Object.keys(a||{}).length),[a]);Q((()=>f?Ii(p):void 0),[p,u,f]),Q((()=>h?Ii(v):void 0),[v,h]),Q((()=>f&&l.current?Fa(l.current):void 0),[f]),so(c,!h),Q((()=>{h&&E((null==n?void 0:n.title)||"")}),[null==n?void 0:n.title,h]);const k=X((()=>{m()}),[m]),N=e=>{e.stopPropagation(),g()},C=X((()=>{r({accountId:t,title:y.trim()}),p(),v()}),[p,v,t,y,r]),S=X((()=>{p(),s()}),[p,s]),T=X((e=>{"Enter"===e.code?C():E(e.currentTarget.value)}),[C]),A=Ot("N2ycBm2xIZKdvdtOFb3u",w);return ae.createElement(ae.Fragment,null,!h&&ae.createElement(ae.Fragment,null,ae.createElement("div",{className:"OgwEDoZ45KwmCLCA5zpj",onClick:k},(null==n?void 0:n.title)||fr((null==n?void 0:n.address)||"")),ae.createElement(yn,{className:"USR586er2uUGAHZPx1Wk",isText:!0,isSimple:!0,kind:"transparent",ariaLabel:d("Main menu"),onClick:i},ae.createElement("i",{className:"icon-cog","aria-hidden":!0}))),h&&ae.createElement("div",{className:Ot("e5AePW4gS5PGIXHiyO7O","account-edit-input")},ae.createElement("input",{ref:c,className:"gyBxf1yqf55YBkbF2ZEo",value:y,onKeyDown:T,onChange:e=>E(e.target.value)}),ae.createElement(yn,{isSimple:!0,className:"md7VCft6xPfyca1lZcDs",onClick:C},d("Done"))),f&&function(){const e=Ot("trYu68gIXfuRgpfUr29d","custom-scroll",b<=3&&"YF_rZIX0toGTmxE3kPhQ");return ae.createElement("div",{ref:l,className:A,tabIndex:-1,role:"dialog"},ae.createElement("div",{className:"FJUdPjPIbA0M3pla92Ck",onClick:()=>p()}),ae.createElement("div",{className:e},a&&Object.entries(a).map((e=>{let[n,{title:a,address:r,isHardware:s}]=e;return function(e,n,a,r){const s=e===t;return ae.createElement("div",{className:Ot("SFqlekd4PdXLErExtIMt",s&&"JKaS2WTmWNa1JwNOe0Bi"),"aria-label":d("Switch Account"),onClick:s?void 0:()=>{return t=e,p(),void o({accountId:t});var t}},r&&ae.createElement("span",{className:"YXQR6QKvQ0rHGV6rNDhq"},r),ae.createElement("div",{className:"v3biV8NkHTEkePAvwNKu"},a&&ae.createElement("i",{className:"icon-ledger"}),ae.createElement("span",null,fr(n,4))),s&&ae.createElement("div",{className:"J7hjRhszkXO5p85adHAT",onClick:N},ae.createElement("i",{className:"icon-pen"})))}(n,r,s,a)})),ae.createElement(yn,{className:"vYLqby8wJWKB8e2p9Z82",onClick:S},d("Add Wallet"),ae.createElement("i",{className:Ot("XgEoiRq_JlhNbm6m8d4w","icon-plus")}))))}(),ae.createElement(Fc,null))}))),jc=te((function(e){let{width:t,height:n,prices:a,selectedIndex:o,className:r,imgClassName:s,onSelectIndex:i}=e;const l=fn(),c=G((()=>{const e=a.map((e=>{let[,t]=e;return t})),t=Math.min(...e),n=Math.max(...e);return{width:a.length-1,height:n-t,min:t}}),[a]),d=G((()=>{const e=t/c.width,o=n/c.height;return a.map(((t,n)=>{let[,a]=t;return{x:n*e+3,y:(a-c.min)*o+3}}))}),[c.height,c.min,c.width,n,t,a]);function u(e){const t=d.length-1,n=e<0?0:e>t?t:e,a=d[n],o=.9999,r=n/t,s=d[0],i=d[t].x-s.x,l=d[t].y-s.y;return{x:o*a.x+(1-o)*(s.x+r*i),y:o*a.y+(1-o)*(s.y+r*l)}}function m(e){const t=u(e),n=u(e-1),a=u(e-2);return`C ${(2*a.x+n.x)/3} ${(2*a.y+n.y)/3} ${(a.x+2*n.x)/3} ${(a.y+2*n.y)/3} ${(a.x+4*n.x+t.x)/6} ${(a.y+4*n.y+t.y)/6}`}function p(e){const{x:t,width:n}=e.currentTarget.getBoundingClientRect(),{clientX:a}="touches"in e?e.touches[0]:e,o=a-t-n/d.length/2,r=Math.max(0,Math.min(Math.round(d.length*(o/n)),d.length-1));i(r)}function h(){i(-1)}return ae.createElement("div",{className:r,onMouseMove:p,onMouseLeave:h,onTouchStart:p,onTouchMove:p,onTouchEnd:h,onTouchCancel:h},ae.createElement("img",{src:function(){const e=d[o]||d[d.length-1];return`data:image/svg+xml;utf8,<svg viewBox="0 0 ${t+6} ${n+6}" height="${n+6}" width="${t+6}"\n        xmlns="http://www.w3.org/2000/svg" style="transform: scale(1,-1)">\n        <g fill="none" stroke="white">\n          <path stroke-linejoin="round" stroke-width="1.5" d="${function(){let e=d.reduce(((e,t,n)=>{const a=m(n);return 0===n?`M ${t.x} ${t.y} `:`${e} ${a} `}),"");return e+=m(d.length),e+=`L ${(t=d[d.length-1]).x} ${t.y}`,e;var t}()}" style="stroke-linecap: round" />\n          <circle r="2.5" fill="white" cx="${e.x}" cy="${e.y}" />\n        </g>\n      </svg>`}(),className:s,alt:l("Currency History")}))})),Kc="XP6GuSy8hLi4agJLGJld",Yc="GCkv4IVyO5GFRuzhMyc7",Zc="ADeTm4f366XRNTV2KqwX",Qc="GnhzfY6FaHts66bRjdCd",Jc="bPYXNjMGySirt8YEdLzi",Gc="S2KIjSruZ81fx_VGPX3Q",Xc="hU1WPLiXbKZWVNTCRVxo",ed="UcNb1YdQr1NeR8qEKoBE",td="ZSrINUdp2LP6AFAicuFa",nd="H_nNVGOdQmrOeQ1mojrf",ad="acKRqFpdtGpZLLEfzQE8",od="CXYYdc41bJWlFTlJrl3L",rd="y1oQClJT2P5Fz0hauIT0",sd="_5pkkE1MTYz6u8RShCzmv",id="iTC7wtoSIMd1G0qbWwsr",ld="W9ZyJKJwjUvDXT9VLRex",cd="P1nAfSmKMRLcTtk66JwX",dd="Ym6n5UYkqmr7EOgZ4t21",ud="ppb1huZ4lUgSKDERCUvW",md="uF8X1U6HKy9qeFM9_BAH",pd="VPkCzF8b2p6SyWLDw9Z5",hd="zyPEodnHdQeHqWVPdgUd",gd="TZkWTsOhLbpil2zdS2gH",vd="IWxtScDcWiJ5nns1ER1J",fd="DoKyGaDnjTfvyhL1ltTw",wd="g1tpOCiAEkQ89rXxRJty",yd="XqD9upuxl_mIB2uj59zO",Ed="DaiPhTU0_fsxB5fWztcP",bd="fhxQJTU7h6ARSzF3VtaT",kd="t5O6snHuBNFRnExebCKB",Nd="qKQh9RZSx7T2P9PcnAtN",Cd="_uGzXf8VOMyBoz_yo_1y",Sd="fX041OP26ENj0B5lLVVx",Td="VLdGaXza9SwucVf1IgMo",Ad="SVZga9H5Gg5TwGcLfPj2",_d=n.p+"ton.93b235d12cedc24e0b6b.svg",Id={"24h":{historyKey:"history24h",changeKey:"change24h",title:"1d"},"7d":{historyKey:"history7d",changeKey:"change7d",title:"7d"},"30d":{historyKey:"history30d",changeKey:"change30d",title:"1m"}},xd="24h",Pd={toncoin:"toncoin","ton-tgr":"tgr"},Md=te(Et((e=>{var t;const n=mr(e);return{period:null==n?void 0:n.currentTokenPeriod,apyValue:(null==n||null===(t=n.poolState)||void 0===t?void 0:t.lastApy)||0}}))((function(e){var t;let{token:n,classNames:o,color:r,period:s=xd,apyValue:i,onApyClick:l,onClose:c}=e;const{setCurrentTokenPeriod:d}=wt(),{isPortrait:u}=Ht(),m=fn(),p=Id[s].historyKey,h=Id[s].changeKey,[g,v]=Y(-1),{slug:f,symbol:w,amount:y,image:E,name:b,price:k}=n,N=f===a.rH?_d:E||Vs[w.toLowerCase()],C=p in n?n[p]:void 0,S=null==C?void 0:C[g],T=(null==S?void 0:S[1])||k,A=S?ui(m.code,1e3*S[0],!0,!0):m("Now"),_=null==C||null===(t=C[0])||void 0===t?void 0:t[1],I=_?(T-_)/_:h in n?n[h]:void 0,x=y*T,P=void 0===I?I:I>0?"↑":I<0?"↓":0,M=I?Math.abs(er(Rc(x,I),4)):0,D=I?Math.abs(er(100*I,2)):0,O=Boolean(void 0!==I),L=Boolean(null==C?void 0:C.length),V=L?new Date(1e3*C[0][0]):void 0,B=f in Pd;function R(){return ae.createElement(jc,{className:wd,imgClassName:yd,width:300,height:64,prices:C,selectedIndex:g,onSelectIndex:v})}return ae.createElement("div",{className:Ot(Yc,Qc,o,r)},ae.createElement("div",{className:id},ae.createElement(yn,{className:Ed,isSimple:!0,onClick:c,ariaLabel:m("Back")},ae.createElement("i",{className:"icon-chevron-left","aria-hidden":!0})),ae.createElement("img",{className:ld,src:N,alt:n.name}),ae.createElement("div",null,ae.createElement("b",{className:cd},nn(y,w)),ae.createElement("span",{className:dd},b,n.slug===a.rH&&ae.createElement("span",{className:vd,onClick:l},"APY ",i,"%")))),O&&ae.createElement("div",{className:ud},"≈ ",nn(x,a.Wl),Boolean(M)&&ae.createElement("div",{className:hd},P," ",Math.abs(D),"% · ",nn(Math.abs(M),a.Wl))),L&&ae.createElement(ae.Fragment,null,ae.createElement(na,{activeKey:Object.keys(Id).indexOf(s),name:"fade"},R),ae.createElement("div",{className:md},nn(C[0][1],a.Wl),ae.createElement("div",{className:gd},ui(m.code,V))),ae.createElement("div",{className:Ot(bd,u&&kd)},Object.entries(Id).map((e=>{let[t,{historyKey:n,title:a}]=e;return ae.createElement("label",{key:n,className:Ot(Nd,p===n&&Cd)},ae.createElement("input",{teactExperimentControlled:!0,type:"radio",className:Sd,name:"historyPeriod",checked:p===n,onChange:()=>d({period:t})}),a)})))),ae.createElement("div",{className:pd},nn(T,a.Wl,-1===g?void 0:4),ae.createElement("div",{className:gd},A,B&&ae.createElement(ae.Fragment,null," · ",ae.createElement("a",{href:`https://coinmarketcap.com/currencies/${Pd[f]}/`,title:m("Open on CoinMarketCap"),target:"_blank",rel:"noreferrer",className:fd},ae.createElement("i",{className:"icon-coinmarket","aria-hidden":!0}))))))}))),Dd=te(Et(((e,t,n)=>{n(e.currentAccountId);const{address:a}=ur(e,e.currentAccountId)||{},o=mr(e);return{address:a,tokens:ar(e),activeDappOrigin:null==o?void 0:o.activeDappOrigin,currentTokenSlug:null==o?void 0:o.currentTokenSlug,isTestnet:e.settings.isTestnet}}))((function(e){let{address:t,tokens:n,activeDappOrigin:o,currentTokenSlug:r,onTokenCardClose:s,onApyClick:i,isTestnet:l}=e;const{showNotification:c}=wt(),d=fn(),u=`${l?a.AN:a.k4}address/${t}`,m=Cn(G((()=>n?n.find((e=>e.slug===r)):void 0),[r,n]),!0),{shouldRender:p,transitionClassNames:h}=Tn(Boolean(r),void 0,!0),g=G((()=>{if(m&&m.slug!==a.rH)return function(e){if(e in $c)return $c[e];const t=e.split("").reduce(((e,t)=>t.charCodeAt(0)+(e<<6)+(e<<16)-e),0);return Wc[Math.abs(t)%Wc.length]}(m.slug)}),[m]),v=G((()=>{if(!o)return;let e;try{e=new URL(o).hostname}catch(t){e=fr(o)}return e}),[o]),f=Cn(v,!0),w=G((()=>n?function(e){const t=e.reduce(((e,t)=>e+t.amount*t.price),0),[n,a]=tn(t).split("."),o=er(e.reduce(((e,t)=>e+Rc(t.amount*t.price,t.change24h)),0),4),r=er(t?o/(t-o)*100:0,2);return{primaryValue:t,primaryWholePart:n,primaryFractionPart:a,changeClassName:r>0?rd:r<0?sd:void 0,changePrefix:o>0?"↑":o<0?"↓":void 0,changePercent:r,changeValue:o}}(n):void 0),[n]),{shouldRender:y,transitionClassNames:E}=Tn(Boolean(v));Q((()=>p?Ii(s):void 0),[p,s]);const b=X((()=>{t&&(c({message:d("Address was copied!"),icon:"icon-copy"}),ts(t))}),[t,d,c]);if(!w)return ae.createElement("div",{className:Kc},ae.createElement("div",{className:Ot(Yc,Jc)},ae.createElement(vi,{color:"white"})));const{primaryValue:k,primaryWholePart:N,primaryFractionPart:C,changeClassName:S,changePrefix:T,changePercent:A,changeValue:_}=w;return ae.createElement("div",{className:Kc},ae.createElement("div",{className:Ot(Yc,r&&Zc)},ae.createElement(zc,null),y&&ae.createElement("div",{className:Ot(Td,E)},ae.createElement("i",{className:Ot(Ad,"icon-laptop"),"aria-hidden":!0}),f),ae.createElement("div",{className:Gc},a.Wl,N,C&&ae.createElement("span",{className:Xc},".",C)),0!==k&&ae.createElement("div",{className:Ot(od,S)},T," ",Math.abs(A),"% · ",nn(Math.abs(_),a.Wl)),ae.createElement("div",{className:ed},ae.createElement("button",{type:"button",className:td,"aria-label":d("Copy wallet address"),onClick:b},t&&fr(t),ae.createElement("i",{className:Ot(nd,"icon-copy"),"aria-hidden":!0})),ae.createElement("a",{href:u,className:ad,title:d("View address on TON Explorer"),target:"_blank",rel:"noreferrer noopener"},ae.createElement("i",{className:Ot(nd,"icon-tonscan"),"aria-hidden":!0})))),p&&ae.createElement(Md,{token:m,classNames:h,color:g,onApyClick:i,onClose:s}))})));var Od=n(9933);const Ld=new Map,Vd="yMGbsZGhDi49TS8i_qVz",Bd="XS8bGDoWteKToJB2LQeS",Rd="PBLjlMRJ5KKJYSsu2ofZ",Wd=function(e){let{className:t,title:n,isActive:a,previousActiveTab:o,onClick:r,clickArg:s}=e;const i=ee(null);return J((()=>{a&&void 0===o&&i.current&&i.current.classList.add(Vd)}),[a,o]),Q((()=>{if(!a||void 0===o)return;const e=i.current,t=e.parentElement.children[o];if(!t)return void(a&&!e.classList.contains(Vd)&&(0,v.WM)((()=>{e.classList.add(Vd)})));const n=e.querySelector(`.${Bd}`),r=t.querySelector(`.${Bd}`),s=r.parentElement.offsetLeft-n.parentElement.offsetLeft,l=r.clientWidth/n.clientWidth;(0,v.WM)((()=>{r.classList.remove(Rd),n.classList.remove(Rd),n.style.transform=`translate3d(${s}px, 0, 0) scale3d(${l}, 1, 1)`,(0,v.lT)((()=>(Yn(n),()=>{n.classList.add(Rd),n.style.transform="none",t.classList.remove(Vd),e.classList.add(Vd)})))}))}),[a,o]),ae.createElement("div",{className:Ot("RHLXcKS6OiXWFEsm58oS",t),onClick:a?void 0:()=>r(s),ref:i},ae.createElement("span",{className:"O7dAuUFIKeXsHU4ymsiy"},n,ae.createElement("i",{className:Bd})))},$d=Lt.cj?450:Lt.wZ?400:300,Ud=te((function(e){let{tabs:t,activeTab:n,big:a,className:o,onSwitchTab:r}=e;const s=ee(null),i=zt(n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Q((()=>{if(t)return;const a=e.current;function o(e){e.deltaX||(a.scrollLeft+=e.deltaY/4,n&&e.preventDefault())}return a.addEventListener("wheel",o,{passive:!n}),()=>{a.removeEventListener("wheel",o)}}),[e,t,n])}(s,void 0,!0),Q((()=>{const e=s.current,{scrollWidth:t,offsetWidth:a,scrollLeft:o}=e;if(t<=a)return;const r=e.childNodes[n];if(!r)return;const{offsetLeft:i,offsetWidth:l}=r,c=i-a/2+l/2;Math.abs(c-o)<16||function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;const a="rtl"===e.getAttribute("dir"),{scrollLeft:o,offsetWidth:r,scrollWidth:s,dataset:{scrollId:i}}=e;let l=t-o;if(l<0){const e=-o*(a?-1:1);l=Math.max(l,e)}else if(l>0){const e=s-(o+r);l=Math.min(l,e)}if(0===l)return Promise.resolve();i&&Ld.has(i)&&Ld.get(i)();const c=o+l;new Promise((t=>{(0,v.WM)((()=>{if(0===n)return e.scrollLeft=c,void t();let a=!1;const o=Math.random().toString();e.dataset.scrollId=o,Ld.set(o,(()=>{a=!0})),e.style.scrollSnapType="none";const r=Date.now();(0,Od.jt)((()=>{if(a)return!1;const s=Math.min((Date.now()-r)/n,1),i=l*(1-function(e){return 1-(1-e)**3.5}(s));return e.scrollLeft=Math.round(c-i),s>=1&&(e.style.scrollSnapType="",delete e.dataset.scrollId,Ld.delete(o),t()),s<1}),v.WM)}))}))}(e,c,$d)}),[n]),ae.createElement("div",{className:Ot("AO0MeDwArZ72o6pbIZvX","no-scrollbar",a&&"Qhg14qK5lqGs9Y5YNa0t",o),ref:s},t.map(((e,t)=>ae.createElement(Wd,{key:e.title,title:e.title,isActive:t===n,previousActiveTab:i,className:null==e?void 0:e.className,onClick:r,clickArg:t}))))}));var Hd=n(24889);const qd={container:"MYa9iRJL2pcwkZ8egbOz",panel:"GUJX8WbMU3WPIyW3WfVT",emptyList:"Td9C4PWZXJ4Z4MPNkucE",text:"yROQGCQD22Oqj6al8iMD",header:"U7tqZrIkvDsd8sWYj2sg",description:"dzvNt6HJPNQ8lxS5VpQR"},Fd=te((function(e){let{isActive:t,mode:n}=e;const o=fn();return ae.createElement("div",{className:Ot(qd.container,qd[n])},ae.createElement(Ra,{play:t,tgsUrl:fa.hello,previewUrl:fa.helloPreview,nonInteractive:!0,noLoop:!1,size:"panel"===n?a.dC:a.Hf}),ae.createElement("div",{className:qd.text},ae.createElement("p",{className:qd.header},o("You have just created a new wallet")),ae.createElement("p",{className:qd.description},o("You can now transfer your tokens from another wallet or exchange."))))})),zd=n.p+"scam.8fb66536b659fd1bbfc6.svg",jd=te((function(e){let{ref:t,token:n,transaction:o,apyValue:r,savedAddresses:s,onClick:i}=e;const l=fn(),{txId:c,amount:d,fromAddress:u,toAddress:m,timestamp:p,comment:h,encryptedComment:g,isIncoming:v,type:f,metadata:w}=o,y="stake"===f||"unstake"===f||"unstakeRequest"===f,E=Lo(d,n.decimals),b=v?u:m,k=(null==s?void 0:s[b])||(null==w?void 0:w.name),N=Bo(c),C=Boolean(null==w?void 0:w.isScam),S=X((()=>{i(c)}),[i,c]),T=Ot("ExzApxjNtmyOnPLH2HdT",v&&"rc9LPpRvDjd3xUoq3miN","stake"===f&&"PdH3kcrhC67guWmIIILB",!y&&(v?"icon-receive-alt":"icon-send-alt"),y&&"icon-earn",y&&"bK8OmVGRRVoEOIkKcv3b"),A=Ot("_7dkLX2IeVTJr5mVOTlIs",v?"skJ2Z_h3bKhLGQhZOXkM":"stake"===f?"mECX7Yzg22UaSle5tYxd":"Hk59A96IQwYr0vadgsv1");return ae.createElement(yn,{ref:t,key:c,className:"ttkJnw4K_arjhRhTJ68e",onClick:S,isSimple:!0},ae.createElement("i",{className:T,"aria-hidden":!0}),N&&ae.createElement("i",{className:Ot("EhGw24b8GvT_aDzCOtZt","icon-clock"),title:l("Transaction is not completed")}),ae.createElement("div",{className:"RzokRmD1q5uyCTxUdIYq"},ae.createElement("div",{className:"QnNAz6yxhannAxwREaxc"},l("stake"===f?"Staked":"unstakeRequest"===f?"Unstake Requested":"unstake"===f?"Unstaked":v?"Received":"Sent"),C&&ae.createElement("img",{src:zd,alt:l("Scam"),className:"EtUngM5RDLjrVxgNZusR"})),ae.createElement("div",{className:"GaQbGpsXapN24JKkRZ0G"},mi(p))),ae.createElement("div",{className:"YFGTTjmvXQlkOLIgnQ5P"},ae.createElement("div",{className:A},an(y?Math.abs(E):E,(null==n?void 0:n.symbol)||a._x,y)),ae.createElement("div",{className:"LM1f9zeD8j0qfYmfUoCp"},!y&&l(v?"$transaction_from":"$transaction_to",{address:ae.createElement("span",{className:"B9ATd3wl0s3xVHZ7VlNj"},k||fr(b))}),"stake"===f&&l("at APY %1$s%",r),("unstake"===f||"unstakeRequest"===f)&&" ")),!y&&!C&&(h||g)&&ae.createElement("div",{className:Ot("xM4HyNwcIOZXe5PjKdTn",v?"kyGckuvAjuFhUOpeilDg":"qgWLMKUuqj2fiBNMd68E")},g&&ae.createElement("i",{className:Ot("bII1W7omu5IgHuXV31D6","icon-lock"),"aria-hidden":!0}),g?ae.createElement("i",null,l("Encrypted Message")):h),ae.createElement("i",{className:Ot("wHNou227hlVjyh2ZMyIV","icon-chevron-right"),"aria-hidden":!0}))})),Kd="bPIOHQZdj8xJEzeorSUi",Yd=te(Et(((e,t,n)=>{var a,o;const{currentAccountId:r}=e;n(r);const s=mr(e),i=sr(e),l=null==s?void 0:s.currentTokenSlug,{txIdsBySlug:c,byTxId:d,isLoading:u}=(null==s?void 0:s.transactions)||{};return{currentAccountId:r,slug:l,isLoading:u,byTxId:d,isNewWallet:i,txIdsBySlug:c,tokensBySlug:null===(a=e.tokenInfo)||void 0===a?void 0:a.bySlug,areTinyTransfersHidden:e.settings.areTinyTransfersHidden,apyValue:(null==s||null===(o=s.poolState)||void 0===o?void 0:o.lastApy)||0,savedAddresses:null==s?void 0:s.savedAddresses}}))((function(e){let{isActive:t,currentAccountId:n,isLoading:o,isNewWallet:r,slug:s,txIdsBySlug:i,byTxId:l,tokensBySlug:c,areTinyTransfersHidden:d,apyValue:u,savedAddresses:p}=e;const{fetchTokenTransactions:h,fetchAllTransactions:g,showTransactionInfo:v}=wt(),f=fn(),{isLandscape:w}=Ht(),y=G((()=>{let e;const t=null!=i?i:{};if(l)if(s){var n;e=null!==(n=t[s])&&void 0!==n?n:[]}else{var o;const n=(0,m.dF)(null!==(o=t[a.rH])&&void 0!==o?o:[],(e=>!Bo(e)));e=Object.values(t).flat(),n&&(e=e.filter((e=>l[e].timestamp>=l[n].timestamp))),e.sort(((e,t)=>(0,Hd.U)(l[e],l[t],!1)))}if(e)return e}),[l,s,i]),E=G((()=>{if(!y)return;const e=y.map((e=>null==l?void 0:l[e])).filter((e=>Boolean((null==e?void 0:e.slug)&&(!s||e.slug===s)&&(!d||Math.abs(Lo(e.amount,c[e.slug].decimals))>=a.gh))));if(!e.length)return[];let t={datetime:hi(e[0].timestamp),transactions:[]};const n=[t];return e.forEach(((a,o)=>{t.transactions.push(a);const r=e[o+1];if(r){const e=hi(r.timestamp);t.datetime!==e&&(t={datetime:e,transactions:[]},n.push(t))}})),n}),[y,l,s,d,c]),b=ze((()=>{s?h({slug:s,limit:50}):g({limit:50})})),{handleIntersection:k}=function(e){let{isDisabled:t,isLoading:n,loadMore:a}=e;const o=ee(null),[r,s]=Y(!1);return{handleIntersection:ze((e=>{n||(o.current&&(s(!1),o.current.disconnect()),!t&&e&&(o.current=new IntersectionObserver((e=>{const t=e.some((e=>e.isIntersecting));s(t),t&&a()})),o.current.observe(e)))})),hasIntersection:r}}({isLoading:o,loadMore:b});Q((()=>{null!=E&&E.length||null==y||!y.length||b()}),[b,y,E]);const N=ze((e=>{v({txId:e})}));var C;if(n)return void 0===E||(null==E||!E.length)&&null!=y&&y.length?ae.createElement("div",{className:Ot(Kd,"oq2s5267VtoXz3SCirC7")},ae.createElement(vi,null)):w&&r?ae.createElement("div",{className:"zB2AMRTRMujx_CiIwRBW"},ae.createElement(Fd,{isActive:!0,mode:"emptyList"})):null!=E&&E.length?ae.createElement("div",null,(C=E).map(((e,t)=>ae.createElement("div",{className:"z0no3W0MDh0xqU5zWGSM"},ae.createElement("div",{className:"KBpFhRxChXb9O9Vp0UNL"},ci(f,e.datetime)),e.transactions.map((e=>ae.createElement(jd,{key:null==e?void 0:e.txId,transaction:e,token:e.slug?null==c?void 0:c[e.slug]:void 0,apyValue:u,savedAddresses:p,onClick:N}))),t+1===C.length&&ae.createElement("div",{ref:k,className:"P5WGaKXmOwFs6aWw5HKI"}))))):ae.createElement("div",{className:Kd},ae.createElement(Ra,{play:t,tgsUrl:fa.noData,previewUrl:fa.noDataPreview,size:a.Hf,className:"YwRabwZyTf1CmbrLqixb",noLoop:!1,nonInteractive:!0}),ae.createElement("p",{className:"A2xFHRqwLbdzeROYJ0Us"},f("No Activity")))}))),Zd=te((e=>{let{text:t}=e;const n=vt().settings.animationLevel,{isRtl:o}=fn(),r=zt(t),s=He(),i=n===a.zy&&r&&r!==t,l=G((()=>function(e,t){var n;const a=[],o=e.length,r=null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0;for(let n=0;n<=o;n++){const c=o-n,d=r-n;var s,i,l;t&&d>=0&&e[c]!==t[d]?a.unshift(ae.createElement("div",{className:"utoJVZWpQbsMUdXCWjER"},ae.createElement("div",{className:"nDhG_K_aa9Q6f_iFfnfz"},null!==(s=e[c])&&void 0!==s?s:""),ae.createElement("div",{className:"hbPstTYoQUTntM_2prC0"},t[d]),ae.createElement("div",{className:"G_vJ6W43_yOcCBx6Mrrr"},null!==(i=e[c])&&void 0!==i?i:""))):a.unshift(ae.createElement("span",null,null!==(l=e[c])&&void 0!==l?l:""))}return a}(t,r)),[r,t]);return Q((()=>{if(!i)return;const e=window.setTimeout((()=>{s()}),200);return()=>{window.clearTimeout(e)}}),[i,t]),ae.createElement("span",{className:"PuhxFKYSdYcQ2ce2mcLi",dir:o?"rtl":void 0},l)})),Qd="GoZYG5DxjDXeFsEaCYr9",Jd="LS1URZ9lXmUAsug_621I",Gd="WXwFa5c2zHNtvekVpjOr",Xd="fngBxpuzq7b2WLrIfboK",eu="wmFNDKzz1k2ESt0Ek8fs",tu="q1jRcay77JbuL19B_RUE",nu="BsUYDu33cCTgKR7KjRC4",au="EHuq2B5sDC71WmHFhK2d",ou="vcWolQZvhPD6kAaEe1DG",ru="rbZ_grB8nTj0JzZqxmIR",su="MCDqdp3nUc5zpy9o2Lod",iu="vAzkK4S0xNud0CQsHnF1",lu=te((function(e){let{token:t,amount:n,stakingStatus:o,apyValue:r,isInvestorView:s,classNames:i,onClick:l}=e;const{name:c,symbol:d,slug:u,amount:m,price:p,change24h:h,image:g}=t,v=null!=n?n:m,f=g||Vs[d.toLowerCase()],w=v*p,y=h>0?"Jj8sXviI1_LrE7hVEJla":h<0?"sMjWAPE69h2eDvRfBq_u":void 0,E=Math.abs(er(Rc(w,h),4)),b=Math.abs(er(100*h,2)),k=Boolean(r)&&u===a.rH,{shouldRender:N,transitionClassNames:C}=Tn(k),S=X((()=>{l(u)}),[l,u]);function T(){return ae.createElement("span",{className:Ot("W8B0QAJIVM87DMggR5xr",o&&"NwVCu3UBpSZc8jsv8JZS",C)},"APY ",r,"%")}function A(){if(0!==h)return ae.createElement("i",{className:Ot("yYshuM7DP7R1YmyeA3A7",h>0?"icon-arrow-up":"icon-arrow-down")})}return s?ae.createElement(yn,{className:Ot(Qd,i),onClick:S,isSimple:!0},ae.createElement("img",{src:f,alt:d,className:Gd}),o&&ae.createElement("i",{className:Ot("active"===o?"icon-percent":"icon-clock",iu)}),ae.createElement("div",{className:Xd},ae.createElement("div",{className:Ot(nu,k&&au)},c,N&&T()),ae.createElement("div",{className:tu},ae.createElement(Zd,{text:nn(v,d),key:s?"investor":"default"}),ae.createElement("i",{className:su}),ae.createElement(Zd,{text:nn(p,a.Wl)}))),ae.createElement("div",{className:eu},ae.createElement("div",{className:Ot(ou,o&&ru)},ae.createElement(Zd,{text:nn(w,a.Wl)})),ae.createElement("div",{className:Ot("h4lmRgYRKVFA4MyieJFy",y)},A(),ae.createElement(Zd,{text:String(b)}),"%",ae.createElement("i",{className:su}),ae.createElement(Zd,{text:nn(E,a.Wl)}))),ae.createElement("i",{className:Ot(Jd,"icon-chevron-right"),"aria-hidden":!0})):function(){const e=v*p,t=Boolean(r)&&u===a.rH;return ae.createElement(yn,{className:Ot(Qd,i),onClick:S,isSimple:!0},ae.createElement("img",{src:f,alt:d,className:Gd}),o&&ae.createElement("i",{className:Ot("active"===o?"icon-percent":"icon-clock",iu)}),ae.createElement("div",{className:Xd},ae.createElement("div",{className:Ot(nu,t&&au)},c,t&&T()),ae.createElement("div",{className:tu},ae.createElement(Zd,{text:nn(p,a.Wl)}),!o&&ae.createElement(ae.Fragment,null,ae.createElement("i",{className:su}),ae.createElement("span",{className:y},A(),ae.createElement(Zd,{text:String(b)}),"%")))),ae.createElement("div",{className:eu},ae.createElement("div",{className:Ot(ou,o&&ru)},ae.createElement(Zd,{text:nn(v,d),key:s?"investor":"default"})),ae.createElement("div",{className:tu},e>0?"≈":""," ",ae.createElement(Zd,{text:nn(e,a.Wl)}))),ae.createElement("i",{className:Ot(Jd,"icon-chevron-right"),"aria-hidden":!0}))}()})),cu=te(Et(((e,t,n)=>{var a;n(e.currentAccountId);const o=ar(e),r=sr(e),s=mr(e),{isInvestorViewEnabled:i}=e.settings;return{tokens:o,isNewWallet:r,stakingStatus:null!=s&&s.stakingBalance?s.isUnstakeRequested?"unstakeRequested":"active":void 0,stakingBalance:null==s?void 0:s.stakingBalance,isInvestorViewEnabled:i,apyValue:(null==s||null===(a=s.poolState)||void 0===a?void 0:a.lastApy)||0}}))((function(e){let{isActive:t,tokens:n,isNewWallet:o,stakingStatus:r,stakingBalance:s,isInvestorViewEnabled:i,apyValue:l,onTokenClick:c,onStakedTokenClick:d}=e;const{isPortrait:u}=Ht(),m=o&&u,p=G((()=>null==n?void 0:n.find((e=>{let{slug:t}=e;return t===a.rH}))),[n]),{shouldRender:h,transitionClassNames:g}=Tn(Boolean(r));return ae.createElement("div",{className:"sLc8dGmedysxRZTBxwO4"},!n&&ae.createElement("div",{className:"Wm4dMVkosOgNu9gLTSIF"},ae.createElement(vi,null)),m&&ae.createElement(Fd,{isActive:t,mode:"panel"}),h&&ae.createElement(lu,{key:"staking",token:p,stakingStatus:r,apyValue:l,amount:s,isInvestorView:i,classNames:g,onClick:d}),n&&n.map((function(e){if(!e.isDisabled)return ae.createElement(lu,{key:e.slug,token:e,apyValue:s||e.slug!==a.rH?void 0:l,isInvestorView:i,onClick:c})})))}))),du=new Set,uu=te((function(e){let{url:t,alt:n,className:a,imageClassName:o}=e;const[r,s]=qt(du.has(t)),i=An(r);return ae.createElement("div",{className:Ot(i,a)},ae.createElement("img",{src:t,alt:n,className:o,referrerPolicy:"same-origin",onLoad:r?void 0:()=>{s(),du.add(t)}}))})),mu="HxpUK7NGgbfnFwgSQyfb",pu=te(Et(((e,t,n)=>{var a;n(e.currentAccountId);const{orderedAddresses:o,byAddress:r}=(null===(a=mr(e))||void 0===a?void 0:a.nfts)||{};return{orderedAddresses:o,byAddress:r,isTestnet:e.settings.isTestnet}}))((function(e){let{isActive:t,orderedAddresses:n,byAddress:o,isTestnet:r}=e;const{isLandscape:s}=Ht(),i=fn(),l=r?a.zJ:a.jB,c=G((()=>{if(n&&o)return n.map((e=>o[e])).filter(Boolean)}),[o,n]);return void 0===c?ae.createElement("div",{className:Ot(mu,"uR1nEgkAvB_FI2FO1wag")},ae.createElement(vi,null)):0===c.length?ae.createElement("div",{className:mu},ae.createElement(Ra,{play:t,tgsUrl:fa.happy,previewUrl:fa.happyPreview,size:a.Hf,className:"HIPW5RJLxQuE0a1vJnWU",noLoop:!1,nonInteractive:!0}),ae.createElement("p",{className:"ApeHA8Gpty5Ysy5kf0Sl"},i("No NFTs yet")),ae.createElement("p",{className:"JrABmExJOWIWQ9_ogpjv"},Zt(i("$nft_explore_offer"))),ae.createElement("a",{className:"_HgZC9oBYdV3CW3w4V2P",href:l,rel:"noreferrer noopener",target:"_blank"},i("Open Getgems"))):ae.createElement("div",{className:Ot("HsOlqpthGTOriiFRzVXj",s&&"XjhHYVQ4PJG_m8AwVnIZ")},c.map((e=>ae.createElement("a",{href:`${l}collection/${e.collectionAddress}/${e.address}`,className:Ot("tAPPshvRahppdwPHOJas",e.isOnSale&&"xIgXpU3iCL5hIX9kTa4r"),target:"_blank",rel:"noopener noreferrer"},ae.createElement(uu,{url:e.thumbnail,className:"YwUkrg0avRa2eAcT145T",imageClassName:"d5EK6QIOtuW9UwehSCM0"}),ae.createElement("div",{className:"Hz6LU2EWzX50uVMPkuzk"},ae.createElement("b",{className:"UHIa3zHP73tezOcjSNyQ"},e.name||fr(e.address,4))),ae.createElement("div",{className:"JNpgerYQpbDuhmLxhJDg"},e.collectionName)))))}))),hu="ExUhosF3ynY23gkTw6h_",gu=te(Et(((e,t,n)=>{var a;n(e.currentAccountId);const o=ar(e);return{tokenCount:null!==(a=null==o?void 0:o.length)&&void 0!==a?a:0}}))((function(e){let{activeTabIndex:t,tokenCount:n,setActiveTabIndex:a,onStakedTokenClick:o}=e;const{selectToken:r}=wt(),{isLandscape:s}=Ht(),i=fn(),l=s&&n<5,c=G((()=>[...l?[]:[{id:"assets",title:i("Assets"),className:hu}],{id:"activity",title:i("Activity"),className:hu},{id:"nft",title:i("NFT"),className:hu}]),[i,l]);t=Math.min(t,c.length-1);const d=X((e=>{r({slug:void 0}),a(e)}),[r,a]),u=X((e=>{r({slug:e}),a(c.findIndex((e=>"activity"===e.id)))}),[c,r,a]);function m(e){if(0===t&&l)return ae.createElement(Yd,{isActive:e});switch(t>c.length-1?c[c.length-1].id:c[t].id){case"assets":return ae.createElement(cu,{isActive:e,onTokenClick:u,onStakedTokenClick:o});case"activity":return ae.createElement(Yd,{isActive:e});case"nft":return ae.createElement(pu,{isActive:e});default:return}}return ae.createElement("div",{className:Ot("Mztw3EKsAaK7gMitEU95",s?"HFuaji6NwggXjAoEtIjy":"Cwr8AbWXuCjCsWK3UiZz")},l&&ae.createElement("div",{className:"Mqumy0q6wq75xH_OAL5K"},ae.createElement(cu,{isActive:!0,onStakedTokenClick:o,onTokenClick:u})),ae.createElement(Ud,{tabs:c,activeTab:t,onSwitchTab:d,className:"NuLOgXWTZKjE4hFVSkt7"}),ae.createElement(na,{name:s?"slideFade":"slide",activeKey:t,renderCount:c.length,className:"Qa5TKhdUL836NsLAQub7",slideClassName:Ot("LJ7g5QU7Y1abQ9MlArQg","custom-scroll")},m))})));function vu(e){let t=document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${e?"light":"dark"})"]`);return t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("media",`(prefers-color-scheme: ${e?"light":"dark"})`),document.getElementsByTagName("head")[0].appendChild(t)),t}const fu="LLnVCQ6n1zYkVYjJkCgv",wu="rNDRPCbFNWhalkIeeHhS",yu="t6Ku0F38N3TAWbzC3q3P",Eu="KotaoYR_I_ovrzo_VXs1",bu=te(Et(((e,t,n)=>(n(e.currentAccountId),{theme:e.settings.theme})))((function(e){let{isRequired:t,theme:n,onOpenBackupWallet:a}=e;const{shouldRender:o,transitionClassNames:r}=Tn(t,void 0,!0),{isLandscape:s}=Ht(),i=fn();if(function(e){let{isActive:t,currentTheme:n,lightColor:a,darkColor:o}=e;Q((()=>{const e=vu(!0),r=vu(),s="dark"===n?o:a,i="light"===n?a:o;return t&&(e.setAttribute("content",s),r.setAttribute("content",i)),()=>{e.remove(),r.remove()}}),[a,t,o,n])}({isActive:t,currentTheme:n,lightColor:"#F36A6B",darkColor:"#C44646"}),o)return ae.createElement("div",{className:Ot(fu,s&&wu,r),onClick:()=>{a()}},i("Wallet is not backed up"),ae.createElement("i",{className:Ot(yu,"icon-chevron-right")}),ae.createElement("p",{className:Eu},i("Back up wallet to have full access to it")))})));te(Et((e=>({isSecurityWarningHidden:e.settings.isSecurityWarningHidden})))((function(e){let{isSecurityWarningHidden:t}=e;const{closeSecurityWarning:n}=wt(),{shouldRender:o,transitionClassNames:r}=Tn(!t,void 0,!0),{isLandscape:s}=Ht(),i=fn(),l=X((e=>{e.stopPropagation(),n()}),[n]);if(o)return ae.createElement("div",{className:Ot(fu,s&&wu,r),onClick:function(){window.open(a.sN,"_blank","noopener")}},i("Improve wallet security"),ae.createElement("i",{className:Ot(yu,"icon-chevron-right")}),ae.createElement("p",{className:Eu},i("by installing browser extension or native app")),ae.createElement("button",{type:"button",className:"mWs0oZ4uvkjgTHqrfL5o","aria-label":i("Close"),onClick:l},ae.createElement("i",{className:"icon-close","aria-hidden":!0})))})));const ku=te(Et(((e,t,n)=>{var a;return n(e.currentAccountId),{isBackupRequired:Boolean(null===(a=mr(e))||void 0===a?void 0:a.isBackupRequired),isTestnet:e.settings.isTestnet}}))((function(e){let{isBackupRequired:t,isTestnet:n,onOpenBackupWallet:o}=e;const{isPortrait:r}=Ht(),s=fn();return ae.createElement(ae.Fragment,null,n&&ae.createElement("div",{className:r?"inc2ecW4vQrVkVt376LR":"rxTHTPiCO8Jia8sOlDvK"},ae.createElement("div",{className:"cc4QQJGCEAlI8i2Oa_1F"},s("Testnet Version"))),ae.createElement(bu,{isRequired:t,onOpenBackupWallet:o}),(a.D$||Lt.FH,!1))}))),Nu=te(Et(((e,t,n)=>{n(e.currentAccountId);const a=mr(e);return{isStakingActive:Boolean(null==a?void 0:a.stakingBalance)&&!(null!=a&&a.isUnstakeRequested),isUnstakeRequested:null==a?void 0:a.isUnstakeRequested,currentTokenSlug:null==a?void 0:a.currentTokenSlug,currentAccountId:e.currentAccountId}}))((function(e){let{currentTokenSlug:t,currentAccountId:n,isStakingActive:a,isUnstakeRequested:o}=e;const{selectToken:r,startStaking:s,fetchBackendStakingState:i,openBackupWalletModal:l}=wt(),[c,d]=Y(t?1:0),[u,m,p]=qt(!1),{isPortrait:h}=Ht();Q((()=>{n&&(a||o)&&i()}),[i,n,a,o]);const g=X((()=>{r({slug:void 0}),d(0)}),[r]),v=X((()=>{a||o?m():s()}),[a,o,m,s]);return ae.createElement(ae.Fragment,null,h?ae.createElement("div",{className:"H9aB3mQ0hkW2yrqbKo_C"},ae.createElement("div",{className:"KmXvIaqCYwiuwpESUoWx"},ae.createElement(ku,{onOpenBackupWallet:l}),ae.createElement(Dd,{onTokenCardClose:g,onApyClick:v}),ae.createElement(Bc,{hasStaking:a,isUnstakeRequested:o,onEarnClick:v})),ae.createElement(gu,{activeTabIndex:c,setActiveTabIndex:d,onStakedTokenClick:v})):ae.createElement("div",{className:"GlXKHIWYDd0ciWr14q7w"},ae.createElement("div",{className:Ot("LNHAl31ZExodWFB9FYM6","custom-scroll")},ae.createElement(ku,{onOpenBackupWallet:l}),ae.createElement(Dd,{onTokenCardClose:g,onApyClick:v}),ae.createElement(Oc,{hasStaking:a,isUnstakeRequested:o})),ae.createElement("div",{className:"MyT3Xr1V5p5hKeT3gV_D"},ae.createElement(gu,{activeTabIndex:c,setActiveTabIndex:d,onStakedTokenClick:v}))),ae.createElement(ri,{onViewStakingInfo:m}),ae.createElement(yi,{isOpen:u,onClose:p}),ae.createElement(bi,null))})));var Cu=n(65201),Su=n(25532),Tu=n(23771),Au=n(95412);const _u=function(e){return e[e.MasterChain=-1]="MasterChain",e[e.BaseChain=0]="BaseChain",e}({}).BaseChain,Iu=60;var xu=n(48348),Pu=n(74095);let Mu;async function Du(e){if(Mu)try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return await Mu.request({name:e,args:n})}catch(e){return void(0,Xr.J)("callApi",e)}else(0,Xr.J)("API is not initialized")}n(50780);var Ou=n(41742),Lu=n(38531),Vu=n(51684),Bu=n(85476),Ru=n(34195);let Wu;Ou.Z.IndexedDb,Bu.Z,Ou.Z.LocalStorage,Ru.Z,Ou.Z.ExtensionLocal,Vu.Z,(0,qe._)(),new Promise((e=>{Wu=e}));var $u=n(63824);const Uu=new $u.Configuration({basePath:"https://tonapi.io"}),Hu=new $u.Configuration({basePath:"https://testnet.tonapi.io"});new $u.BlockchainApi(Uu),new $u.NFTApi(Uu),new $u.AccountsApi(Uu),new $u.BlockchainApi(Hu),new $u.NFTApi(Hu),new $u.AccountsApi(Hu),n(13550);var qu=n(53916);const Fu=50000000n,zu=1n;var ju=n(20701);n(48764).lW;const{Cell:Ku}=_i().boc,{Address:Yu}=_i().utils,{JettonMinter:Zu,JettonWallet:Qu}=_i().token.jetton,Ju={mainnet:new(_i())(new ju.Z(a.lr,{apiKey:a.wU})),testnet:new(_i())(new ju.Z(a.wS,{apiKey:a.Je}))};function Gu(){return Ju[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mainnet"]}function Xu(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new(_i().utils.Address)(e).toString(!0,!0,t)}async function em(e,t){const n="string"==typeof t?t:(await t.getAddress()).toString(!0,!0,!0),{account_state:a,wallet:o,seqno:r,balance:s="0"}=await Gu(e).provider.getWalletInfo(n);return{isInitialized:"active"===a,isWallet:o,seqno:r,balance:s}}(0,qu.Z)((async(e,t,n)=>{const a=new Zu(Gu(e).provider,{address:n});return Xu(await a.getJettonWalletAddress(new Yu(t)))})),(0,qu.Z)((async(e,t)=>{const n=new Qu(Gu(e).provider,{address:t});return Xu((await n.getData()).jettonMinterAddress)})),(0,qu.Z)((async(e,t)=>{try{let a=(await Gu(e).provider.call2(t,"get_public_key")).toString(16);return a.length%2!=0&&(a=`0${a}`),n=a,_i().utils.hexToBytes(n)}catch(e){return}var n})),(0,qu.Z)((async(e,t)=>(await em(e,t)).isInitialized)),(0,qu.Z)((async(e,t)=>{const{isInitialized:n,isWallet:a}=await em(e,t);return n&&!a})),n(48764).lW,n(84553),n(52310);const{Address:tm}=_i().utils;n(48764).lW;var nm=n(98741),am=n(9669),om=n.n(am);n(48764).lW,om().defaults.adapter=n(77361).Z,new nm.TonClient({endpoint:a.lr}),new nm.TonClient({endpoint:a.wS}),nm.WalletContractV1R1,nm.WalletContractV1R2,nm.WalletContractV1R3,nm.WalletContractV2R1,nm.WalletContractV2R2,nm.WalletContractV3R1,nm.WalletContractV3R2,nm.WalletContractV4;const{DnsCollection:rm}=n(67594),{JettonWallet:sm}=_i().token.jetton,im={};!function(e){for(const e of[{slug:"toncoin",name:"Toncoin",symbol:"TON",decimals:9}])e.slug in im||(im[e.slug]={...e,quote:{price:0,percentChange1h:0,percentChange24h:0,percentChange7d:0,percentChange30d:0}})}(),n(48764).lW;const{Address:lm,fromNano:cm}=_i().utils,{fromNano:dm}=_i().utils;_i().Contract;const{toNano:um}=_i().utils;(0,Uo.Z)((async function(e){const t=await async function(e,t,n){const o=new URL(`${a.u4}${e}`);t&&Object.entries(t).forEach((e=>{let[t,n]=e;o.searchParams.set(t,n.toString())}));const r=await fetch(o,{headers:n});return function(e){if(!e.ok)throw new Error(e.statusText)}(r),r.json()}(`/staking-state?account=${e}`);if(!function(e){return a.vc.some((t=>e.endsWith(t)))}(t.poolAddress))throw Error("Unexpected pool address, likely a malicious activity");return t}),60);const{Cell:mm}=_i().boc;class pm extends Error{constructor(e,t){super(e),this.displayError=t,Error.captureStackTrace(this),this.name=this.constructor.name}}class hm extends pm{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Canceled by the user")}}var gm=n(36262),vm=n(48764).lW;const fm=!1;let wm,ym;async function Em(){try{return wm=await async function(){for(let e=0;e<10;e++){const[e]=await Tu.Z.list();if(e)return e.opened?new Tu.Z(e):Tu.Z.open(e);await Tu.Z.create(),await(0,s.wO)(125)}throw new Error("Failed to connect")}(),ym=new Au.v(wm),!0}catch(e){return(0,Xr.J)("connectLedger",e),!1}}async function bm(){for(let t=0;t<10;t++){try{var e;if(await ym.isAppOpen())return await(null===(e=ym)||void 0===e?void 0:e.getAddress(Sm(0))),!0}catch(e){null!=e&&e.message.includes("0x530c")||(0,Xr.J)("waitLedgerTonApp",e)}await(0,s.wO)(125)}return!1}async function km(e,t,n){await Du("waitLastTransfer",e);const[o,r]=await Promise.all([Cm(e),Du("fetchAddress",e)]);n||(n=await Du("getWalletSeqno",e));const s=t.map(((e,t)=>{const{toAddress:a,amount:o,payload:r}=e;let s;switch(null==r?void 0:r.type){case"comment":{const{comment:e}=r;if(!(0,gm.r)(e))throw Error("Unsupported format");s={type:"comment",text:r.comment};break}case void 0:s=void 0;break;case"transfer-nft":{const{queryId:e,newOwner:t,responseDestination:n,customPayload:a,forwardAmount:o,forwardPayload:i}=r;s={type:"nft-transfer",queryId:BigInt(e),newOwner:Cu.Address.parse(t),responseDestination:Cu.Address.parse(n),customPayload:a?Cu.Cell.fromBase64(a):null,forwardAmount:BigInt(o),forwardPayload:i?Cu.Cell.fromBase64(i):null};break}case"transfer-tokens":{const{queryId:e,amount:t,destination:n,responseDestination:a,customPayload:o,forwardAmount:i,forwardPayload:l}=r;s={type:"jetton-transfer",queryId:BigInt(e),amount:BigInt(t),destination:Cu.Address.parse(n),responseDestination:Cu.Address.parse(a),customPayload:o?Cu.Cell.fromBase64(o):null,forwardAmount:BigInt(i),forwardPayload:l?Cu.Cell.fromBase64(l):null};break}default:throw Error("Unsupported format")}return{to:Cu.Address.parse(a),sendMode:Cu.SendMode.PAY_GAS_SEPARATELY+Cu.SendMode.IGNORE_ERRORS,seqno:n+t,timeout:Tm(),bounce:fm,amount:BigInt(o),payload:s}})),i=[],l=10+s.length;let c=0,d=0;for(;c<s.length&&d<l;){const e=s[c],n=t[c];try{var u;const t=(await ym.signTransaction(o,e)).toBoc().toString("base64");i.push({base64:t,seqno:e.seqno,params:{amount:n.amount,fromAddress:r,toAddress:n.toAddress,comment:"comment"===(null===(u=n.payload)||void 0===u?void 0:u.type)?n.payload.comment:void 0,fee:"0",slug:a.rH}}),c++}catch(e){if((null==e?void 0:e.statusCode)===Su.WC.CONDITIONS_OF_USE_NOT_SATISFIED)throw new hm;(0,Xr.J)("signLedgerTransactions",e)}d++}return i}async function Nm(e,t,n){var a,o;const{address:r,publicKey:s}=await function(e,t,n){const a=Sm(e,void 0);return ym.getAddress(a,{chain:0,bounceable:t})}(t,n),i=await async function(e,t){const{balance:n}=await em(e,t);return n||"0"}(e,r);return{index:t,address:r,publicKey:s.toString("hex"),balance:i,version:"v4R2",driver:"HID",deviceId:null===(a=wm.deviceModel)||void 0===a?void 0:a.id,deviceName:null===(o=wm.deviceModel)||void 0===o?void 0:o.productName}}async function Cm(e){return Sm((await Du("fetchAccount",e)).ledger.index)}function Sm(e,t){return[44,607,t?1:0,-1===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:_u)?255:0,e,0]}function Tm(){return Math.floor(Date.now()/1e3+Iu)}const Am={appState:kt.Auth,auth:{state:Nt.none},hardware:{},currentTransfer:{state:Ct.None},currentDappTransfer:{state:Ct.None},staking:{state:At.None},tokenInfo:{bySlug:a.UC},settings:{theme:a.KH,animationLevel:a.CX,areTinyTransfersHidden:!0,canPlaySounds:!0,langCode:Lt.Vy,dapps:[],byAccountId:{},areTokensWithNoPriceHidden:!0},byAccountId:{},dialogs:[],notifications:[],stateVersion:8};function _m(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n)return e===t;const a=Array.isArray(e);if(a!==Array.isArray(t))return!1;if(a){const n=e,a=t;return n.length===a.length&&n.every(((e,t)=>_m(e,a[t])))}const o=e,r=t;return Object.keys(o).every((e=>_m(o[e],r[e])))}function Im(e,t){return _m((0,m.ei)(e,Object.keys(t)),t)}function xm(e,t){return{...e,auth:{...e.auth,...t}}}function Pm(e,t){return{...e,accounts:{...e.accounts||{byId:{}},...t}}}function Mm(e,t,n,a){var o;if(null===(o=a)||void 0===o||!o.title){const t=cr(e)||{};a={...a,title:`Wallet ${Object.keys(t).length+1}`}}return Dm(e,t,{...a,address:n})}function Dm(e,t,n){var a;let o=ur(e,t);o={...o,...n};const r=(0,m.AN)(Ro(t),o);return{...e,accounts:{...e.accounts,byId:{...null===(a=e.accounts)||void 0===a?void 0:a.byId,...r}}}}function Om(e,t){return{...e,currentTransfer:{...e.currentTransfer,isLoading:t}}}function Lm(e,t){return Bm(e,e.currentAccountId,t)}function Vm(e,t){for(const n of Ro(e.currentAccountId))e=Bm(e,n,t);return e}function Bm(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=pr(e,t);return a&&o&&Im(o,n)?e:{...e,byAccountId:{...e.byAccountId,[t]:{...o,...n}}}}function Rm(e,t){return{...e,hardware:{...e.hardware,...t}}}function Wm(e,t){return{...e,settings:{...e.settings,...t}}}function $m(e,t){return{...e,currentTransfer:{...e.currentTransfer,...t}}}function Um(e){return{...e,currentTransfer:{state:Ct.None}}}function Hm(e,t){return{...e,currentSignature:{...e.currentSignature,...t}}}function qm(e,t){const{transactions:n}=mr(e)||{};return Lm(e,{transactions:{...n||{byTxId:{}},isLoading:t}})}function Fm(e,t){return{...e,staking:{...e.staking,...t}}}function zm(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=null===(n=mr(e))||void 0===n?void 0:n.poolState;return!e.currentAccountId||a&&o&&Im(o,t)?e:Vm(e,{poolState:{...o,...t}})}function jm(e,t){return{...e,dappConnectRequest:{...e.dappConnectRequest,...t}}}function Km(e){return{...e,dappConnectRequest:void 0}}function Ym(e,t){return{...e,currentDappTransfer:{...e.currentDappTransfer,...t}}}function Zm(e){return{...e,currentDappTransfer:{state:Ct.None}}}function Qm(e,t){var n;return{...e,settings:{...e.settings,dapps:null!==(n=t.dapps)&&void 0!==n?n:[]}}}function Jm(e,t,n){const{transactions:a}=pr(e,t)||{},{txId:o,timestamp:r,slug:s}=n,i=Bo(o);let l=(null==a?void 0:a.newestTransactionsBySlug)||{};if(!i){const e=l[s];(!e||e.timestamp<r)&&(l={...l,[s]:n})}const c=(null==a?void 0:a.txIdsBySlug)||{};let d=c[s]||[];return d.includes(o)||(d=[o].concat(d)),Bm(e,t,{transactions:{...a,byTxId:{...null==a?void 0:a.byTxId,[o]:n},txIdsBySlug:{...c,[s]:d},newestTransactionsBySlug:l}})}function Gm(){return Array(a.ci).fill(0).map(((e,t)=>({i:t,rnd:Math.random()}))).sort(((e,t)=>e.rnd-t.rnd)).map((e=>e.i)).slice(0,a.BC).sort(((e,t)=>e-t))}yt("restartAuth",(e=>{e.currentAccountId&&(e={...e,appState:kt.Main}),e={...e,auth:(0,m.Xh)(Am.auth)},ft(e)})),yt("startCreatingWallet",(async(e,t)=>{ft(xm(e,{state:Nt.creatingWallet,method:"createAccount",error:void 0}));const[n]=await Promise.all([Du("generateMnemonic"),(0,s.wO)(3300)]);if(hr(e=xm(vt(),{mnemonic:n,mnemonicCheckIndexes:Gm()})))return ft(e),void t.afterCreatePassword({password:e.auth.password});ft(xm(e,{state:Nt.createPassword}))})),yt("afterCreatePassword",((e,t,n)=>{let{password:a}=n;ft(xm(e,{isLoading:!0}));const{method:o}=vt().auth,r="createAccount"!==o;"importHardwareWallet"===o?t.createHardwareAccounts():t.createAccount({password:a,isImporting:r})})),yt("createAccount",(async(e,t,n)=>{let{password:a,isImporting:o}=n;ft(xm(e,{isLoading:!0}));const r=dr(vt()),s=await Du(o?"importMnemonic":"createWallet",r,e.auth.mnemonic,a);if(e=vt(),!s)return void ft(xm(e,{isLoading:void 0}));e=xm(e,{isLoading:void 0,password:void 0});const{accountId:i,address:l}=s;o?(e=Mm(e=xm(e={...e,currentAccountId:i},{state:Nt.ready}),i,l),ft(e),t.afterSignIn()):(e=xm(e,{state:Nt.createBackup,accountId:i,address:l}),ft(e))})),yt("createHardwareAccounts",(async(e,t)=>{const n=!e.currentAccountId;ft(xm(e,{isLoading:!0}));const{hardwareSelectedIndices:a=[]}=vt().hardware,o=dr(vt()),r=await Promise.all(a.map((e=>async function(e,t){return Du("importLedgerWallet",e,await Nm(e,t,fm))}(o,e)))),s=r.reduce(((e,t)=>{if(!t)return e;const{accountId:n,address:a,walletInfo:o}=t;return Mm(e={...e,currentAccountId:n},n,a,{isHardware:!0,...o&&{ledger:{driver:o.driver,index:o.index}}})}),vt());ft(xm(s,{isLoading:!1})),vt().areSettingsOpen&&t.closeSettings(),n&&t.afterSignIn()})),yt("afterCheckMnemonic",((e,t)=>{e=Mm(e=Vm(e={...e,currentAccountId:e.auth.accountId},{}),e.auth.accountId,e.auth.address),ft(e),t.afterSignIn()})),yt("restartCheckMnemonicIndexes",(e=>{ft(xm(e,{mnemonicCheckIndexes:Gm()}))})),yt("skipCheckMnemonic",((e,t)=>{e=Mm(e=Vm(e={...e,currentAccountId:e.auth.accountId},{isBackupRequired:!0}),e.auth.accountId,e.auth.address),ft(e),t.afterSignIn()})),yt("startImportingWallet",(e=>{ft(xm(e,{state:Nt.importWallet,error:void 0,method:"importMnemonic"}))})),yt("openAbout",(e=>{ft(xm(e,{state:Nt.about,error:void 0}))})),yt("closeAbout",(e=>{ft(xm(e,{state:Nt.none,error:void 0}))})),yt("afterImportMnemonic",(async(e,t,n)=>{let{mnemonic:a}=n;if(await Du("validateMnemonic",a))return hr(e=xm(vt(),{mnemonic:a,error:void 0}))?(ft(e),void t.afterCreatePassword({password:e.auth.password})):void ft(xm(e,{state:Nt.importWalletCreatePassword}));ft(xm(vt(),{error:"Your mnemonic words are invalid."}))})),yt("cleanAuthError",(e=>{ft(xm(e,{error:void 0}))})),yt("startChangingNetwork",((e,t,n)=>{let{network:a}=n;const o=$o({...Wo(e.currentAccountId),network:a});t.switchAccount({accountId:o,newNetwork:a})})),yt("switchAccount",(async(e,t,n)=>{let{accountId:a,newNetwork:o}=n;const r=gr(e,a);await Du("activateAccount",a,r),ft({...vt(),currentAccountId:a}),o&&t.changeNetwork({network:o})})),yt("connectHardwareWallet",(async e=>{if(ft(Rm(e,{hardwareState:Tt.Connecting,hardwareWallets:void 0,hardwareSelectedIndices:void 0,isLedgerConnected:void 0,isTonAppConnected:void 0})),await Em())if(ft(Rm(vt(),{isLedgerConnected:!0})),await Promise.race([bm(),new Promise((e=>{setTimeout((()=>{e(!1)}),1250)}))])){ft(Rm(vt(),{isTonAppConnected:!0}));try{const e=dr(vt()),t=await function(e){const t=(0,m.w6)(0,9);return Promise.all(t.map((t=>Nm(e,t,fm))))}(e);ft(Rm(vt(),{hardwareWallets:t,hardwareState:Tt.Connected}))}catch(e){ft(Rm(vt(),{hardwareState:Tt.Failed}))}}else ft(Rm(vt(),{isTonAppConnected:!1,hardwareState:Tt.Failed}));else ft(Rm(vt(),{isLedgerConnected:!1,hardwareState:Tt.Failed}))})),yt("afterSelectHardwareWallets",((e,t,n)=>{let{hardwareSelectedIndices:a}=n;e=Rm(e=xm(vt(),{method:"importHardwareWallet",error:void 0}),{hardwareSelectedIndices:a}),ft(e),t.afterCreatePassword({password:""})})),yt("resetHardwareWalletConnect",(e=>{ft(Rm(e,{hardwareState:Tt.Connect,isLedgerConnected:void 0,isTonAppConnected:void 0}))}));var Xm=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.mnemonic=2]="mnemonic",e[e.check=3]="check",e}(Xm||{});const ep=te(Et((e=>({currentAccountId:e.currentAccountId})))((function(e){let{isOpen:t,currentAccountId:n,onClose:a}=e;const{setIsBackupRequired:o}=wt(),r=fn(),[s,i]=Y(Xm.confirm),[l,c]=Y(Xm.password),[d,u]=Y([]),[m,p]=Y(!1),[h,g]=Y(),v=ee(void 0);Q((()=>{v.current=void 0}),[t]);const f=X((()=>{i(Xm.password),c(Xm.mnemonic)}),[]),w=X((async e=>{p(!0),v.current=await Du("getMnemonic",n,e),p(!1),v.current?(c(Xm.check),i(Xm.mnemonic)):g("Wrong password, please try again")}),[n]),y=X((()=>{g(void 0)}),[]),E=X((()=>{u(Gm()),i(Xm.check),c(void 0)}),[]),b=X((()=>{i(Xm.mnemonic),c(Xm.check)}),[]),k=X((()=>{p(!1),g(void 0),i(Xm.confirm),c(Xm.password)}),[]),N=X((()=>{o({isMnemonicChecked:!0}),a()}),[o,a]);function C(e,t,n){switch(n){case Xm.confirm:return ae.createElement(ao,{isActive:e,onSubmit:f,onClose:a});case Xm.password:return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:r("Enter Password"),onClose:a}),ae.createElement(Rr,{isActive:e,isLoading:m,error:h,placeholder:r("Enter your password"),submitLabel:r("Back Up"),onUpdate:y,onSubmit:w,cancelLabel:r("Cancel"),onCancel:a}));case Xm.mnemonic:return ae.createElement(to,{mnemonic:v.current,onNext:E,onClose:a});case Xm.check:return ae.createElement(eo,{isActive:e,isInModal:!0,mnemonic:v.current,checkIndexes:d,buttonLabel:r("Done"),onSubmit:N,onCancel:b,onClose:a})}}return ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:t,onClose:a,onCloseAnimationEnd:k,dialogClassName:"slKib4j4SyWP1xxZsh_h"},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:s,nextKey:l},C))})));var tp=function(e){return e[e.confirm=0]="confirm",e[e.password=1]="password",e[e.complete=2]="complete",e}(tp||{});const np=te(Et((e=>{const{dataHex:t,error:n,isSigned:a}=e.currentSignature||{};return{dataHex:t,error:n,isSigned:a}}))((function(e){let{dataHex:t,error:n,isSigned:a}=e;const{submitSignature:o,clearSignatureError:r,cancelSignature:s}=wt(),i=fn(),[l,c,d]=qt(!1),[u,m]=Y(tp.confirm),[p,h]=Y(tp.password);J((()=>{t&&(m(tp.confirm),h(tp.password),c())}),[t,c]),J((()=>{a&&(m(tp.complete),h(void 0))}),[a]),Q((()=>u===tp.complete?Ua({onEnter:()=>{d()}}):void 0),[d,u]);const g=X((()=>{m(tp.password),h(tp.complete)}),[]),v=X((e=>{o({password:e})}),[o]);function f(e,a,o){switch(o){case tp.confirm:return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:i("Confirmation"),onClose:d}),ae.createElement("div",{className:Hn},ae.createElement("div",{className:$l},i("Data to sign")),ae.createElement("div",{className:Xl},t),ae.createElement("div",{className:"HH5TS1f_iXEFR_ORMDbE"},Zt(i("$signature_warning"))),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:d},i("Cancel")),ae.createElement(yn,{isPrimary:!0,onClick:g},i("Sign")))));case tp.password:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:i("Enter Password"),onClose:d}),ae.createElement(Rr,{isActive:e,error:n,placeholder:i("Enter your password"),submitLabel:i("Sign"),onUpdate:r,onSubmit:v,cancelLabel:i("Cancel"),onCancel:d}))}(e);case tp.complete:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:i("Done!"),onClose:d}),ae.createElement("div",{className:Ot(Hn,"mPDWd26cSN63I9wd5xwo")},ae.createElement(Ra,{play:e,noLoop:!1,nonInteractive:!0,className:"klxWNfYKjV1ly4beZZqm",tgsUrl:fa.thumbUp,previewUrl:fa.thumbUpPreview}),ae.createElement("div",{className:"EokSsqQaT7r2SQMOE28U"},i("Signing was confirmed!")),ae.createElement("div",{className:Bn},ae.createElement(yn,{isPrimary:!0,onClick:d},i("Close")))))}(e)}}return ae.createElement(ja,{isSlideUp:!0,hasCloseButton:!0,isOpen:l,onClose:d,onCloseAnimationEnd:s,dialogClassName:"uBveGrDHTBsjRdTlxZxM"},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:u,nextKey:p},f))}))),ap=te((function(e){let{isIncoming:t,isScam:n,amount:o,tokenSymbol:r,from:s,to:i}=e;const[l,c]=an(o,"").split("."),d=void 0!==s&&void 0!==i;return ae.createElement("div",{className:Ot("ji9d3Dz7lytlVd24iHs8",t&&!n&&"SAbdRs_n5qQOO0XOhQqC",n&&"C5TufoVUBm2DfqLzKU1v")},l.trim().replace(" ",""),c&&ae.createElement("span",{className:"l1BfhBxevsuwxEtX1a2Q"},".",c.trim()),ae.createElement("span",{className:"v58LJXQ7x8BHrDHTW82f"},r||a._x),d&&ae.createElement("div",{className:"KMZa230uYhVgmcxN35ju"},nn(s,"",4)," → ",nn(i,"",4)))})),op="WZoCHPeyLixkD2LAmuUv",rp="bhs1iwfEorw2KJPeXVAV",sp=te(Et((e=>{var t,n;const a=mr(e),o=null==a?void 0:a.currentTransactionId,r=o?null==a||null===(t=a.transactions)||void 0===t?void 0:t.byTxId[o]:void 0,s=null!=r&&r.slug?null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug[r.slug]:void 0,{startOfCycle:i,endOfCycle:l}=(null==a?void 0:a.poolState)||{};return{transaction:r,token:s,savedAddresses:null==a?void 0:a.savedAddresses,isTestnet:e.settings.isTestnet,startOfStakingCycle:i,endOfStakingCycle:l}}))((function(e){var t,n;let{transaction:o,token:r,savedAddresses:s,isTestnet:i,startOfStakingCycle:l,endOfStakingCycle:c}=e;const{startTransfer:d,startStaking:u,closeTransactionInfo:m}=wt(),p=fn(),h=Cn(o,!0),[g,v]=Y(!1),[f,w]=Y(Date.now()+a.uP),{fromAddress:y,toAddress:E,amount:b,comment:k,encryptedComment:N,fee:C,txId:S,isIncoming:T,slug:A,timestamp:_}=h||{},[,I]=(S||"").split(":"),x=Boolean(null==o?void 0:o.type),P=b?Lo(b,null==r?void 0:r.decimals):0,M=T?y:E,D=M&&(null==s?void 0:s[M])||(null==o||null===(t=o.metadata)||void 0===t?void 0:t.name),O=Boolean(null==o||null===(n=o.metadata)||void 0===n?void 0:n.isScam),[L,V]=Y(),[B,R,W]=qt(),[$,U]=Y(),H=i?a.AN:a.k4,q=I&&"NOHASH"!==I?`${H}tx/${I}`:void 0,F=Boolean("unstakeRequest"===(null==o?void 0:o.type)&&l&&o.timestamp>=l),{shouldRender:z,transitionClassNames:j}=Tn(F);jt((()=>{o&&(v(!0),V(void 0))}),[o]),jt((()=>{c&&w(c)}),[c]);const K=X((()=>{v(!1)}),[]),Z=X((()=>{K(),d({tokenSlug:A||a.rH,toAddress:M,amount:Math.abs(P),comment:T?void 0:k})}),[K,d,A,M,P,T,k]),Q=X((()=>{K(),u()}),[K,u]),J=ze((()=>{R()})),G=ze((async e=>{const t=await Du("decryptComment",vt().currentAccountId,N,y,e);t?(W(),V(t)):U("Wrong password, please try again")})),ee=ze((()=>{U(void 0)}));return ae.createElement(ja,{isSlideUp:!0,hasCloseButton:!0,title:function(){const e=S&&Bo(S);return ae.createElement(ae.Fragment,null,_?`${di(p.code,_)}, ${mi(_)}`:p("Transaction Info"),e&&ae.createElement("i",{className:Ot("Mpwr0ULbdlae9GdREKIA","icon-clock"),title:p("Transaction in progress")}),O&&ae.createElement("img",{src:zd,alt:p("Scam"),className:"moDtIzzsTf9ZqsAOeLOX"}))}(),isOpen:g,onClose:K,onCloseAnimationEnd:m},ae.createElement("div",{className:Hn},q&&ae.createElement("a",{href:q,target:"_blank",rel:"noreferrer noopener",className:"MZngIMG8VkWmqmHD58Ad",title:p("View Transaction on TON Explorer")},ae.createElement("i",{className:"icon-tonscan","aria-hidden":!0})),ae.createElement(ap,{isIncoming:T,isScam:O,amount:P,tokenSymbol:null==r?void 0:r.symbol}),ae.createElement("div",{className:$l},p(T?"Sender":"Recipient")),ae.createElement(rs,{addressName:D,address:M,copyNotification:p("Address was copied!"),className:op,textClassName:O?"s_m2kxOlKufOTGfoYp9k":void 0}),function(){if(!T&&C)return ae.createElement(Gr,{label:p("Fee"),amount:Lo(C),currency:a._x})}(),function(){if(!k&&!N||null!=o&&o.type)return;const e=N?p("Message is encrypted."):O?p("Scam comment is hidden."):void 0;return ae.createElement(ae.Fragment,null,ae.createElement("div",{className:$l},p("Comment")),ae.createElement(rs,{text:N?L:k,spoiler:e,spoilerRevealText:p(N?"Decrypt":"Display"),spoilerCallback:J,copyNotification:p("Comment was copied!"),className:op,textClassName:"I0xYbxiq_JrhtZMqBAq6"}),N&&ae.createElement(ja,{isCompact:!0,isOpen:B,onClose:W,title:p("Enter Password"),contentClassName:"RdFgUt0W_1lY3PKB7a5H"},ae.createElement(Rr,{isActive:B,submitLabel:p("Send"),placeholder:p("Enter your password"),error:$,onSubmit:G,onCancel:W,onUpdate:ee})))}(),x&&T&&!z&&ae.createElement("div",{className:"vb3BzCMpbrj8f0HOKQLS"},p("Unstaked successfully")),z&&ae.createElement("div",{className:Ot("FMGTu1d8wyaIkhQMPoSW",j)},ae.createElement("i",{className:Ot("wwBNT9sYYn9BE8TwJNtj","icon-clock")}),p("$unstaking_when_receive",{time:ae.createElement("strong",null,li(p.code,f))})),ae.createElement("div",{className:"nY9Tux6CJggqQTtqVO_a"},!x&&ae.createElement(yn,{onClick:Z,className:rp},p(T?"Send Back":"Repeat")),x&&ae.createElement(yn,{onClick:Q,className:rp},p("Stake Again")))))}))),ip=e=>{let{icon:t,message:n,containerId:o,onDismiss:r}=e;const[s,i]=Y(!0),l=ee(null),{transitionClassNames:c}=Tn(s),d=X((()=>{i(!1),setTimeout(r,250)}),[r]);Q((()=>s?Ii(d):void 0),[s,d]),Q((()=>(l.current=window.setTimeout(d,5e3),()=>{l.current&&(clearTimeout(l.current),l.current=void 0)})),[d]);const u=X((()=>{l.current&&(clearTimeout(l.current),l.current=void 0)}),[]),m=X((()=>{l.current=window.setTimeout(d,5e3)}),[d]);return ae.createElement(za,{className:Ot("HbA7Chmk_bmSgSZbbCBJ",a.D$&&"UJ6HDRloumH46a38jtmC"),containerId:o},ae.createElement("div",{className:Ot("yCy42ozuTWBu8qXhV0sQ",c),onClick:d,onMouseEnter:u,onMouseLeave:m},ae.createElement("div",{className:"kWudRGFVTnaju1xbAkwK"},t&&ae.createElement("i",{className:Ot("fRPrvD0Mj4vyP5OhYeki",t),"aria-hidden":!0}),n)))},lp=te(Et((e=>(0,m.ei)(e,["notifications"])))((function(e){let{notifications:t}=e;const{dismissNotification:n}=wt();if(t.length)return ae.createElement("div",{id:"Notifications"},t.map((e=>{let{message:t,icon:a}=e;return ae.createElement(ip,{icon:a,message:t,onDismiss:n})})))}))),cp="Yq1uIFTURed5FL3IrYsu",dp=te(Et((e=>{const t=cr(e)||{},n=mr(e),a=Object.keys(t).length>1;return{currentAccountId:e.currentAccountId,hasManyAccounts:a,accounts:t,accountStates:e.byAccountId,isBackupRequired:null==n?void 0:n.isBackupRequired}}))((function(e){let{isOpen:t,currentAccountId:n,hasManyAccounts:o,accounts:r,accountStates:s,isBackupRequired:i,onLogOut:l,onClose:c}=e;const{signOut:d,switchAccount:u}=wt(),m=fn(),[p,h]=Y(!1),g=G((()=>o?Object.entries(r).reduce(((e,t)=>{var a;let[o,{title:r,address:i}]=t;return o!==n&&null!==(a=s[o])&&void 0!==a&&a.isBackupRequired&&e.push({id:o,title:r||fr(i)}),e}),[]):[]),[r,s,n,o]);Q((()=>{t&&h(!1)}),[t]);const v=X((()=>{l(),d({isFromAllAccounts:p})}),[l,p,d]);const f=p&&g.length>0,w=i&&!f;return ae.createElement(ja,{isOpen:t,isCompact:!0,onClose:c,onCloseAnimationEnd:c,title:m("Log Out")},ae.createElement("p",{className:Ot(Vn,"pQk_7ndVjnGR_6s2BJmJ")},Zt(m("$logout_warning",a.ci))),o&&ae.createElement(no,{id:"logount_all_accounts",className:"Yxm2RKZcXzjRRt9m35xF",checked:p,onChange:h},Zt(m("$logout_confirm"))),w&&ae.createElement("p",{className:Vn},ae.createElement("b",{className:cp},m("Warning!"))," ",m("$logout_without_backup_warning")),f&&ae.createElement("p",{className:Vn},ae.createElement("b",{className:cp},m("Warning!"))," ",m("$logout_accounts_without_backup_warning",{links:ae.createElement(ae.Fragment,null,g.map((function(e,t){const{id:n,title:a}=e,o=Ot("vMHfkYapdQ4XjjGpeK_w",t+2===g.length&&"ldmIZmU2F47C_xXNEo7d");return ae.createElement("span",{className:o},ae.createElement("a",{key:n,href:"#",className:"u93wALcslIt1NqU9Nc07",onClick:e=>{var t;e.preventDefault(),t=n,c(),u({accountId:t})}},a))})))})),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:c,className:Rn},m("Cancel")),ae.createElement(yn,{isDestructive:!0,onClick:v,className:Rn},m("Exit"))))}))),up=te((function(e){let{id:t,name:n,value:a,label:o,checked:r=!1,className:s,onChange:i,onCheck:l}=e;const c=X((e=>{i&&i(e),l&&l(e.currentTarget.checked)}),[i,l]);return ae.createElement("label",{className:Ot("qCSUKKJ0bMjF1MqIUEMM",s),title:o},ae.createElement("input",{type:"checkbox",id:t,name:n,value:a,checked:r,className:"dGA8bleTnfBrTH4xCLkA",onChange:c}),ae.createElement("span",{className:"IZxCIQCiTPf175PMlaXh"}))})),mp=[a.oB,a.mz,a.zy];function pp(e){const t=`animation-level-${e}`;document.documentElement.classList.contains(t)||mp.forEach((t=>{document.documentElement.classList.toggle(`animation-level-${t}`,t===e)}))}const hp=window.matchMedia("(prefers-color-scheme: dark)");let gp;function vp(e){gp=e,fp(),function(){var e;const t=getComputedStyle(document.documentElement).getPropertyValue("--color-background-second");null===(e=document.querySelector('meta[name="theme-color"]'))||void 0===e||e.setAttribute("content",t)}()}function fp(){document.documentElement.classList.toggle("theme-dark","dark"===gp||"system"===gp&&hp.matches)}hp.addEventListener("change",fp);const wp=n.p+"theme_dark.861c97b37d7b5e334f43.png",yp=n.p+"theme_light.55652e587378ea8b1878.png",Ep=n.p+"theme_system.57e9b1beddedcbe1c25f.png",bp=te((function(e){let{theme:t,handleBackClick:n,animationLevel:o,canPlaySounds:r,isInsideModal:s}=e;const{setTheme:i,setAnimationLevel:l,toggleCanPlaySounds:c}=wt(),d=fn(),u=[{value:"light",name:d("Light"),icon:yp},{value:"system",name:d("System"),icon:Ep},{value:"dark",name:d("Dark"),icon:wp}],m=ze((e=>{document.documentElement.classList.add("no-transitions"),i({theme:e}),vp(e),setTimeout((()=>{document.documentElement.classList.remove("no-transitions")}),300)})),p=ze((()=>{const e=o===a.oB?a.zy:a.oB;l({level:e}),pp(e)})),h=ze((()=>{c({isEnabled:!r})}));return ae.createElement("div",{className:Fn.slide},s?ae.createElement(qn,{title:d("Appearance"),onBackButtonClick:n}):ae.createElement("div",{className:Fn.header},ae.createElement(yn,{isSimple:!0,isText:!0,onClick:n,className:Fn.headerBack},ae.createElement("i",{className:Ot(Fn.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ae.createElement("span",null,d("Back"))),ae.createElement("span",{className:Fn.headerTitle},d("Appearance"))),ae.createElement("div",{className:Ot(Fn.content,"custom-scroll")},ae.createElement("p",{className:Fn.blockTitle},d("Theme")),ae.createElement("div",{className:Fn.settingsBlock},ae.createElement("div",{className:Fn.themeWrapper},u.map((e=>{let{name:n,value:a,icon:o}=e;return ae.createElement("div",{key:a,className:Ot(Fn.theme,a===t&&Fn.theme_active),onClick:()=>m(a)},ae.createElement("div",{className:Ot(Fn.themeIcon,a===t&&Fn.themeIcon_active)},ae.createElement("img",{src:o,alt:n,className:Fn.themeImg})),ae.createElement("span",null,n))})))),ae.createElement("p",{className:Fn.blockTitle},d("Other")),ae.createElement("div",{className:Fn.settingsBlock},ae.createElement("div",{className:Ot(Fn.item,Fn.item_small),onClick:p},d("Enable Animations"),ae.createElement(up,{className:Fn.menuSwitcher,label:d("Enable Animations"),checked:o!==a.oB})),ae.createElement("div",{className:Ot(Fn.item,Fn.item_small),onClick:h},d("Play Sounds"),ae.createElement(up,{className:Fn.menuSwitcher,label:d("Play Sounds"),checked:r})))))})),kp=te((e=>{let{isOpen:t,message:n,className:a}=e;const{transitionClassNames:o,shouldRender:r}=Tn(t);if(r)return ae.createElement("div",{className:Ot("MYAEJnfiCLuI4Q4K34LH",o),onClick:xi},ae.createElement("div",{className:Ot("o5DPjh6JgrPhC5ODnda7",a)},n))})),Np=te((function(e){let{token:t}=e;const{deleteToken:n}=wt(),[a,o]=Y(!1),r=fn();jt((()=>{t&&o(!0)}),[t]);const s=ze((()=>{o(!1)})),i=ze((()=>{s(),n({slug:t.slug})}));return ae.createElement(ja,{isOpen:a,isCompact:!0,onClose:s,title:r("Delete Token"),contentClassName:"_7kTrqvKosWJiGI4pLjP"},ae.createElement("p",{className:"Ejk4Foxy9_R65MQIHuCz"},r("Are you sure you want to delete?",{token:ae.createElement("strong",null,null==t?void 0:t.name)})),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:s,className:Rn},r("Cancel")),ae.createElement(yn,{isDestructive:!0,onClick:i,className:Rn},r("Delete"))))})),Cp={x:0,y:0},Sp={top:0,bottom:0,left:0,right:0},Tp=te((function(e){let{children:t,id:n,onDrag:a,onDragEnd:o,style:r,knobStyle:s,isDisabled:i,offset:l=Sp,parentRef:c,className:d,onClick:u}=e;const m=fn(),p=ee(null),h=ee(null),[g,v]=Y({isDragging:!1,origin:Cp,translation:Cp}),f=ze((e=>{var t,n;e.stopPropagation(),e.preventDefault();const{x:a,y:o}=Ap(e);v({...g,isDragging:!0,origin:{x:a,y:o},width:null===(t=p.current)||void 0===t?void 0:t.offsetWidth,height:null===(n=p.current)||void 0===n?void 0:n.offsetHeight})})),w=ze((e=>{const{x:t,y:o}=Ap(e),r={x:t-g.origin.x,y:o-g.origin.y};if(c&&null!=c&&c.current&&p.current){const{top:e=0,right:t=0,bottom:n=0,left:a=0}=l,o=c.current.getBoundingClientRect(),s=p.current.getBoundingClientRect(),i=-p.current.offsetLeft+a,d=o.width-s.width-p.current.offsetLeft+t,u=-p.current.offsetTop+e,m=o.height-s.height-p.current.offsetTop+n;r.x=Math.max(i,Math.min(r.x,d)),r.y=Math.max(u,Math.min(r.y,m))}v((e=>({...e,translation:r}))),a(r,n)})),y=ze((()=>{v((e=>({...e,isDragging:!1,width:void 0,height:void 0}))),o()}));Q((()=>{g.isDragging&&i&&v((e=>({...e,isDragging:!1,width:void 0,height:void 0})))}),[i,g.isDragging]);const E=ze((()=>{g.isDragging||u()}));Q((()=>{const e=h.current;return e&&e.addEventListener("touchstart",f,{passive:!1}),g.isDragging?(window.addEventListener("touchmove",w),window.addEventListener("mousemove",w),window.addEventListener("touchend",y),window.addEventListener("touchcancel",y),window.addEventListener("mouseup",y)):(window.removeEventListener("touchmove",w),window.removeEventListener("mousemove",w),window.removeEventListener("touchend",y),window.removeEventListener("touchcancel",y),window.removeEventListener("mouseup",y),v((e=>({...e,translation:Cp})))),()=>{g.isDragging&&(window.removeEventListener("touchmove",w),window.removeEventListener("mousemove",w),window.removeEventListener("touchend",y),window.removeEventListener("touchcancel",y),window.removeEventListener("mouseup",y),e&&e.removeEventListener("touchstart",f))}}),[w,y,f,g.isDragging,h]);const b=Ot("C9QYXaRLeCEFngOBl4S3",d,g.isDragging&&"vhGsRt79lQzzuXny9KG8"),k=G((()=>wa(g.isDragging&&`transform: translate(${g.translation.x}px, ${g.translation.y}px)`,g.width?`width: ${g.width}px`:void 0,g.height?`height: ${g.height}px`:void 0,r)),[r,g.height,g.isDragging,g.translation.x,g.translation.y,g.width]);return ae.createElement("div",{style:k,className:b,ref:p,onClick:E},t,!i&&ae.createElement("div",{ref:h,"aria-label":m("i18n_dragToSort"),tabIndex:0,role:"button",className:Ot("oGgH1RraeCPayQnxA8C_","div-button","draggable-knob"),onMouseDown:e=>{var t,n;const{x:a,y:o}=Ap(e);v({...g,isDragging:!0,origin:{x:a,y:o},width:null===(t=p.current)||void 0===t?void 0:t.offsetWidth,height:null===(n=p.current)||void 0===n?void 0:n.offsetHeight})},style:s},ae.createElement("i",{className:"icon icon-sort","aria-hidden":!0})))}));function Ap(e){let t,n;return"touches"in e?(t=e.touches[0].clientX,n=e.touches[0].clientY):(t=e.clientX,n=e.clientY),{x:t,y:n}}var _p=function(e){return e[e.Popular=0]="Popular",e[e.Loading=1]="Loading",e[e.Token=2]="Token",e[e.Empty=3]="Empty",e}(_p||{});const Ip=te(Et((e=>{var t;const{isLoading:n,token:a}=null!==(t=e.settings.importToken)&&void 0!==t?t:{};return{isLoading:n,token:a}}))((function(e){let{token:t,tokens:n,isOpen:a,isLoading:o,position:r,onClose:s,onSelect:i}=e;const{importToken:l,resetImportToken:c}=wt(),d=fn(),{shouldRender:u,transitionClassNames:m}=Tn(a),[p,h]=Y(""),[g,v]=Y(),[f,w]=Y(_p.Popular),y=ee(null),E=ee(!1),{handleScroll:b,isAtBeginning:k}=Sn();Q((()=>{if(y.current&&r){const{top:e,right:t}=r,{width:n,height:a}=y.current.getBoundingClientRect(),o=window.innerHeight>e+n;v(`${o?`top: ${e+4}px;`:`top: calc(100% - ${a+16}px);`} left: ${t-n-8}px;`)}}),[r]),Q((()=>u?Ii(s):void 0),[s,u]),Q((()=>{h(""),c()}),[u]),Q((()=>{Vl(p)?(E.current=!0,l({address:p})):c()}),[l,p]);const N=G((()=>{var e;return null!==(e=null==n?void 0:n.filter((e=>{let{name:t,symbol:n,keywords:a}=e;const o=t.toLowerCase().includes(p.toLowerCase()),r=n.toLowerCase().includes(p.toLowerCase()),s=null==a?void 0:a.find((e=>e.toLowerCase().includes(p.toLowerCase())));return o||r||s})))&&void 0!==e?e:[]}),[n,p]);Q((()=>{(o||E.current)&&Vl(p)?(E.current=!1,w(_p.Loading)):t&&Vl(p)?w(_p.Token):0===N.length?w(_p.Empty):w(_p.Popular)}),[t,o,N,p]);const C=ze((e=>{s(),setTimeout((()=>{i(e)}),250)})),S=G((()=>N.map((e=>ae.createElement("div",{className:Fn.addTokenItem,key:e.slug,onClick:()=>C(e)},ae.createElement("img",{src:e.image,alt:e.symbol,className:Fn.addTokenIcon}),ae.createElement("div",{className:Fn.addTokenText},ae.createElement("span",{className:Fn.addTokenSymbol},e.symbol),ae.createElement("span",{className:Fn.addTokenPrice},on(e.price))))))),[N,C]);function T(e,n,a){const{image:o,symbol:r}=null!=t?t:{};let s;switch(a){case _p.Popular:s=S;break;case _p.Loading:s=ae.createElement("div",{className:Fn.addTokenItem},ae.createElement("div",{className:Ot(Fn.addTokenIcon,Fn.addTokenIcon_loading)}),ae.createElement("div",{className:Fn.addTokenText},ae.createElement("span",{className:Ot(Fn.addTokenSymbol,Fn.addTokenSymbol_loading)}),ae.createElement("span",{className:Ot(Fn.addTokenPrice,Fn.addTokenPrice_loading)})));break;case _p.Token:s=ae.createElement("div",{className:Fn.addTokenItem,onClick:()=>C(t)},ae.createElement("img",{src:o,alt:r,className:Fn.addTokenIcon}),ae.createElement("div",{className:Fn.addTokenText},ae.createElement("span",{className:Fn.addTokenSymbol},r),ae.createElement("span",{className:Fn.addTokenPrice},on(0))));break;case _p.Empty:s=ae.createElement("div",{className:Fn.addTokenItem},ae.createElement("div",{className:Ot(Fn.addTokenIcon,Fn.addTokenIcon_empty)},ae.createElement("i",{className:Ot("icon-ton",Fn.emptyIcon)})),ae.createElement("div",{className:Fn.addTokenText},ae.createElement("span",{className:Ot(Fn.addTokenSymbol,Fn.addTokenSymbol_gray)},d("Token Not Found")),ae.createElement("span",{className:Ot(Fn.addTokenPrice,Fn.addTokenPrice_gray)},d("Try another keyword or address."))))}const i=a!==_p.Popular||1===S.length;return ae.createElement("div",{className:Fn.addTokenContentWrapper},ae.createElement("div",{className:Ot(Fn.addTokenContent,i&&Fn.addTokenContent_single,"custom-scroll"),onScroll:b},s))}const A=Ot(Fn.addTokenDialog,m);return u&&ae.createElement(za,null,ae.createElement("div",{ref:y,className:A,style:g},ae.createElement("div",{className:Fn.backdrop,onClick:s}),ae.createElement("div",{className:Fn.addTokenBlock},ae.createElement("div",{className:Ot(Fn.addTokenSearch,!k&&Fn.addTokenSearch_bordered)},ae.createElement("div",{className:Fn.addTokenInputWrapper},ae.createElement("i",{className:Ot(Fn.icon,"icon-search"),"aria-hidden":!0}),ae.createElement("input",{placeholder:d("Name or Address..."),className:Fn.addTokenInput,onChange:e=>h(e.target.value),value:p}))),ae.createElement(na,{name:"fade",activeKey:f,className:Fn.addTokenTransition},T))))})));function xp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=t.indexOf(e);return 64*(-1===n?t.length:n)+48}const Pp=te((function(e){var t;let{tokens:n,popularTokens:o,orderedSlugs:r,isSortByValueEnabled:s}=e;const{sortTokens:i,toggleDisabledToken:l,addToken:c}=wt(),d=fn(),u=ee(null),m=ee(null),[p,h,g]=qt(),[v,f]=Y(),[w,y]=Y({orderedTokenSlugs:r,dragOrderTokenSlugs:r,draggedIndex:void 0}),[E,b]=Y();Q((()=>{(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.every(((e,n)=>e===t[n]))})(r,w.orderedTokenSlugs)||y({orderedTokenSlugs:r,dragOrderTokenSlugs:r,draggedIndex:void 0})}),[r,w.orderedTokenSlugs]);const k=ze((()=>{if(m.current){const{top:e,right:t}=m.current.getBoundingClientRect();b({top:e,right:t})}h()})),N=ze(((e,t)=>{var n,a,o,s;const i=Math.round(e.y/64),l=null!==(n=null===(a=w.orderedTokenSlugs)||void 0===a?void 0:a.indexOf(t))&&void 0!==n?n:0,c=null===(o=w.orderedTokenSlugs)||void 0===o?void 0:o.filter((e=>e!==t));var d,u;c&&(d=l+i,0,u=null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0,d>=0&&d<=u)&&(c.splice(l+i,0,t),y((e=>({...e,draggedIndex:l,dragOrderTokenSlugs:c}))))})),C=ze((()=>{y((e=>(i({orderedSlugs:e.dragOrderTokenSlugs}),{...e,orderedTokenSlugs:e.dragOrderTokenSlugs,draggedIndex:void 0})))})),S=ze((e=>{e!==a.rH&&l({slug:e})})),T=ze(((e,t)=>{t.stopPropagation(),f(e)})),A=ze((e=>{c({token:e})}));return ae.createElement(ae.Fragment,null,ae.createElement("p",{className:Fn.blockTitle},d("Your Tokens")),ae.createElement("div",{className:Fn.contentRelative,ref:m},ae.createElement("div",{className:Ot(Fn.settingsBlock,Fn.sortableContainer),style:`height: ${64*(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)+48}px`,ref:u},ae.createElement("div",{className:Ot(Fn.item,Fn.item_small),onClick:k},d("Add Token"),ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-down")})),null==n?void 0:n.map((function(e,t){const{symbol:o,image:r,name:i,amount:l,price:c,slug:m,isDisabled:p}=e,h=m===a.rH,g=r||Vs[o.toLowerCase()],v=l*c,f=w.draggedIndex===t,y=xp(m,w.orderedTokenSlugs),E=xp(m,w.dragOrderTokenSlugs),b=`top: ${f?y:E}px;`,k=0===l&&!h,A=s||n.length<=1;return ae.createElement(Tp,{key:m,id:m,onDrag:N,onDragEnd:C,style:b,knobStyle:"left: 1rem;",isDisabled:A,className:Ot(Fn.item,Fn.item_token),offset:{top:48},parentRef:u,onClick:()=>S(m)},ae.createElement("img",{src:g,alt:o,className:Fn.tokenIcon}),ae.createElement("div",{className:Fn.tokenInfo},ae.createElement("div",{className:Fn.tokenTitle},i),ae.createElement("div",{className:Fn.tokenDescription},ae.createElement(Zd,{text:nn(v,a.Wl)}),ae.createElement("i",{className:Fn.dot}),ae.createElement(Zd,{text:nn(l,o)}),k&&ae.createElement(ae.Fragment,null,ae.createElement("i",{className:Fn.dot}),ae.createElement("span",{className:Fn.deleteText,onClick:t=>T(e,t)},"Delete")))),!h&&ae.createElement(up,{className:Fn.menuSwitcher,label:d("Investor View"),checked:!p,onCheck:()=>S(m)}))}))),ae.createElement(Ip,{position:E,isOpen:p,onClose:g,tokens:o,onSelect:A})),ae.createElement(Np,{token:v}))})),Mp=[{value:"usd",name:"US Dollar"}],Dp=te((function(e){let{tokens:t,popularTokens:n,orderedSlugs:o,areTinyTransfersHidden:r,isInvestorViewEnabled:s,areTokensWithNoBalanceHidden:i,areTokensWithNoPriceHidden:l,isSortByValueEnabled:c,handleBackClick:d,isInsideModal:u}=e;const{toggleTinyTransfersHidden:m,toggleInvestorView:p,toggleTokensWithNoBalance:h,toggleTokensWithNoPrice:g,toggleSortByValue:v}=wt(),f=fn(),[w,y,E]=qt(),[b,k,N]=qt(),{handleScroll:C,isAtBeginning:S}=Sn(),T=ze((()=>{m({isEnabled:!r})})),A=ze((()=>{p({isEnabled:!s})})),_=ze((()=>{h({isEnabled:!i})})),I=ze((()=>{g({isEnabled:!l})})),x=ze((()=>{v({isEnabled:!c})}));return ae.createElement("div",{className:Fn.slide},u?ae.createElement(qn,{title:f("Assets & Activity"),withBorder:!S,onBackButtonClick:d}):ae.createElement("div",{className:Fn.header},ae.createElement(yn,{isSimple:!0,isText:!0,onClick:d,className:Fn.headerBack},ae.createElement("i",{className:Ot(Fn.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ae.createElement("span",null,f("Back"))),ae.createElement("span",{className:Fn.headerTitle},f("Assets & Activity"))),ae.createElement("div",{className:Ot(Fn.content,"custom-scroll"),onScroll:C},ae.createElement("div",{className:Fn.settingsBlock},ae.createElement(Vi,{label:f("Fiat Currency"),items:Mp,selectedValue:Mp[0].value,theme:"light",disabled:!0,shouldTranslateOptions:!0,className:Ot(Fn.item,Fn.item_small)}),ae.createElement("div",{className:Ot(Fn.item,Fn.item_small),onClick:A},ae.createElement("div",{className:Fn.blockWithTooltip},f("Investor View"),ae.createElement(kp,{isOpen:w,message:f("Focus on asset value rather than current balance"),className:Fn.tooltip}),ae.createElement("i",{className:Ot(Fn.iconQuestion,"icon-question"),onClick:Lt.$b?xi:void 0,onMouseEnter:y,onMouseLeave:E})),ae.createElement(up,{className:Fn.menuSwitcher,label:f("Investor View"),checked:s})),ae.createElement("div",{className:Ot(Fn.item,Fn.item_small),onClick:T},ae.createElement("div",{className:Fn.blockWithTooltip},f("Hide Tiny Transfers"),ae.createElement(kp,{isOpen:b,message:f("$tiny_transfers_help",[a.gh,a._x]),className:Ot(Fn.tooltip,Fn.tooltip_wide)}),ae.createElement("i",{className:Ot(Fn.iconQuestion,"icon-question"),onClick:Lt.$b?xi:void 0,onMouseEnter:k,onMouseLeave:N})),ae.createElement(up,{className:Fn.menuSwitcher,label:f("Hide Tiny Transfers"),checked:r}))),ae.createElement("p",{className:Fn.blockTitle},f("Tokens Settings")),ae.createElement("div",{className:Fn.settingsBlock},ae.createElement("div",{className:Ot(Fn.item,Fn.item_small),onClick:_},f("Hide Tokens With No Balance"),ae.createElement(up,{className:Fn.menuSwitcher,label:f("Hide Tokens With No Balance"),checked:i})),ae.createElement("div",{className:Ot(Fn.item,Fn.item_small),onClick:I},f("Hide Tokens With No Price"),ae.createElement(up,{className:Fn.menuSwitcher,label:f("Hide Tokens With No Price"),checked:l})),ae.createElement("div",{className:Ot(Fn.item,Fn.item_small),onClick:x},f("Sort By Value"),ae.createElement(up,{className:Fn.menuSwitcher,label:f("Sort By Value"),checked:c}))),ae.createElement(Pp,{tokens:t,popularTokens:n,orderedSlugs:o,isSortByValueEnabled:c})))})),Op="umfMXBxSCr9EtkUgGZSO",Lp=te((function(e){let{isOpen:t,dapp:n,onClose:a}=e;const{deleteAllDapps:o,deleteDapp:r}=wt(),s=fn(),i=X((()=>{o(),a()}),[o,a]),l=X((()=>{r({origin:n.origin}),a()}),[r,n,a]),c=s(n?"Disconnect Dapp":"Disconnect Dapps"),d=n?s("Are you sure you want to disconnect?",{dappname:ae.createElement("strong",null,n.name)}):s("Are you sure you want to disconnect all websites?"),u=n?l:i;return ae.createElement(ja,{isOpen:t,isCompact:!0,onClose:a,title:c,contentClassName:"RE_ES3CYh0IpfKif3CC5"},ae.createElement("p",{className:"BlqLl2ssC2GOHCcRYcAS"},d),ae.createElement("div",{className:"JO6PDQAlLAs1OQS63LOT"},ae.createElement(yn,{onClick:a,className:Op},s("Cancel")),ae.createElement(yn,{isDestructive:!0,onClick:u,className:Op},s("Disconnect"))))})),Vp=te((function(e){let{isActive:t,dapps:n,handleBackClick:o,isInsideModal:r}=e;const s=fn(),[i,l,c]=qt(),[d,u]=Y(),{handleScroll:m,isAtBeginning:p}=Sn(),h=ze((e=>{const t=n.find((t=>t.origin===e));u(t),l()})),g=ze((()=>{u(void 0),l()}));function v(e){const{iconUrl:t,name:n,url:a,origin:o}=e;return ae.createElement(Zr,{key:o,iconUrl:t,name:n,url:a,origin:o,className:Fn.dapp,onDisconnect:h})}const f=0===n.length?(w=t,ae.createElement("div",{className:Fn.emptyList},ae.createElement(Ra,{play:w,tgsUrl:fa.noData,previewUrl:fa.noDataPreview,size:a.Hf,className:Fn.sticker,noLoop:!1,nonInteractive:!0}),ae.createElement("p",{className:Fn.emptyListTitle},s("No active connections")))):function(){const e=n.map(v);return ae.createElement("div",{className:Fn.slide},ae.createElement("div",{className:Fn.disconnectAllBlock},ae.createElement(yn,{className:Fn.disconnectButton,isSimple:!0,onClick:g},s("Disconnect All Dapps")),ae.createElement("p",{className:Fn.blockDescription},s("$dapps-description"))),ae.createElement("p",{className:Fn.blockTitle},s("Logged in with MyTonWallet")),ae.createElement("div",{className:Fn.block},e))}();var w;return ae.createElement("div",{className:Fn.slide},r?ae.createElement(qn,{title:s("Dapps"),withBorder:!p,onBackButtonClick:o}):ae.createElement("div",{className:Fn.header},ae.createElement(yn,{isSimple:!0,isText:!0,onClick:o,className:Fn.headerBack},ae.createElement("i",{className:Ot(Fn.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ae.createElement("span",null,s("Back"))),ae.createElement("span",{className:Fn.headerTitle},s("Dapps"))),ae.createElement("div",{className:Ot(Fn.content,"custom-scroll"),onScroll:m},f),ae.createElement(Lp,{isOpen:i,onClose:c,dapp:d}))})),Bp=[{value:"mainnet",name:"Mainnet"},{value:"testnet",name:"Testnet"}],Rp=te((function(e){let{isOpen:t,onClose:n,isTestnet:a}=e;const{startChangingNetwork:o}=wt(),r=fn(),s=ze((e=>{o({network:e})}));return ae.createElement(ja,{isOpen:t,onClose:n,noBackdropClose:!0,isCompact:!0},ae.createElement("div",{className:Fn.developerTitle},r("Developer Options")),ae.createElement("div",{className:Fn.settingsBlock},ae.createElement(Vi,{label:r("Network"),items:Bp,selectedValue:Bp[a?1:0].value,theme:"light",arrow:"chevron",className:Ot(Fn.item,Fn.item_small),onChange:s})),ae.createElement(yn,{className:Fn.developerCloseButton,onClick:n},r("Close")))})),Wp=n.p+"settings_checkmark.1bbfb88157e6f6d66040.svg",$p=te((function(e){let{langCode:t,handleBackClick:n,isInsideModal:o}=e;const{changeLanguage:r}=wt(),s=fn(),i=ze((e=>{vn(e,(()=>{r({langCode:e})}))}));return ae.createElement("div",{className:Fn.slide},o?ae.createElement(qn,{title:s("Language"),onBackButtonClick:n,className:Fn.languageHeader}):ae.createElement("div",{className:Fn.header},ae.createElement(yn,{isSimple:!0,isText:!0,onClick:n,className:Fn.headerBack},ae.createElement("i",{className:Ot(Fn.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ae.createElement("span",null,s("Back"))),ae.createElement("span",{className:Fn.headerTitle},s("Language"))),ae.createElement("div",{className:Ot(Fn.content,"custom-scroll")},ae.createElement("div",{className:Fn.block},a.gX.map((e=>{let{name:n,nativeName:a,langCode:o}=e;return ae.createElement("div",{key:o,className:Ot(Fn.item,Fn.item_lang),onClick:()=>i(o)},ae.createElement("div",{className:Fn.languageInfo},ae.createElement("span",{className:Fn.languageMain},n),ae.createElement("span",{className:Fn.languageNative},a)),t===o&&ae.createElement("img",{src:Wp,alt:n}))})))))})),Up=n.p+"settings_about.5657b76562589bc5cb89.svg",Hp=n.p+"settings_appearance.b436bf95ab16ce51d824.svg",qp=n.p+"settings_assets-activity.896f1641393520aa0a3b.svg",Fp=n.p+"settings_backup-secret.d87205bed9e8b02e97ff.svg",zp=n.p+"settings_connected-dapps.add57decaf6e87de1d5a.svg",jp=n.p+"settings_exit.e567ca0475d80f254108.svg",Kp=n.p+"settings_language.989b2ad95bec5063e2ed.svg",Yp=n.p+"settings_ledger.f70f04dd969217628e05.svg",Zp=n.p+"settings_telegram-menu.82cb28ad4b86669649cc.svg",Qp=n.p+"settings_ton-links.f285108cdb9444705ddc.svg",Jp=n.p+"settings_ton-magic.e74084cc81a603c33835.svg",Gp=n.p+"settings_ton-proxy.9741a1e671b0db75037d.svg";var Xp=function(e){return e[e.Initial=0]="Initial",e[e.Appearance=1]="Appearance",e[e.Assets=2]="Assets",e[e.Dapps=3]="Dapps",e[e.Language=4]="Language",e[e.About=5]="About",e}(Xp||{});const eh=te(Et((e=>{var t;const{theme:n,animationLevel:a,areTinyTransfersHidden:o,isTestnet:r,isInvestorViewEnabled:s,canPlaySounds:i,langCode:l,isTonMagicEnabled:c,isTonProxyEnabled:d,isDeeplinkHookEnabled:u,areTokensWithNoBalanceHidden:m,areTokensWithNoPriceHidden:p,isSortByValueEnabled:h,dapps:g}=e.settings,{orderedSlugs:v}=null!==(t=vr(e,e.currentAccountId))&&void 0!==t?t:{};return{theme:n,animationLevel:a,areTinyTransfersHidden:o,isTestnet:r,isInvestorViewEnabled:s,canPlaySounds:i,langCode:l,isTonMagicEnabled:c,isTonProxyEnabled:d,isDeeplinkHookEnabled:u,areTokensWithNoBalanceHidden:m,areTokensWithNoPriceHidden:p,isSortByValueEnabled:h,dapps:g,tokens:ar(e),popularTokens:rr(e),orderedSlugs:v}}))((function(e){let{theme:t,animationLevel:n,areTinyTransfersHidden:o,isTestnet:r,isInvestorViewEnabled:s,canPlaySounds:i,langCode:l,isTonProxyEnabled:c,isTonMagicEnabled:d,isDeeplinkHookEnabled:u,areTokensWithNoBalanceHidden:m,areTokensWithNoPriceHidden:p,isSortByValueEnabled:h,dapps:g,tokens:v,popularTokens:f,orderedSlugs:w,isInsideModal:y}=e;const{openBackupWalletModal:E,openHardwareWalletModal:b,closeSettings:k,toggleDeeplinkHook:N,toggleTonProxy:C,toggleTonMagic:S,getDapps:T,initTokensOrder:A}=wt(),_=fn(),[I,x]=Y(r?5:0),[P,M]=Y(Xp.Initial),[D,O,L]=qt(),[V,B,R]=qt(),W=G((()=>a.gX.find((e=>e.langCode===l))),[l]),{transitionClassNames:$,shouldRender:U}=Tn(d);Q((()=>{A()}),[]);const{handleScroll:H,isAtBeginning:q}=Sn(),F=ze((()=>{T(),M(Xp.Dapps)}));function z(){M(Xp.Appearance)}function j(){M(Xp.Assets)}function K(){M(Xp.Language)}function Z(){M(Xp.About)}const J=ze((()=>{M(Xp.Initial)})),X=ze((()=>{N({isEnabled:!u})})),ee=ze((()=>{C({isEnabled:!c})})),te=ze((()=>{S({isEnabled:!d})}));function ne(){E()}const oe=ze((()=>{R(),k()})),re=ze((()=>{R()}));function se(){b()}const ie=()=>{I+1>=5?O():x(I+1)};function le(e,E,b){switch(b){case Xp.Initial:return ae.createElement("div",{className:Fn.slide},y?ae.createElement(qn,{title:_("Settings"),withBorder:!q,onClose:k}):ae.createElement("div",{className:Fn.header},ae.createElement(yn,{isSimple:!0,isText:!0,onClick:k,className:Fn.headerBack},ae.createElement("i",{className:Ot(Fn.iconChevron,"icon-chevron-left"),"aria-hidden":!0}),ae.createElement("span",null,_("Back"))),ae.createElement("span",{className:Fn.headerTitle},_("Settings"))),ae.createElement("div",{className:Ot(Fn.content,"custom-scroll"),onScroll:H},Lt.FH&&ae.createElement("div",{className:Fn.block},a.s1&&ae.createElement("div",{className:Fn.item,onClick:ee},ae.createElement("img",{className:Fn.menuIcon,src:Gp,alt:_("TON Proxy")}),_("TON Proxy"),ae.createElement(up,{className:Fn.menuSwitcher,label:_("Toggle TON Proxy"),checked:c})),ae.createElement("div",{className:Fn.item,onClick:te},ae.createElement("img",{className:Fn.menuIcon,src:Jp,alt:_("TON Magic")}),_("TON Magic"),ae.createElement(up,{className:Fn.menuSwitcher,label:_("Toggle TON Magic"),checked:d})),U&&ae.createElement("div",{className:Ot(Fn.item,$),onClick:th},ae.createElement("img",{className:Fn.menuIcon,src:Zp,alt:_("Open Telegram Web")}),_("Open Telegram Web"),ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")})),ae.createElement("div",{className:Fn.item,onClick:X},ae.createElement("img",{className:Fn.menuIcon,src:Qp,alt:_("Handle ton:// links")}),_("Handle ton:// links"),ae.createElement(up,{className:Fn.menuSwitcher,label:_("Handle ton:// links"),checked:u}))),ae.createElement("div",{className:Fn.block},ae.createElement("div",{className:Fn.item,onClick:z},ae.createElement("img",{className:Fn.menuIcon,src:Hp,alt:_("Appearance")}),_("Appearance"),ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")})),ae.createElement("div",{className:Fn.item,onClick:j},ae.createElement("img",{className:Fn.menuIcon,src:qp,alt:_("Assets & Activity")}),_("Assets & Activity"),ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")})),Lt.qV&&ae.createElement("div",{className:Fn.item,onClick:F},ae.createElement("img",{className:Fn.menuIcon,src:zp,alt:_("Connected Dapps")}),_("Connected Dapps"),ae.createElement("div",{className:Fn.itemInfo},g.length?g.length:"",ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")}))),ae.createElement("div",{className:Fn.item,onClick:K},ae.createElement("img",{className:Fn.menuIcon,src:Kp,alt:_("Language")}),_("Language"),ae.createElement("div",{className:Fn.itemInfo},null==W?void 0:W.name,ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")})))),ae.createElement("div",{className:Fn.block},ae.createElement("div",{className:Fn.item,onClick:ne},ae.createElement("img",{className:Fn.menuIcon,src:Fp,alt:_("Back Up Secret Words")}),_("Back Up Secret Words"),ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")})),Lt.lz&&ae.createElement("div",{className:Fn.item,onClick:se},ae.createElement("img",{className:Fn.menuIcon,src:Yp,alt:_("Connect Ledger")}),_("Connect Ledger"),ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")}))),ae.createElement("div",{className:Fn.block},ae.createElement("div",{className:Fn.item,onClick:Z},ae.createElement("img",{className:Fn.menuIcon,src:Up,alt:_("About")}),_("About"),ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")})),ae.createElement("div",{className:Ot(Fn.item,Fn.item_red),onClick:B},ae.createElement("img",{className:Fn.menuIcon,src:jp,alt:_("Exit")}),_("Exit"),ae.createElement("i",{className:Ot(Fn.iconChevronRight,"icon-chevron-right")}))),ae.createElement("div",{className:Fn.version,onClick:ie},a.iC," ",a.Ji)),ae.createElement(Rp,{isOpen:D,onClose:L,isTestnet:r}));case Xp.Appearance:return ae.createElement(bp,{theme:t,animationLevel:n,canPlaySounds:i,handleBackClick:J,isInsideModal:y});case Xp.Assets:return ae.createElement(Dp,{tokens:v,popularTokens:f,orderedSlugs:w,isInvestorViewEnabled:s,areTinyTransfersHidden:o,areTokensWithNoBalanceHidden:m,areTokensWithNoPriceHidden:p,isSortByValueEnabled:h,handleBackClick:J,isInsideModal:y});case Xp.Dapps:return ae.createElement(Vp,{isActive:e,dapps:g,handleBackClick:J,isInsideModal:y});case Xp.Language:return ae.createElement($p,{langCode:l,handleBackClick:J,isInsideModal:y});case Xp.About:return ae.createElement(jn,{handleBackClick:J,isInsideModal:y})}}return Q((()=>Ii((()=>{P===Xp.Initial?k():J()}))),[J,P]),ae.createElement("div",{className:Fn.wrapper},ae.createElement(na,{name:"pushSlide",className:Ot(y?Wn:Fn.transitionContainer,"custom-scroll"),activeKey:P},le),ae.createElement(dp,{isOpen:V,onClose:re,onLogOut:oe}))})));function th(){window.open(a.xb,"_blank","noopener")}const nh=te((function(e){let{children:t,isOpen:n,onClose:a}=e;return ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:n,onClose:a,dialogClassName:Fn.modalDialog,contentClassName:Fn.modalContent},t)})),ah=te(Et((e=>{const t=mr(e),{hardwareState:n,isLedgerConnected:a,isTonAppConnected:o}=e.hardware;return{currentTransfer:e.currentTransfer,tokens:ar(e),savedAddresses:null==t?void 0:t.savedAddresses,hardwareState:n,isLedgerConnected:a,isTonAppConnected:o}}))((function(e){let{currentTransfer:{state:t,amount:n,toAddress:o,fee:r,comment:s,shouldEncrypt:i,promiseId:l,error:c,isLoading:d,txId:u,tokenSlug:m,toAddressName:p},tokens:h,savedAddresses:g,hardwareState:v,isLedgerConnected:f,isTonAppConnected:w}=e;const{submitTransferConfirm:y,submitTransferPassword:E,submitTransferHardware:b,setTransferScreen:k,clearTransferError:N,cancelTransfer:C,showTransactionInfo:S,startTransfer:T}=wt(),A=fn(),_=t!==Ct.None,I=G((()=>null==h?void 0:h.find((e=>e.slug===m))),[m,h]),x=zt(null==I?void 0:I.amount,!0),P=zt(n,!0),M=(null==I?void 0:I.symbol)||"",{renderingKey:D,nextKey:O,updateNextKey:L}=wr(t,_);Q((()=>t===Ct.Confirm?Ua({onEnter:()=>{y()}}):void 0),[t,y]);const V=X((e=>{E({password:e})}),[E]),B=X((()=>{t===Ct.Confirm&&k({state:Ct.Initial}),t===Ct.Password&&k({state:Ct.Confirm})}),[k,t]),R=X((()=>{C(),S({txId:u})}),[C,S,u]),W=X((()=>{T({tokenSlug:m||a.rH,toAddress:o,amount:n,comment:s})}),[n,s,T,o,m]);function $(e,t,m){switch(m){case Ct.Initial:return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:A("Send"),onClose:C}),ae.createElement(gc,null));case Ct.Confirm:return function(e){const t=(null==g?void 0:g[o])||p;return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:A("Is it all ok?"),onClose:C}),ae.createElement("div",{className:Hn},ae.createElement(Ra,{size:a.dC,play:e,noLoop:!1,nonInteractive:!0,className:Ot(tc,nc),tgsUrl:fa.bill,previewUrl:fa.billPreview}),ae.createElement("div",{className:$l},A("Receiving Address")),ae.createElement(rs,{address:o,addressName:t,copyNotification:A("Address was copied!"),className:Gl}),ae.createElement(Gr,{label:A("Amount"),amount:n||0,symbol:M,fee:r?Lo(r):void 0}),function(){if(s)return ae.createElement(ae.Fragment,null,ae.createElement("div",{className:$l},A(i?"Encrypted Message":"Comment")),ae.createElement("div",{className:Ot(Xl,ec)},s))}(),ae.createElement("div",{className:Bn},l?ae.createElement(yn,{onClick:C},A("Cancel")):ae.createElement(yn,{onClick:B},A("Edit")),ae.createElement(yn,{isPrimary:!0,isLoading:d,onClick:y},A("Confirm")))))}(e);case Ct.Password:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:A("Confirm Transaction"),onClose:C}),ae.createElement(Rr,{isActive:e,isLoading:d,error:c,placeholder:A("Enter your password"),onUpdate:N,onSubmit:V,submitLabel:A("Send"),onCancel:B,cancelLabel:A("Back")}))}(e);case Ct.ConnectHardware:return ae.createElement(Vr,{state:v,isLedgerConnected:f,isTonAppConnected:w,onConnected:b,onClose:C});case Ct.ConfirmHardware:return ae.createElement(Lr,{text:A("Please confirm transaction on your Ledger"),error:c,onClose:C,onTryAgain:b});case Ct.Complete:return function(e){return ae.createElement(ae.Fragment,null,ae.createElement(qn,{title:A("Coins have been sent!"),onClose:C}),ae.createElement("div",{className:Hn},ae.createElement(Os,{playAnimation:e,amount:P?-P:void 0,tokenSymbol:M,precision:4,balance:x,fee:r?Lo(r):0,operationAmount:n?-n:void 0,firstButtonText:u?A("Details"):void 0,secondButtonText:A("Repeat"),onFirstButtonClick:R,onSecondButtonClick:W}),ae.createElement("div",{className:Bn},ae.createElement(yn,{onClick:C,isPrimary:!0},A("Close")))))}(e)}}return ae.createElement(ja,{hasCloseButton:!0,isSlideUp:!0,isOpen:_,onClose:C,noBackdropClose:!0,dialogClassName:Bl,onCloseAnimationEnd:L},ae.createElement(na,{name:"pushSlide",className:Ot(Wn,"custom-scroll"),slideClassName:$n,activeKey:D,nextKey:O,onStop:L},$))}))),oh="fbqvaOMVrTlU6neL3Byc";let rh=0;const sh=te(Et((e=>({appState:e.appState,accountId:e.currentAccountId,isBackupWalletModalOpen:e.isBackupWalletModalOpen,isHardwareModalOpen:e.isHardwareModalOpen,areSettingsOpen:e.areSettingsOpen})))((function(e){let{appState:t,accountId:n,isBackupWalletModalOpen:o,isHardwareModalOpen:r,areSettingsOpen:s}=e;const{closeBackupWalletModal:i,closeHardwareWalletModal:l,closeSettings:c,cancelCaching:d}=wt(),{isPortrait:u}=Ht(),m=!u||a.D$,[p,h]=qt(!1),[g,v]=qt(),f=p?kt.Inactive:s&&!m?kt.Settings:t;function w(e,t,n){switch(n){case kt.Auth:return ae.createElement(Oo,null);case kt.Main:return ae.createElement(na,{name:"semiFade",activeKey:rh,shouldCleanup:!0,nextKey:f===kt.Auth&&g?rh+1:void 0,slideClassName:Ot(oh,"JTCAWoFoGLlS6rOzcLD6","custom-scroll")},ae.createElement(Nu,{key:rh}));case kt.Settings:return ae.createElement(eh,null);case kt.Ledger:return ae.createElement(Ms,{isOpen:!0,onClose:ih});case kt.Inactive:return ae.createElement(Nn,null)}}return Kt(v,f!==kt.Auth||g?void 0:1200),Q((()=>{Rt(),Mt=()=>{document.title=`MyTonWallet ${a.ou}`,h(),c(),d()}}),[h]),jt((()=>{n&&(rh+=1)}),[n]),ae.createElement(ae.Fragment,null,a.D$&&!Lt.m2&&ae.createElement(Is,{withTitle:!0}),ae.createElement(na,{name:u?"pushSlide":"semiFade",activeKey:f,shouldCleanup:!0,className:"cI3JkQM5S1pALKEeuan7",slideClassName:Ot(oh,"custom-scroll")},w),m&&ae.createElement(nh,{isOpen:s,onClose:c},ae.createElement(eh,{isInsideModal:!0})),!p&&ae.createElement(ae.Fragment,null,ae.createElement(Ms,{isOpen:r,onClose:l}),ae.createElement(ep,{isOpen:o,onClose:i}),ae.createElement(ah,null),ae.createElement(np,null),ae.createElement(sp,null),ae.createElement(Qr,null),ae.createElement(ls,null),ae.createElement(lp,null),ae.createElement(cs,null)))})));async function ih(){const e=await bt.Z.tabs.getCurrent();await bt.Z.tabs.remove(e.id)}function lh(){const{userAgent:e,platform:t}=window.navigator;let n;return-1!==["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="mac":-1!==["iPhone"].indexOf(t)?n="iphone":-1!==["iPad","iPod"].indexOf(t)?n="ipad":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="windows":(/Android/.test(e)||/Linux/.test(t))&&(n="linux"),n}yt("initApi",(async(e,t)=>{var a;const o=Lt.Js?`chrome-extension://${chrome.runtime.id}`:window.location.origin;!function(e,t){Mu||(Mu=(0,Pu.K)(new Worker(new URL(n.p+n.u(219),n.b)),e));const a="function"==typeof t?t():t;Mu.init(a)}(t.apiUpdate,{origin:o}),null===(a=window.electron)||void 0===a||a.on(ds.DEEPLINK_TONCONNECT,(e=>{const t={platform:lh(),appName:"MyTonWallet",appVersion:"1.15.0",maxProtocolVersion:2,features:["SendTransaction",{name:"SendTransaction",maxMessages:4}]};Du("startSseConnection",e.url,t)})),await Du("waitDataPreload");const{currentAccountId:r}=vt();r&&Du("activateAccount",r,gr(e,r))})),yt("startTransfer",((e,t,n)=>{const{tokenSlug:a,toAddress:o,amount:r,comment:s}=n||{};ft($m(e,{state:Ct.Initial,error:void 0,toAddress:o,amount:r,comment:s,tokenSlug:a}))})),yt("changeTransferToken",((e,t,n)=>{let{tokenSlug:a}=n;ft($m(e,{tokenSlug:a}))})),yt("setTransferScreen",((e,t,n)=>{const{state:a}=n;ft($m(e,{state:a}))})),yt("submitTransferInitial",(async(e,t,n)=>{const{tokenSlug:a,toAddress:o,amount:r,comment:s,shouldEncrypt:i}=n,{decimals:l}=e.tokenInfo.bySlug[a];ft(Om(e,!0));const c=await Du("checkTransactionDraft",e.currentAccountId,a,o,Vo(r,l),s,i);if(e=Om(e=vt(),!1),!c||c.error)return null!=c&&c.addressName&&(e=$m(e,{toAddressName:c.addressName})),null!=c&&c.fee&&(e=$m(e,{fee:c.fee})),ft(e),void((null==c?void 0:c.error)===xu.z.InsufficientBalance?t.showDialog({message:"The network fee has slightly changed, try sending again."}):t.showError({error:null==c?void 0:c.error}));ft($m(e,{state:Ct.Confirm,error:void 0,toAddress:o,amount:r,comment:s,shouldEncrypt:i,fee:c.fee,toAddressName:c.addressName,tokenSlug:a}))})),yt("fetchFee",(async(e,t,n)=>{const{tokenSlug:a,toAddress:o,amount:r,comment:s,shouldEncrypt:i}=n,{decimals:l}=e.tokenInfo.bySlug[a],c=await Du("checkTransactionDraft",e.currentAccountId,a,o,Vo(r,l),s,i);null!=c&&c.fee&&ft($m(vt(),{fee:c.fee}))})),yt("submitTransferConfirm",((e,t)=>{ur(e,e.currentAccountId).isHardware?(t.resetHardwareWalletConnect(),e=$m(vt(),{state:Ct.ConnectHardware})):e=$m(e,{state:Ct.Password}),ft(e)})),yt("submitTransferPassword",(async(e,t,n)=>{const{password:a}=n,{toAddress:o,comment:r,amount:s,promiseId:i,tokenSlug:l,fee:c,shouldEncrypt:d}=e.currentTransfer,{decimals:u}=e.tokenInfo.bySlug[l];if(!await Du("verifyPassword",a))return void ft($m(vt(),{error:"Wrong password, please try again"}));if(ft($m(vt(),{isLoading:!0,error:void 0})),i)return void Du("confirmDappRequest",i,a);const m={accountId:e.currentAccountId,password:a,slug:l,toAddress:o,amount:Vo(s,u),comment:r,fee:c,shouldEncrypt:d},p=await Du("submitTransfer",m);ft($m(vt(),{isLoading:!1})),p&&!("error"in p)||t.showError({error:null==p?void 0:p.error})})),yt("submitTransferHardware",(async e=>{const{toAddress:t,comment:n,amount:o,promiseId:r,tokenSlug:s,fee:i,rawPayload:l,parsedPayload:c,stateInit:d}=e.currentTransfer,{decimals:u}=e.tokenInfo.bySlug[s],m=e.currentAccountId;if(ft($m(vt(),{isLoading:!0,error:void 0,state:Ct.ConfirmHardware})),r){const e={toAddress:t,amount:Vo(o,u),rawPayload:l,payload:c,stateInit:d};try{Du("confirmDappRequest",r,await km(m,[e]))}catch(e){e instanceof hm?ft($m(vt(),{isLoading:!1,error:"Canceled by the user"})):Du("cancelDappRequest",r,"Unknown error")}return}const p={accountId:e.currentAccountId,password:"",slug:s,toAddress:t,amount:Vo(o,u),comment:n,fee:i},h=void 0===await async function(e){const{accountId:t,slug:n,comment:o,fee:r}=e;let{toAddress:s,amount:i}=e;const{network:l}=Wo(t);await Du("waitLastTransfer",t);const[c,d,u]=await Promise.all([Cm(t),Du("fetchAddress",t),Du("getWalletSeqno",t)]);let m;if(n!==a.rH)({toAddress:s,amount:i,payload:m}=await async function(e,t,n,a,o,r){const{minterAddress:s}=await Du("resolveTokenBySlug",t),i=await Du("resolveTokenWalletAddress",e,n,s);if(s!==await Du("resolveTokenMinterAddress",e,i))throw new Error("Invalid contract");let l=null;r&&(l=(new Cu.Builder).storeUint(0,32).storeStringTail(r).endCell());const c={type:"jetton-transfer",queryId:0n,amount:BigInt(o),destination:Cu.Address.parse(a),responseDestination:Cu.Address.parse(n),customPayload:null,forwardAmount:zu,forwardPayload:l};return{amount:Fu.toString(),toAddress:i,payload:c}}(l,n,d,s,i,o));else if(o){if(!(0,gm.r)(o))throw Error("Unsupported format");m={type:"comment",text:o}}try{const a={base64:(await ym.signTransaction(c,{to:Cu.Address.parse(s),sendMode:Cu.SendMode.PAY_GAS_SEPARATELY+Cu.SendMode.IGNORE_ERRORS,seqno:u,timeout:Tm(),bounce:fm,amount:BigInt(i),payload:m})).toBoc().toString("base64"),seqno:u,params:{amount:e.amount,fromAddress:d,toAddress:e.toAddress,comment:o,fee:r,slug:n}};return await Du("sendSignedTransferMessage",t,a)}catch(e){return void(0,Xr.J)("submitLedgerTransfer",e)}}(p)?"Transfer error":void 0;ft($m(vt(),{isLoading:!1,error:h}))})),yt("clearTransferError",(e=>{ft($m(e,{error:void 0}))})),yt("cancelTransfer",(e=>{const{promiseId:t}=e.currentTransfer;t&&Du("cancelDappRequest",t,"Canceled by the user"),ft(Um(e))})),yt("fetchTokenTransactions",(async(e,t,n)=>{var a,o;const{limit:r}=n||{},s=n.slug;e=qm(e,!0),ft(e);let{txIdsBySlug:i}=(null===(a=mr(e))||void 0===a?void 0:a.transactions)||{},l=i&&i[s]||[];const c=(0,m.dF)(l,(e=>!Bo(e))),d=await Du("fetchTokenTransactionSlice",e.currentAccountId,s,c,r);if(e=qm(e=vt(),!1),!d)return void ft(e);const u=(0,m.ee)(d,"txId"),p=Object.keys(u),h=null===(o=mr(e))||void 0===o?void 0:o.transactions;i=(null==h?void 0:h.txIdsBySlug)||{},l=(0,m.Tw)(i[s]||[]).concat(p),e=Lm(e,{transactions:{...h,byTxId:{...(null==h?void 0:h.byTxId)||{},...u},txIdsBySlug:{...i,[s]:l}}}),ft(e)})),yt("fetchAllTransactions",(async(e,t,n)=>{var a;const{limit:o}=n||{};e=qm(e,!0),ft(e);const r=function(e,t){var n;const a=(null===(n=pr(e,t))||void 0===n||null===(n=n.transactions)||void 0===n?void 0:n.txIdsBySlug)||{};return(0,m.Q8)(a,(e=>(0,m.dF)(e,(e=>!Bo(e)))))}(e,e.currentAccountId),s=await Du("fetchAllTransactionSlice",e.currentAccountId,r,o);if(e=qm(e=vt(),!1),!s||!s.length)return void ft(e);const i=(0,m.ee)(s,"txId"),l=null===(a=mr(e))||void 0===a?void 0:a.transactions;let c={...null==l?void 0:l.txIdsBySlug};c=s.reduce(((e,t)=>{let{slug:n,txId:a}=t;return e[n]=(e[n]||[]).concat([a]),e}),c),c=(0,m.Q8)(c,(e=>(0,m.Tw)(e))),e=Lm(e,{transactions:{...l,byTxId:{...(null==l?void 0:l.byTxId)||{},...i},txIdsBySlug:c}}),ft(e)})),yt("setIsBackupRequired",((e,t,n)=>{let{isMnemonicChecked:a}=n;const{isBackupRequired:o}=mr(e);ft(Vm(e,{isBackupRequired:a?void 0:o}))})),yt("submitSignature",(async(e,t,n)=>{const{password:a}=n,{promiseId:o}=e.currentSignature;await Du("verifyPassword",a)?(await Du("confirmDappRequest",o,a),ft(Hm(vt(),{isSigned:!0}))):ft(Hm(vt(),{error:"Wrong password, please try again"}))})),yt("clearSignatureError",(e=>{ft(Hm(e,{error:void 0}))})),yt("cancelSignature",(e=>{const{promiseId:t}=e.currentSignature||{};t&&Du("cancelDappRequest",t,"Canceled by the user"),ft({...e,currentSignature:void 0})})),yt("addToken",((e,t,n)=>{var a,o,r,s,i,l,c,d,u;let{token:m}=n;const p=e.currentAccountId,{balances:h}=pr(e,p)||{},g=null!==(a=vr(e,p))&&void 0!==a?a:{};if(null!=h&&h.bySlug[m.slug])return;const v={name:m.name,symbol:m.symbol,slug:m.slug,decimals:m.decimals,image:m.image,keywords:m.keywords,quote:{price:null!==(o=m.price)&&void 0!==o?o:0,percentChange1h:0,percentChange24h:null!==(r=m.change24h)&&void 0!==r?r:0,percentChange7d:null!==(s=m.change7d)&&void 0!==s?s:0,percentChange30d:null!==(i=m.change30d)&&void 0!==i?i:0,history24h:null!==(l=m.history24h)&&void 0!==l?l:[],history7d:null!==(c=m.history7d)&&void 0!==c?c:[],history30d:null!==(d=m.history30d)&&void 0!==d?d:[]}};e=Wm(e=Bm(e,p,{balances:{...h,bySlug:{...null==h?void 0:h.bySlug,[v.slug]:"0"}}}),{byAccountId:{...e.settings.byAccountId,[p]:{...g,orderedSlugs:[...null!==(u=g.orderedSlugs)&&void 0!==u?u:[],v.slug]}}}),ft({...e,tokenInfo:{...e.tokenInfo,bySlug:{...e.tokenInfo.bySlug,[v.slug]:v}}}),t.toggleDisabledToken({slug:v.slug})})),yt("importToken",(async(e,t,n)=>{let{address:a}=n;ft(Wm(e,{importToken:{isLoading:!0,token:void 0}}));const o=await Du("importToken",e.currentAccountId,a);if(await(0,s.wO)(250),!o)return e=vt(),void ft(Wm(e,{importToken:{isLoading:!1,token:void 0}}));const{slug:r,symbol:i,name:l,image:c,decimals:d,keywords:u}=o,m={symbol:i,slug:r,amount:Lo("0",d),name:l,image:c,decimals:d,price:0,change24h:0,change7d:0,change30d:0,isDisabled:!1,keywords:u};e=vt(),ft(Wm(e,{importToken:{isLoading:!1,token:m}}))})),yt("resetImportToken",(e=>{ft(Wm(e,{importToken:{isLoading:!1,token:void 0}}))})),yt("fetchStakingState",(async e=>{const{currentAccountId:t}=e,n=await Du("getStakingState",t);n&&ft(Bm(vt(),t,{stakingBalance:n.amount+n.pendingDepositAmount,isUnstakeRequested:n.isUnstakeRequested},!0))})),yt("startStaking",((e,t,n)=>{const{isUnstaking:a}=n||{};ft(Fm(e,{state:a?At.UnstakeInitial:At.StakeInitial,error:void 0}))})),yt("fetchStakingFee",(async(e,t,n)=>{const{amount:o}=n,{currentAccountId:r}=e;if(!r)return;const s=await Du("checkStakeDraft",r,Vo(o,a.z9));s&&(e=Fm(e=vt(),{fee:s.fee}),ft(e))})),yt("submitStakingInitial",(async(e,t,n)=>{const{amount:o,isUnstaking:r}=n||{},{currentAccountId:s}=e;if(s){if(ft(Fm(e,{isLoading:!0,error:void 0})),r){const t=await Du("checkUnstakeDraft",s);e=Fm(e=vt(),{isLoading:!1}),t&&(e=t.error?Fm(e,{error:t.error}):Fm(e,{state:At.UnstakePassword,fee:t.fee,amount:o,error:void 0}))}else{const t=await Du("checkStakeDraft",s,Vo(o,a.z9));e=Fm(e=vt(),{isLoading:!1}),t&&(e=t.error?Fm(e,{error:t.error}):Fm(e,{state:At.StakePassword,fee:t.fee,amount:o,error:void 0}))}ft(e)}})),yt("submitStakingPassword",(async(e,t,n)=>{const{password:o,isUnstaking:r}=n,{amount:s,fee:i}=e.staking;if(await Du("verifyPassword",o)){if(ft(Fm(vt(),{isLoading:!0,error:void 0})),r){const n=await Du("submitUnstake",e.currentAccountId,o,i);e=Fm(e=vt(),{isLoading:!1}),n?e=Fm(e,{state:At.UnstakeComplete}):(t.showDialog({message:"Unstaking was unsuccessful. Try again later"}),e=vt())}else{const n=await Du("submitStake",e.currentAccountId,o,Vo(s,a.z9),i);e=Fm(e=vt(),{isLoading:!1}),n?e=Fm(e,{state:At.StakeComplete}):(t.showDialog({message:"Staking was unsuccessful. Try again later"}),e=vt())}ft(e)}else ft(Fm(vt(),{error:"Wrong password, please try again"}))})),yt("clearStakingError",(e=>{ft(Fm(e,{error:void 0}))})),yt("cancelStaking",(e=>{ft(function(e){return{...e,staking:{state:At.None}}}(e))})),yt("setStakingScreen",((e,t,n)=>{const{state:a}=n;ft(Fm(e,{state:a}))})),yt("fetchBackendStakingState",(async e=>{const t=await Du("getBackendStakingState",e.currentAccountId);t&&(e=zm(e=Bm(e=vt(),e.currentAccountId,{stakingHistory:t},!0),t.poolState,!0),ft(e))})),yt("submitDappConnectRequestConfirm",(async(e,t,n)=>{let{password:a,additionalAccountIds:o}=n;const{promiseId:r,permissions:s}=e.dappConnectRequest;if(null!=s&&s.isPasswordRequired&&(!a||!await Du("verifyPassword",a)))return e=vt(),void ft(jm(e,{error:"Wrong password, please try again"}));await Du("confirmDappRequestConnect",r,{password:a,additionalAccountIds:o}),e=Km(e=vt()),ft(e);const{currentAccountId:i}=e,l=await Du("getDapps",i);l&&(e=Qm(e=vt(),{dapps:l}),ft(e))})),yt("submitDappConnectRequestConfirmHardware",(async(e,t,n)=>{let{additionalAccountIds:a}=n;const{accountId:o,promiseId:r,proof:s}=e.dappConnectRequest;e=jm(e=vt(),{error:void 0,state:St.ConfirmHardware}),ft(e);try{const e=await async function(e,t){const n=await Cm(e),{timestamp:a,domain:o,payload:r}=t;return(await ym.getAddressProof(n,{domain:o,timestamp:a,payload:vm.from(r)})).signature.toString("base64")}(o,s);await Du("confirmDappRequestConnect",r,{signature:e,additionalAccountIds:a})}catch(e){return void ft(jm(vt(),{error:"Canceled by the user"}))}e=Km(e=vt()),ft(e);const{currentAccountId:i}=e,l=await Du("getDapps",i);l&&(e=Qm(e=vt(),{dapps:l}),ft(e))})),yt("cancelDappConnectRequestConfirm",(e=>{const{promiseId:t}=e.dappConnectRequest||{};t&&(Du("cancelDappRequest",t,"Canceled by the user"),e=Km(e=vt()),ft(e))})),yt("setDappConnectRequestState",((e,t,n)=>{let{state:a}=n;ft(jm(e,{state:a}))})),yt("cancelDappTransfer",(e=>{const{promiseId:t}=e.currentDappTransfer;t&&Du("cancelDappRequest",t,"Canceled by the user"),ft(Zm(e))})),yt("submitDappTransferPassword",(async(e,t,n)=>{let{password:a}=n;const{promiseId:o}=e.currentDappTransfer;if(o){if(!await Du("verifyPassword",a))return e=Ym(e=vt(),{error:"Wrong password, please try again"}),void ft(e);e=Ym(e=vt(),{isLoading:!0,error:void 0}),ft(e),Du("confirmDappRequest",o,a),e=Zm(e=vt()),ft(e)}})),yt("submitDappTransferHardware",(async e=>{const{promiseId:t,transactions:n}=e.currentDappTransfer;if(!t)return;e=Ym(e=vt(),{isLoading:!0,error:void 0,state:Ct.ConfirmHardware}),ft(e);const a=e.currentAccountId;try{Du("confirmDappRequest",t,await km(a,n))}catch(e){if(e instanceof hm)return void ft(Ym(vt(),{isLoading:!1,error:"Canceled by the user"}));Du("cancelDappRequest",t,"Unknown error")}e=Zm(e=vt()),ft(e)})),yt("getDapps",(async e=>{const{currentAccountId:t}=e,n=await Du("getDapps",t);n&&(e=Qm(e=vt(),{dapps:n}),ft(e))})),yt("deleteAllDapps",(e=>{const{currentAccountId:t}=e;Du("deleteAllDapps",t),e=function(e){return{...e,settings:{...e.settings,dapps:[]}}}(e=vt()),ft(e)})),yt("deleteDapp",((e,t,n)=>{const{currentAccountId:a}=e,{origin:o}=n;Du("deleteDapp",a,o),e=function(e,t){return{...e,settings:{...e.settings,dapps:e.settings.dapps.filter((e=>e.origin!==t))}}}(e=vt(),o),ft(e)})),yt("apiUpdate",((e,t,n)=>{switch(n.type){case"updateBalance":e=function(e,t,n,a){const{balances:o}=pr(e,t)||{};return(null==o?void 0:o.bySlug[n])===a?e:Bm(e,t,{balances:{...o,bySlug:{...null==o?void 0:o.bySlug,[n]:a}}})}(e,n.accountId,n.slug,n.balance),ft(e);break;case"updateStakingState":e=Bm(e,n.accountId,{stakingBalance:n.stakingState.amount+n.stakingState.pendingDepositAmount,isUnstakeRequested:n.stakingState.isUnstakeRequested},!0),ft(e);break;case"updateBackendStakingState":{const{poolState:t}=n.backendStakingState;e=zm(e,t,!0),ft(e);break}case"updateTokens":e=function(e,t){var n;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=null===(n=e.tokenInfo)||void 0===n?void 0:n.bySlug;return null!=r&&r[a.rH]&&!t[a.rH].quote.price||o&&r&&Im(r,t)?e:{...e,tokenInfo:{...e.tokenInfo,bySlug:{...r,...t}}}}(e,n.tokens,!0),ft(e);break;case"updateNfts":{const{accountId:t}=n,a=(0,m.ee)(n.nfts,"address");e=Bm(e=vt(),t,{nfts:{byAddress:a,orderedAddresses:Object.keys(a)}}),ft(e);break}case"nftSent":{const{accountId:t,nftAddress:a}=n;e=function(e,t,n){var a,o;const r=pr(e,t).nfts,s=(null!==(a=null==r?void 0:r.orderedAddresses)&&void 0!==a?a:[]).filter((e=>e!==n)),{[n]:i,...l}=null!==(o=null==r?void 0:r.byAddress)&&void 0!==o?o:{};return Bm(e,t,{nfts:{byAddress:l,orderedAddresses:s}})}(e,t,a),ft(e);break}case"nftReceived":{const{accountId:t,nft:a}=n;e=function(e,t,n){var a;const o=n.address,r=pr(e,t).nfts,s=(null!==(a=null==r?void 0:r.orderedAddresses)&&void 0!==a?a:[]).filter((e=>e!==o));return Bm(e,t,{nfts:{byAddress:{...null==r?void 0:r.byAddress,[o]:n},orderedAddresses:[o,...s]}})}(e,t,a),ft(e);break}case"nftPutUpForSale":{const{accountId:t,nftAddress:a}=n;e=function(e,t,n,a){const o=pr(e,t).nfts,r=null==o?void 0:o.byAddress[n];return o&&r?Bm(e,t,{nfts:{...o,byAddress:{...o.byAddress,[n]:{...r,isOnSale:!0}}}}):e}(e,t,a),ft(e);break}}t.initTokensOrder()}));const ch=new Audio("./incoming-transaction.mp3");function dh(){ch.src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",ch.muted=!0,ch.volume=1e-4,ch.play().then((()=>{ch.pause(),ch.volume=1,ch.currentTime=0,ch.muted=!1,requestAnimationFrame((()=>{ch.src="./incoming-transaction.mp3"}))}))}const uh=(0,s.Ds)((()=>{ch.play().catch((e=>{(0,Xr.J)("safePlay",e)}))}),1e3,!0,!1);yt("apiUpdate",((e,t,n)=>{switch(n.type){case"newLocalTransaction":{const{accountId:a,transaction:o,transaction:{amount:r,toAddress:s,txId:i}}=n,{decimals:l}=e.tokenInfo.bySlug[o.slug];e=Jm(e,a,o),-Lo(r,l)===e.currentTransfer.amount&&s===e.currentTransfer.toAddress&&(e=$m(e,{txId:i,state:Ct.Complete,isLoading:!1})),"stake"!==o.type&&"unstake"!==o.type||t.fetchStakingState(),ft(e);break}case"newTransactions":{const{transactions:r,accountId:s}=n;let i=!1,l=!1;e=function(e,t,n){const{transactions:a}=pr(e,t)||{};return Bm(e,t,{transactions:{...a||{byTxId:{}},isLoading:!1}})}(e,s);for(const t of r){var o;e=Jm(e,s,t),t.isIncoming&&e.settings.canPlaySounds&&Date.now()-t.timestamp<6e4&&(!e.settings.areTinyTransfersHidden||Math.abs(Lo(t.amount,(null===(o=e.tokenInfo)||void 0===o?void 0:o.bySlug[t.slug].decimals)||a.z9))>=a.gh)&&(i=!0),"stake"!==t.type&&"unstake"!==t.type||(l=!0)}i&&uh(),l&&t.fetchStakingState(),ft(e);break}case"updateTxComplete":{const{txId:t,localTxId:a,accountId:o}=n;e=function(e,t,n){const{transactions:a}=pr(e,t)||{};let{txIdsBySlug:o}=a||{};const{[n]:r,...s}=(null==a?void 0:a.byTxId)||{},i=null==r?void 0:r.slug;return i&&o&&o[i]&&(o={...o,[i]:o[i].filter((e=>e!==n))}),Bm(e,t,{transactions:{...a,byTxId:s,txIdsBySlug:o}})}(e,o,a),e.currentTransfer.txId===a&&(e=$m(e,{txId:t}));const{currentTransactionId:r}=pr(e,o)||{};r===a&&(e=Bm(e,o,{currentTransactionId:t})),ft(e)}}})),yt("apiUpdate",((e,t,n)=>{switch(n.type){case"createTransaction":{const{promiseId:t,amount:o,toAddress:r,fee:s,comment:i,rawPayload:l,parsedPayload:c,stateInit:d}=n;e=$m(e=Um(e),{state:Ct.Confirm,toAddress:r,amount:Lo(o),fee:s,comment:i,promiseId:t,tokenSlug:a.rH,rawPayload:l,parsedPayload:c,stateInit:d}),ft(e);break}case"createSignature":{const{promiseId:t,dataHex:a}=n;e=Hm(e=function(e){return{...e,currentSignature:void 0}}(e),{promiseId:t,dataHex:a}),ft(e);break}case"showError":{const{error:e}=n;t.showError({error:e});break}case"updateTonProxyState":{const{isEnabled:t}=n;ft({...e,settings:{...e.settings,isTonProxyEnabled:t}});break}case"updateTonMagicState":{const{isEnabled:t}=n;ft({...e,settings:{...e.settings,isTonMagicEnabled:t}});break}case"dappConnect":{const{promiseId:t,dapp:a,accountId:o,permissions:r,proof:s}=n,{isHardware:i}=ur(e,o);e=jm(e,{state:St.Info,promiseId:t,accountId:o,dapp:a,permissions:{isAddressRequired:r.address,isPasswordRequired:r.proof&&!i},proof:s}),ft(e);break}case"updateActiveDapp":{const{accountId:t,origin:a}=n;e=Bm(e,t,{activeDappOrigin:a}),ft(e);break}case"dappDisconnect":{const{accountId:t,origin:a}=n,o=pr(e,t);(null==o?void 0:o.activeDappOrigin)===a&&(e=Zm(e=Bm(e,t,{activeDappOrigin:void 0})),ft(e));break}case"dappSendTransactions":{const{promiseId:t,transactions:a,fee:o,accountId:r,dapp:s}=n;(async()=>{const{currentAccountId:n}=e;if(n!==r){const t=gr(e,r);await Du("activateAccount",r,t),ft({...vt(),currentAccountId:r})}const i=function(e){const t=ur(e,e.currentAccountId);return null==t?void 0:t.isHardware}(e)&&a.length>1?Ct.WarningHardware:Ct.Initial;e=Ym(e=Zm(e=vt()),{state:i,promiseId:t,transactions:a,fee:o,dapp:s}),ft(e)})();break}case"updateDeeplinkHookState":{const{isEnabled:t}=n;ft({...e,settings:{...e.settings,isDeeplinkHookEnabled:t}});break}case"prepareTransaction":{const{amount:t,toAddress:o,comment:r}=n;e=$m(e=Um(e),{state:Ct.Initial,toAddress:o,amount:Lo(t||"0"),comment:r,tokenSlug:a.rH}),ft(e)}}})),yt("init",((e,t)=>{const{documentElement:n}=document;Lt.cj?n.classList.add("is-ios"):Lt.wZ?n.classList.add("is-android"):Lt.jm?n.classList.add("is-macos"):Lt.qB?n.classList.add("is-windows"):Lt.m2&&n.classList.add("is-linux"),Lt.s$&&n.classList.add("is-safari"),Lt.FH&&n.classList.add("is-extension"),a.D$&&n.classList.add("is-electron"),(0,Lt.Mj)(),(0,Lt.sw)(),t.afterInit()})),yt("afterInit",(e=>{const{theme:t,animationLevel:n,langCode:o}=e.settings;vp(t),pp(n),vn(o),function(){const e=a.ee.replace(/\d+$/,""),t=Number((a.ee.match(/\d+$/)||[0])[0]);for(let n=0;n<t;n++)Gt(`${e}${0===n?"":n}`)}(),(Lt.s$||Lt.cj)&&document.addEventListener("click",dh,{once:!0})})),yt("showDialog",((e,t,n)=>{const{message:a}=n,o=[...e.dialogs],r=o.findIndex((e=>e===a));return-1!==r&&o.splice(r,1),o.push(a),{...e,dialogs:o}})),yt("dismissDialog",(e=>{const t=[...e.dialogs];return t.pop(),{...e,dialogs:t}})),yt("selectToken",(function(e,t){let{slug:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Lm(e,{currentTokenSlug:n})})),yt("showError",(function(e,t){let{error:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(n){case xu.z.InvalidAmount:t.showDialog({message:"Invalid amount"});break;case xu.z.InvalidToAddress:t.showDialog({message:"Invalid address"});break;case xu.z.InsufficientBalance:t.showDialog({message:"Insufficient balance"});break;case xu.z.DomainNotResolved:t.showDialog({message:"Domain is not connected to a wallet"});break;case xu.z.WalletNotInitialized:t.showDialog({message:"Encryption is not possible. The recipient is not a wallet or has no outgoing transactions."});break;case xu.D.PartialTransactionFailure:t.showDialog({message:"Not all transactions were sent successfully"});break;case xu.D.IncorrectDeviceTime:t.showDialog({message:"The time on your device is incorrect, sync it and try again"});break;case xu.D.UnsuccesfulTransfer:t.showDialog({message:"Transfer was unsuccessful. Try again later"});break;case xu.D.UnsupportedHardwarePayload:t.showDialog({message:"The hardware wallet does not support this data format"});break;case xu.D.Unexpected:case void 0:t.showDialog({message:"Unexpected"});break;default:t.showDialog({message:n})}})),yt("showNotification",((e,t,n)=>{const{message:a,icon:o}=n,r=[...e.notifications],s=r.findIndex((e=>e.message===a));return-1!==s&&r.splice(s,1),r.push({message:a,icon:o}),{...e,notifications:r}})),yt("dismissNotification",(e=>{const t=[...e.notifications];return t.pop(),{...e,notifications:t}})),yt("toggleTonProxy",((e,t,n)=>{let{isEnabled:a}=n;return Du("doProxy",a),{...e,settings:{...e.settings,isTonProxyEnabled:a}}})),yt("toggleTonMagic",((e,t,n)=>{let{isEnabled:a}=n;return Du("doMagic",a),{...e,settings:{...e.settings,isTonMagicEnabled:a}}})),yt("toggleDeeplinkHook",((e,t,n)=>{let{isEnabled:a}=n;return Du("doDeeplinkHook",a),{...e,settings:{...e.settings,isDeeplinkHookEnabled:a}}})),yt("signOut",(async(e,t,n)=>{const{isFromAllAccounts:a}=n||{},o=Object.keys(cr(e));if(a||1===o.length)await Du("resetAccounts"),wt().afterSignOut({isFromAllAccounts:!0}),wt().init();else{const t=e.currentAccountId,n=o.find((e=>e!==t)),a=gr(e,n);await Du("removeAccount",t,n,a),e=vt();const r=Ro(t),s=(0,m.CE)(e.accounts.byId,r),i=(0,m.CE)(e.byAccountId,r);e={...e,currentAccountId:n,accounts:{...e.accounts,byId:s},byAccountId:i},ft(e),wt().afterSignOut()}})),yt("showTransactionInfo",(function(e,t){let{txId:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Lm(e,{currentTransactionId:n})})),yt("closeTransactionInfo",(e=>Lm(e,{currentTransactionId:void 0}))),yt("addSavedAddress",((e,t,n)=>{let{address:a,name:o}=n;const{savedAddresses:r}=mr(e)||{};return Lm(e,{savedAddresses:{...r,[a]:o}})})),yt("removeFromSavedAddress",((e,t,n)=>{var a;let{address:o}=n;const{[o]:r,...s}=(null===(a=mr(e))||void 0===a?void 0:a.savedAddresses)||{};return Lm(e,{savedAddresses:s})})),yt("toggleTinyTransfersHidden",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,areTinyTransfersHidden:n}}})),yt("setCurrentTokenPeriod",((e,t,n)=>{let{period:a}=n;return Lm(e,{currentTokenPeriod:a})})),yt("addAccount",(async(e,t,n)=>{let{method:a,password:o}=n;!hr(e)||await Du("verifyPassword",o)?(e=xm(e=vt(),{password:o}),e={...e,isAddAccountModalOpen:void 0,appState:kt.Auth},ft(e),"importMnemonic"===a?t.startImportingWallet():t.startCreatingWallet()):ft(Pm(vt(),{isLoading:void 0,error:"Wrong password, please try again"}))})),yt("renameAccount",((e,t,n)=>{let{accountId:a,title:o}=n;return function(e,t,n){return Dm(e,t,{title:n})}(e,a,o)})),yt("clearAccountError",(e=>Pm(e,{error:void 0}))),yt("openAddAccountModal",(e=>({...e,isAddAccountModalOpen:!0}))),yt("closeAddAccountModal",(e=>({...e,isAddAccountModalOpen:void 0}))),yt("setTheme",((e,t,n)=>{let{theme:a}=n;return{...e,settings:{...e.settings,theme:a}}})),yt("setAnimationLevel",((e,t,n)=>{let{level:a}=n;return{...e,settings:{...e.settings,animationLevel:a}}})),yt("changeNetwork",((e,t,n)=>{let{network:a}=n;return{...e,settings:{...e.settings,isTestnet:"testnet"===a}}})),yt("openSettings",(e=>({...e,areSettingsOpen:!0}))),yt("closeSettings",(e=>e.currentAccountId?{...e,areSettingsOpen:!1}:e)),yt("openBackupWalletModal",(e=>({...e,isBackupWalletModalOpen:!0}))),yt("closeBackupWalletModal",(e=>({...e,isBackupWalletModalOpen:void 0}))),yt("openHardwareWalletModal",(async(e,t)=>{var n;const a=()=>{e=Rm(vt(),{hardwareState:Tt.Connecting}),ft({...e,isHardwareModalOpen:!0}),t.connectHardwareWallet()};if(Lu.FH){e=Rm(vt(),{hardwareState:Tt.WaitingForBrowser}),ft({...e,isHardwareModalOpen:!0}),await(0,s.wO)(500);const n=await It(),o=await bt.Z.windows.getCurrent();n=async()=>{await bt.Z.windows.update(o.id,{focused:!0}),await Em()?a():t.closeHardwareWalletModal()},bt.Z.tabs.onRemoved.addListener((t=>{t===e&&n()}))}else e=Rm(vt(),{hardwareState:Tt.Connect}),ft({...e,isHardwareModalOpen:!0});if(Lu.FH){e=Rm(vt(),{hardwareState:Tt.WaitingForBrowser}),ft({...e,isHardwareModalOpen:!0}),await(0,s.wO)(500);const n=await It(),o=await bt.Z.windows.getCurrent();!function(e,n){bt.Z.tabs.onRemoved.addListener((n=>{n===e&&(async()=>{await bt.Z.windows.update(o.id,{focused:!0}),await Em()?a():t.closeHardwareWalletModal()})()}))}(n)}})),yt("closeHardwareWalletModal",(e=>{ft({...e,isHardwareModalOpen:!1})})),yt("toggleInvestorView",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,isInvestorViewEnabled:n}}})),yt("changeLanguage",((e,t,n)=>{let{langCode:a}=n;return{...e,settings:{...e.settings,langCode:a}}})),yt("toggleCanPlaySounds",(function(e,t){let{isEnabled:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{...e,settings:{...e.settings,canPlaySounds:n}}})),yt("setLandscapeActionsActiveTabIndex",((e,t,n)=>{let{index:a}=n;return{...e,landscapeActionsActiveTabIndex:a}})),yt("closeSecurityWarning",(e=>({...e,settings:{...e.settings,isSecurityWarningHidden:!0}}))),yt("toggleTokensWithNoBalance",((e,t,n)=>{var a;let{isEnabled:o}=n;const r=e.currentAccountId,s=null!==(a=vr(e,r))&&void 0!==a?a:{},{enabledSlugs:i=[]}=s,l=o?[]:i;ft(Wm(e,{areTokensWithNoBalanceHidden:o,byAccountId:{...e.settings.byAccountId,[r]:{...s,enabledSlugs:l}}})),t.updateDisabledSlugs()})),yt("toggleTokensWithNoPrice",((e,t,n)=>{var a;let{isEnabled:o}=n;const r=e.currentAccountId,s=null!==(a=vr(e,r))&&void 0!==a?a:{},{enabledSlugs:i=[]}=s,l=o?[]:i;ft(Wm(e,{areTokensWithNoPriceHidden:o,byAccountId:{...e.settings.byAccountId,[r]:{...s,enabledSlugs:l}}})),t.updateDisabledSlugs()})),yt("toggleSortByValue",((e,t,n)=>{var a,o;let{isEnabled:r}=n;const s=e.currentAccountId,i=null!==(a=vr(e,s))&&void 0!==a?a:{},l=null!==(o=ar(e))&&void 0!==o?o:[],c=e=>{let{price:t,amount:n}=e;return t*n},d=l.slice().sort(((e,t)=>c(t)-c(e))).map((e=>{let{slug:t}=e;return t}));ft(Wm(e,{byAccountId:{...e.settings.byAccountId,[s]:{...i,orderedSlugs:d}},isSortByValueEnabled:r}))})),yt("initTokensOrder",((e,t)=>{var n,a;const o=e.currentAccountId,r=null!==(n=vr(e,o))&&void 0!==n?n:{},s=null!==(a=ar(e))&&void 0!==a?a:[],{orderedSlugs:i=[]}=r,l=s.map((e=>{let{slug:t}=e;return t})),c=(0,m.Tw)([...i,...l]);ft(Wm(e,{byAccountId:{...e.settings.byAccountId,[o]:{...r,orderedSlugs:c}}})),t.updateDisabledSlugs()})),yt("updateDisabledSlugs",(e=>{var t;const n=e.currentAccountId,a=null!==(t=vr(e,n))&&void 0!==t?t:{},o=function(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.currentAccountId,s=null!==(t=ar(e))&&void 0!==t?t:[],{enabledSlugs:i=[],disabledSlugs:l=[]}=null!==(n=vr(e,r))&&void 0!==n?n:{},c=s.filter((e=>{let{slug:t}=e;return!i.includes(t)})).filter((e=>{let{amount:t,price:n}=e;return a&&o?0===t||0===n:a?0===t:!!o&&0===n})).map((e=>{let{slug:t}=e;return t}));return(0,m.Tw)([...l,...c])}(e,e.settings.areTokensWithNoBalanceHidden,e.settings.areTokensWithNoPriceHidden);ft(Wm(e,{byAccountId:{...e.settings.byAccountId,[n]:{...a,disabledSlugs:o}}}))})),yt("sortTokens",((e,t,n)=>{let{orderedSlugs:a}=n;const o=e.currentAccountId,r=vr(e,o);ft(Wm(e,{byAccountId:{...e.settings.byAccountId,[o]:{...r,orderedSlugs:a}}}))})),yt("toggleDisabledToken",((e,t,n)=>{var a;let{slug:o}=n;const r=e.currentAccountId,s=null!==(a=vr(e,r))&&void 0!==a?a:{},{enabledSlugs:i=[],disabledSlugs:l=[]}=s,c=i.slice(),d=l.slice(),u=c.indexOf(o),m=d.indexOf(o);-1!==u?(c.splice(u,1),d.push(o)):-1!==m?(d.splice(m,1),c.push(o)):c.push(o),ft(Wm(e,{byAccountId:{...e.settings.byAccountId,[r]:{...s,enabledSlugs:c,disabledSlugs:d}}})),t.updateDisabledSlugs()})),yt("deleteToken",((e,t,n)=>{var a,o,r,s;let{slug:i}=n;const l=e.currentAccountId,{balances:c}=pr(e,l)||{};if(null==c||!c.bySlug[i])return;const{[i]:d,...u}={...null==c?void 0:c.bySlug},m=null!==(a=vr(e=Bm(e,l,{balances:{...c,bySlug:{...u}}}),l))&&void 0!==a?a:{},p=null===(o=m.orderedSlugs)||void 0===o?void 0:o.filter((e=>e!==i)),h=null===(r=m.enabledSlugs)||void 0===r?void 0:r.filter((e=>e!==i)),g=null===(s=m.disabledSlugs)||void 0===s?void 0:s.filter((e=>e!==i));e=Wm(e,{byAccountId:{...e.settings.byAccountId,[l]:{...m,orderedSlugs:p,enabledSlugs:h,disabledSlugs:g}}}),ft(e)})),yt("clearDappConnectRequestError",(e=>{e=function(e){return{...e,dappConnectRequest:{...e.dappConnectRequest,error:void 0}}}(e),ft(e)})),yt("showDappTransaction",((e,t,n)=>{const{transactionIdx:a}=n;e=Ym(e,{state:Ct.Confirm,viewTransactionOnIdx:a}),ft(e)})),yt("setDappTransferScreen",((e,t,n)=>{const{state:a}=n;e=Ym(e,{state:a}),ft(e)})),yt("submitDappTransferConfirm",((e,t)=>{ur(e,e.currentAccountId).isHardware?(t.resetHardwareWalletConnect(),e=Ym(vt(),{state:Ct.ConnectHardware})):e=Ym(e,{state:Ct.Password}),ft(e)})),yt("clearDappTransferError",(e=>{e=Ym(e,{error:void 0}),ft(e)}));const mh=20,ph=(0,s.P2)((()=>(0,s.Q8)(wh)),5e3,!1);let hh,gh=!1;function vh(e){return function(e){a.eM&&console.time("global-state-cache-read");const t=localStorage.getItem(a.Uh);let n=t?JSON.parse(t):void 0;if(a.eM&&console.timeEnd("global-state-cache-read"),n)try{!function(e,t){if(e.settings={...t.settings,...e.settings},8!==e.stateVersion){var n;if(e.byAccountId||(e.accounts={byId:{[a.fi]:{address:e.addresses.byAccountId[a.fi],title:"Main Account"}}},delete e.addresses,e.byAccountId={},e.byAccountId[a.fi]={isBackupRequired:Boolean(e.isBackupRequired),currentTokenSlug:e.currentTokenSlug,currentTokenPeriod:e.currentTokenPeriod},"balances"in e&&(e.byAccountId[a.fi].balances=e.balances.byAccountId[a.fi],delete e.balances),"transactions"in e&&(e.byAccountId[a.fi].transactions=e.transactions,delete e.transactions),"nfts"in e&&(e.byAccountId[a.fi].nfts=e.nfts,delete e.nfts),"savedAddresses"in e&&(e.byAccountId[a.fi].savedAddresses=e.savedAddresses,delete e.savedAddresses),"backupWallet"in e&&delete e.backupWallet),e.currentAccountId&&e.byAccountId[e.currentAccountId]||!Object.keys(e.byAccountId).length||(e.currentAccountId=Object.keys(e.byAccountId)[0]),!e.stateVersion&&e.accounts&&Object.keys(e.accounts).length>0&&(e.stateVersion=1),1===e.stateVersion)e.stateVersion=2,null!==(n=e.tokenInfo)&&void 0!==n&&n.bySlug&&(e.tokenInfo.bySlug={toncoin:{...e.tokenInfo.bySlug.toncoin,decimals:a.z9}}),e.byAccountId&&Object.values(e.byAccountId).forEach((e=>{var t;null!==(t=e.balances)&&void 0!==t&&t.bySlug&&(e.balances.bySlug=(0,m.ei)(e.balances.bySlug,["toncoin"])),e.transactions&&delete e.transactions}));if(2===e.stateVersion){e.stateVersion=3;const t="0",n=a.fi;if(e.accounts&&t in e.accounts.byId&&(e.currentAccountId===t&&(e.currentAccountId=n),e.accounts.byId[n]=e.accounts.byId[t],delete e.accounts.byId[t],e.byAccountId[n]=e.byAccountId[t],delete e.byAccountId[t]),e.accounts)for(const t of Object.keys(e.accounts.byId)){const n=$o({...Wo(t),network:"testnet"});e.accounts.byId[n]=(0,m.Xh)(e.accounts.byId[t]),e.byAccountId[n]={}}}if(3===e.stateVersion&&(e.stateVersion=4,e.byAccountId))for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].transactions;if(4===e.stateVersion&&(e.stateVersion=5,e.staking={...t.staking}),5===e.stateVersion&&(e.stateVersion=6,e.byAccountId))for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].transactions;if(6===e.stateVersion&&(e.stateVersion=7,e.byAccountId))for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].transactions;if(7===e.stateVersion){if(e.byAccountId)for(const t of Object.keys(e.byAccountId))delete e.byAccountId[t].backupWallet;e.stateVersion=8}}}(n,e)}catch(e){console.error(e),n=void 0}return{...e,...n}}(e)}function fh(){gh=!1,function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(t?st:rt).indexOf(e);-1!==n&&(t?st:rt).splice(n,1)}(ph),window.removeEventListener("blur",wh),hh&&hh()}function wh(){var e;if(a.sd)return;if(!gh||Qe())return;const t=vt(),n={...Am,...(0,m.ei)(t,["tokenInfo","settings","currentAccountId","stateVersion","landscapeActionsActiveTabIndex"]),accounts:{byId:(null===(e=t.accounts)||void 0===e?void 0:e.byId)||{}},byAccountId:yh(t)},o=JSON.stringify(n);localStorage.setItem(a.Uh,o)}function yh(e){return Object.entries(e.byAccountId).reduce(((e,t)=>{let[n,a]=t;e[n]=(0,m.ei)(a,["balances","isBackupRequired","currentTokenSlug","currentTokenPeriod","savedAddresses","stakingBalance","isUnstakeRequested","poolState","stakingHistory"]);const{txIdsBySlug:o,newestTransactionsBySlug:r}=a.transactions||{};if(o&&Object.keys(o).length){const t=(0,m.Q8)(o,(e=>e.filter((e=>!Bo(e))).slice(0,mh)));e[n].transactions={byTxId:(0,m.ei)(a.transactions.byTxId,Object.values(t).flat()),txIdsBySlug:t,newestTransactionsBySlug:r}}return e}),{})}a.sd||(yt("afterSignIn",((e,t)=>{mt({...e,appState:kt.Main}),setTimeout((()=>{t.restartAuth()}),320),gh||(gh=!0,hh=(0,s.Gq)((()=>{a.eM&&!localStorage.getItem(a.Uh)||wh()}),!0),window.addEventListener("blur",wh),function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?st:rt).push(e)}(ph))})),yt("afterSignOut",((e,t,n)=>{const{isFromAllAccounts:o}=n||{};if(o){if(mt({...e,state:kt.Auth}),localStorage.removeItem(a.Uh),!gh)return;fh()}})),yt("cancelCaching",(()=>{gh&&fh()})),yt("initLedgerPage",(e=>{e=Rm(e,{isRemoteTab:!0}),mt({...e,appState:kt.Ledger})}))),yt("init",((e,t)=>{const n=(0,m.Xh)(Am);if(window.location.href.includes(_t))return t.initLedgerPage(),n;const a=vh(n);return Boolean(a.currentAccountId)&&t.afterSignIn(),vh(n)||n})),a.eM&&console.log(">>> INIT"),wt().init(),wt().initApi(),a.eM&&console.log(">>> START INITIAL RENDER"),$e(ae.createElement(sh,null),document.getElementById("root")),a.eM&&console.log(">>> FINISH INITIAL RENDER"),document.addEventListener("dblclick",(()=>{console.warn("GLOBAL STATE",vt())}))},17980:(e,t,n)=>{n.d(t,{lT:()=>h,i$:()=>m,WM:()=>p});var a=n(93088),o=n(69118);console.error,new Map;let r="measure";function s(e){r=e}let i=[],l=[],c=[];const d=(u=()=>{const e=i;i=[],e.forEach((e=>{(0,a.Z)(e)})),Promise.resolve().then((()=>{s("mutate");const e=l;l=[],e.forEach((e=>{(0,a.Z)(e)}))})).then((()=>{s("measure");const e=[];for(const t of c)(0,a.Z)((()=>{const n=t();n&&e.push(n)}));return c=[],e})).then((e=>{s("mutate");for(const t of e)(0,a.Z)(t)})).then((()=>{s("measure")}))},(0,o.d0)((e=>{(0,o.T2)(e,!0)}),u));var u;function m(e){i.push(e),d()}function p(e){l.push(e),d()}function h(e){c.push(e),d()}},74095:(e,t,n)=>{n.d(t,{K:()=>s}),n(51086);var a=n(69995);function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*";this.target=e,this.onUpdate=t,this.channel=n,this.targetOrigin=a,o(this,"requestStates",new Map),o(this,"requestStatesByCallback",new Map)}destroy(){}init(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.postMessage({type:"init",args:t})}request(e){const{requestStates:t,requestStatesByCallback:n}=this,o=(0,a.Z)(),r={type:"callMethod",messageId:o,...e},s={messageId:o},i=new Promise(((e,t)=>{Object.assign(s,{resolve:e,reject:t})}));if("function"==typeof r.args[r.args.length-1]){r.withCallback=!0;const e=r.args.pop();s.callback=e,n.set(e,s)}return t.set(o,s),i.catch((()=>{})).finally((()=>{t.delete(o),s.callback&&n.delete(s.callback)})),this.postMessage(r),i}cancelCallback(e){e.isCanceled=!0;const{messageId:t}=this.requestStatesByCallback.get(e)||{};t&&this.postMessage({type:"cancelProgress",messageId:t})}onMessage(e){const{requestStates:t,channel:n}=this;if(e.channel===n)if("update"===e.type&&this.onUpdate&&this.onUpdate(e.update),"methodResponse"===e.type){const n=t.get(e.messageId);n&&(e.error?n.reject(e.error):n.resolve(e.response))}else if("methodCallback"===e.type){var a;const n=t.get(e.messageId);null==n||null===(a=n.callback)||void 0===a||a.call(n,...e.callbackArgs)}else if("unhandledError"===e.type){var o;throw new Error(null===(o=e.error)||void 0===o?void 0:o.message)}}postMessage(e){e.channel=this.channel,this.target===window?this.target.postMessage(e,this.targetOrigin):this.target.postMessage(e)}}function s(e,t,n,a){const o=new r(e,t,n,a);function s(e){let{data:t}=e;o.onMessage(t)}return e.addEventListener("message",s),o.destroy=()=>{e.removeEventListener("message",s)},o}},9933:(e,t,n)=>{function a(e,t){t((()=>{e()&&a(e,t)}))}n.d(t,{jt:()=>a}),n(17980)},33592:(e,t,n)=>{n.d(t,{S:()=>r});var a=n(69118);function o(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),r(e instanceof ErrorEvent?e.error||e.message:e.reason))}function r(e){console.error(e)}window.addEventListener("error",o),window.addEventListener("unhandledrejection",o),(0,a.P2)(window.alert,1e3)},60782:(e,t,n)=>{function a(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function o(e,t){return Object.keys(e).reduce(((n,a,o)=>(n[a]=t(e[a],a,o,e),n)),{})}function r(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function s(e,t){const n=new Set(t.map(String));return r(e,Object.keys(e).filter((e=>!n.has(e))))}function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";function a(e,t,n,a){const o=("function"==typeof n?n(e):e[n])||0,r=("function"==typeof n?n(t):t[n])||0;return a?o-r:r-o}if(Array.isArray(t)){const[o,r]=Array.isArray(n)?n:[n,n],[s,i]=t,l="asc"===o,c="asc"===r;return e.sort(((e,t)=>a(e,t,s,l)||a(e,t,i,c)))}const o="asc"===n;return e.sort(((e,n)=>a(e,n,t,o)))}function l(e){return Array.from(new Set(e))}function c(e){return e.filter(Boolean)}function d(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function u(e){return function(e){return"object"==typeof e&&null!==e}(e)?Array.isArray(e)?e.map(u):Object.keys(e).reduce(((t,n)=>(t[n]=u(e[n]),t)),{}):e}function m(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function p(e,t){const n=[];for(let a=e;a<t;)n.push(a++);return n}function h(e,t){return e.reduce(((e,n,a)=>(e[n]=Array.isArray(t)?t[a]:t,e)),{})}n.d(t,{AN:()=>h,CE:()=>s,Q8:()=>o,Tw:()=>l,Xh:()=>u,Xo:()=>i,dF:()=>m,ee:()=>a,ei:()=>r,et:()=>d,oA:()=>c,w6:()=>p})},41535:(e,t,n)=>{n.d(t,{J:()=>o});var a=n(83716);function o(e){if(a.eM){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];console.error(`[DEBUG][${e}]`,...n)}}},93088:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(83716),o=n(33592);const r=!a.ZT;function s(e,t,n){if(!r)return e();try{return e()}catch(e){return null==t||t(e),void(0,o.S)(e)}finally{null==n||n()}}},69118:(e,t,n)=>{function a(e,t){let n,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];n?(clearTimeout(n),n=void 0):a&&e(...s),n=self.setTimeout((()=>{o&&e(...s),n=void 0}),t)}}function o(e,t){let n,a,o,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){a=!0;for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];o=i,n||(r&&(a=!1,e(...o)),n=self.setInterval((()=>{if(!a)return self.clearInterval(n),void(n=void 0);a=!1,e(...o)}),t))}}function r(e){return s(v,e)}function s(e,t){let n,a=!1;return function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];n=r,a||(a=!0,e((()=>{a=!1,t(...n)})))}}function i(e,t){self.requestIdleCallback?self.requestIdleCallback(e,{timeout:t}):v(e)}n.d(t,{$6:()=>r,Ds:()=>a,Gq:()=>f,P2:()=>o,Q8:()=>i,T2:()=>g,d0:()=>s,wO:()=>l});const l=e=>new Promise((t=>{setTimeout((()=>t()),e)})),c=300;let d,u,m,p,h;function g(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d?d.add(e):(d=new Set([e]),requestAnimationFrame((()=>{const e=d;d=void 0,u=void 0,m&&(clearTimeout(m),m=void 0),e.forEach((e=>e()))}))),t&&(u?u.add(e):u=new Set([e]),m||(m=window.setTimeout((()=>{const e=u;d&&e.forEach(d.delete,d),u=void 0,m&&(clearTimeout(m),m=void 0),e.forEach((e=>e()))}),c)))}function v(e){p?p.push(e):(p=[e],Promise.resolve().then((()=>{const e=p;p=void 0,e.forEach((e=>e()))})))}function f(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h||(h=[],self.addEventListener("beforeunload",(()=>{h.forEach((e=>e()))}))),t?h.push(e):h.unshift(e),()=>{h=h.filter((t=>t!==e))}}},97184:(e,t,n)=>{n.d(t,{$b:()=>h,FH:()=>g,Js:()=>v,Mj:()=>N,Vy:()=>y,cL:()=>E,cj:()=>u,jm:()=>l,lz:()=>k,m2:()=>d,qB:()=>c,qV:()=>b,s$:()=>p,sR:()=>w,sw:()=>C,wZ:()=>m});var a,o=n(17980),r=n(83716);const s=1e3,i=function(){const{userAgent:e,platform:t}=window.navigator;return-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":void 0}(),l="macOS"===i,c="Windows"===i,d="Linux"===i,u="iOS"===i,m="Android"===i,p=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),h=window.matchMedia("(pointer: coarse)").matches,g=Boolean(window.chrome&&chrome.runtime&&chrome.runtime.id),v=Boolean(null===(a=window.chrome)||void 0===a?void 0:a.system),f=g&&!v,w="en",y=function(){const e=navigator.language.startsWith("zh")?navigator.language.endsWith("TW")||navigator.language.endsWith("HK")?"zh-Hant":"zh-Hans":navigator.language.substring(0,2);return r.gX.some((t=>{let{langCode:n}=t;return n===e}))?e:"en"}(),E=window.devicePixelRatio||1,b=r.D$||g,k=!(u||m||f);function N(){const e=document.createElement("div");e.style.cssText="overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return e.remove(),document.documentElement.style.setProperty("--scrollbar-width",`${t}px`),t}function C(){const{documentElement:e}=document;setTimeout((()=>{const t=parseInt(getComputedStyle(e).getPropertyValue("--safe-area-bottom-value"),10);!Number.isNaN(t)&&t>0&&(0,o.WM)((()=>{e.classList.add("with-safe-area-bottom")}))}),s)}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.m=a,e=[],r.O=(t,n,a,o)=>{if(!n){var s=1/0;for(d=0;d<e.length;d++){for(var[n,a,o]=e[d],i=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+"."+{60:"99fbd3b38685ff028f81",219:"e3a99cee1c7a93d2d762",262:"7a99fdaab1a61d475377"}[e]+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="mytonwallet:",r.l=(e,a,o,s)=>{if(t[e])t[e].push(a);else{var i,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+o){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",n+o),i.src=e),t[e]=[a];var m=(n,a)=>{i.onerror=i.onload=null,clearTimeout(p);var o=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(a))),n)return n(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!e;)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=document.baseURI||self.location.href;var e={179:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=o);var s=r.p+r.u(t),i=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,a[1](i)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[s,i,l]=n,c=0;if(s.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)var d=l(r)}for(t&&t(n);c<s.length;c++)o=s[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(d)},n=self.webpackChunkmytonwallet=self.webpackChunkmytonwallet||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=r.O(void 0,[780,391,121,412,220],(()=>r(84991)));s=r.O(s)})();
//# sourceMappingURL=main.24941f74955f035f0d77.js.map